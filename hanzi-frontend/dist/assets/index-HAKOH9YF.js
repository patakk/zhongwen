(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Rp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ue={},yo=[],Ni=()=>{},mb=()=>!1,kh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jp=t=>t.startsWith("onUpdate:"),Gn=Object.assign,Bp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},gb=Object.prototype.hasOwnProperty,Ie=(t,e)=>gb.call(t,e),ue=Array.isArray,bo=t=>hc(t)==="[object Map]",Sh=t=>hc(t)==="[object Set]",u0=t=>hc(t)==="[object Date]",ye=t=>typeof t=="function",gn=t=>typeof t=="string",si=t=>typeof t=="symbol",Xe=t=>t!==null&&typeof t=="object",Yg=t=>(Xe(t)||ye(t))&&ye(t.then)&&ye(t.catch),Kg=Object.prototype.toString,hc=t=>Kg.call(t),vb=t=>hc(t).slice(8,-1),Xg=t=>hc(t)==="[object Object]",zp=t=>gn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fl=Rp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_h=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},yb=/-(\w)/g,qr=_h(t=>t.replace(yb,(e,n)=>n?n.toUpperCase():"")),bb=/\B([A-Z])/g,Ks=_h(t=>t.replace(bb,"-$1").toLowerCase()),Ah=_h(t=>t.charAt(0).toUpperCase()+t.slice(1)),zf=_h(t=>t?`on${Ah(t)}`:""),zs=(t,e)=>!Object.is(t,e),Iu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Jg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Ju=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let h0;const Ch=()=>h0||(h0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xr(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=gn(r)?Sb(r):xr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(gn(t)||Xe(t))return t}const wb=/;(?![^(]*\))/g,xb=/:([^]+)/,kb=/\/\*[^]*?\*\//g;function Sb(t){const e={};return t.replace(kb,"").split(wb).forEach(n=>{if(n){const r=n.split(xb);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function we(t){let e="";if(gn(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=we(t[n]);r&&(e+=r+" ")}else if(Xe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const _b="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ab=Rp(_b);function Qg(t){return!!t||t===""}function Cb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Lh(t[r],e[r]);return n}function Lh(t,e){if(t===e)return!0;let n=u0(t),r=u0(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=si(t),r=si(e),n||r)return t===e;if(n=ue(t),r=ue(e),n||r)return n&&r?Cb(t,e):!1;if(n=Xe(t),r=Xe(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Lh(t[a],e[a]))return!1}}return String(t)===String(e)}function Lb(t,e){return t.findIndex(n=>Lh(n,e))}const Zg=t=>!!(t&&t.__v_isRef===!0),Wt=t=>gn(t)?t:t==null?"":ue(t)||Xe(t)&&(t.toString===Kg||!ye(t.toString))?Zg(t)?Wt(t.value):JSON.stringify(t,t2,2):String(t),t2=(t,e)=>Zg(e)?t2(t,e.value):bo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[qf(r,s)+" =>"]=i,n),{})}:Sh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>qf(n))}:si(e)?qf(e):Xe(e)&&!ue(e)&&!Xg(e)?String(e):e,qf=(t,e="")=>{var n;return si(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ur;class e2{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ur,!e&&ur&&(this.index=(ur.scopes||(ur.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ur;try{return ur=this,e()}finally{ur=n}}}on(){++this._on===1&&(this.prevScope=ur,ur=this)}off(){this._on>0&&--this._on===0&&(ur=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function n2(t){return new e2(t)}function Pb(){return ur}let Ye;const Wf=new WeakSet;class r2{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ur&&ur.active&&ur.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Wf.has(this)&&(Wf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||s2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,f0(this),a2(this);const e=Ye,n=ii;Ye=this,ii=!0;try{return this.fn()}finally{o2(this),Ye=e,ii=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Up(e);this.deps=this.depsTail=void 0,f0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Wf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fd(this)&&this.run()}get dirty(){return Fd(this)}}let i2=0,Ol,Rl;function s2(t,e=!1){if(t.flags|=8,e){t.next=Rl,Rl=t;return}t.next=Ol,Ol=t}function qp(){i2++}function Wp(){if(--i2>0)return;if(Rl){let e=Rl;for(Rl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ol;){let e=Ol;for(Ol=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function a2(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function o2(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Up(r),Nb(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Fd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(l2(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function l2(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Vl)||(t.globalVersion=Vl,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Fd(t))))return;t.flags|=2;const e=t.dep,n=Ye,r=ii;Ye=t,ii=!0;try{a2(t);const i=t.fn(t._value);(e.version===0||zs(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ye=n,ii=r,o2(t),t.flags&=-3}}function Up(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Up(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Nb(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ii=!0;const c2=[];function is(){c2.push(ii),ii=!1}function ss(){const t=c2.pop();ii=t===void 0?!0:t}function f0(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ye;Ye=void 0;try{e()}finally{Ye=n}}}let Vl=0;class Mb{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $p{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ye||!ii||Ye===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ye)n=this.activeLink=new Mb(Ye,this),Ye.deps?(n.prevDep=Ye.depsTail,Ye.depsTail.nextDep=n,Ye.depsTail=n):Ye.deps=Ye.depsTail=n,u2(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ye.depsTail,n.nextDep=void 0,Ye.depsTail.nextDep=n,Ye.depsTail=n,Ye.deps===n&&(Ye.deps=r)}return n}trigger(e){this.version++,Vl++,this.notify(e)}notify(e){qp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Wp()}}}function u2(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)u2(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Od=new WeakMap,xa=Symbol(""),Rd=Symbol(""),Gl=Symbol("");function Un(t,e,n){if(ii&&Ye){let r=Od.get(t);r||Od.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new $p),i.map=r,i.key=n),i.track()}}function Zi(t,e,n,r,i,s){const a=Od.get(t);if(!a){Vl++;return}const o=l=>{l&&l.trigger()};if(qp(),e==="clear")a.forEach(o);else{const l=ue(t),c=l&&zp(n);if(l&&n==="length"){const u=Number(r);a.forEach((d,p)=>{(p==="length"||p===Gl||!si(p)&&p>=u)&&o(d)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),c&&o(a.get(Gl)),e){case"add":l?c&&o(a.get("length")):(o(a.get(xa)),bo(t)&&o(a.get(Rd)));break;case"delete":l||(o(a.get(xa)),bo(t)&&o(a.get(Rd)));break;case"set":bo(t)&&o(a.get(xa));break}}Wp()}function so(t){const e=Ee(t);return e===t?e:(Un(e,"iterate",Gl),jr(t)?e:e.map(In))}function Ph(t){return Un(t=Ee(t),"iterate",Gl),t}const Db={__proto__:null,[Symbol.iterator](){return Uf(this,Symbol.iterator,In)},concat(...t){return so(this).concat(...t.map(e=>ue(e)?so(e):e))},entries(){return Uf(this,"entries",t=>(t[1]=In(t[1]),t))},every(t,e){return Vi(this,"every",t,e,void 0,arguments)},filter(t,e){return Vi(this,"filter",t,e,n=>n.map(In),arguments)},find(t,e){return Vi(this,"find",t,e,In,arguments)},findIndex(t,e){return Vi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Vi(this,"findLast",t,e,In,arguments)},findLastIndex(t,e){return Vi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Vi(this,"forEach",t,e,void 0,arguments)},includes(...t){return $f(this,"includes",t)},indexOf(...t){return $f(this,"indexOf",t)},join(t){return so(this).join(t)},lastIndexOf(...t){return $f(this,"lastIndexOf",t)},map(t,e){return Vi(this,"map",t,e,void 0,arguments)},pop(){return xl(this,"pop")},push(...t){return xl(this,"push",t)},reduce(t,...e){return d0(this,"reduce",t,e)},reduceRight(t,...e){return d0(this,"reduceRight",t,e)},shift(){return xl(this,"shift")},some(t,e){return Vi(this,"some",t,e,void 0,arguments)},splice(...t){return xl(this,"splice",t)},toReversed(){return so(this).toReversed()},toSorted(t){return so(this).toSorted(t)},toSpliced(...t){return so(this).toSpliced(...t)},unshift(...t){return xl(this,"unshift",t)},values(){return Uf(this,"values",In)}};function Uf(t,e,n){const r=Ph(t),i=r[e]();return r!==t&&!jr(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Tb=Array.prototype;function Vi(t,e,n,r,i,s){const a=Ph(t),o=a!==t&&!jr(t),l=a[e];if(l!==Tb[e]){const d=l.apply(t,s);return o?In(d):d}let c=n;a!==t&&(o?c=function(d,p){return n.call(this,In(d),p,t)}:n.length>2&&(c=function(d,p){return n.call(this,d,p,t)}));const u=l.call(a,c,r);return o&&i?i(u):u}function d0(t,e,n,r){const i=Ph(t);let s=n;return i!==t&&(jr(t)?n.length>3&&(s=function(a,o,l){return n.call(this,a,o,l,t)}):s=function(a,o,l){return n.call(this,a,In(o),l,t)}),i[e](s,...r)}function $f(t,e,n){const r=Ee(t);Un(r,"iterate",Gl);const i=r[e](...n);return(i===-1||i===!1)&&Gp(n[0])?(n[0]=Ee(n[0]),r[e](...n)):i}function xl(t,e,n=[]){is(),qp();const r=Ee(t)[e].apply(t,n);return Wp(),ss(),r}const Eb=Rp("__proto__,__v_isRef,__isVue"),h2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(si));function Ib(t){si(t)||(t=String(t));const e=Ee(this);return Un(e,"has",t),e.hasOwnProperty(t)}class f2{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?$b:g2:s?m2:p2).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ue(e);if(!i){let l;if(a&&(l=Db[n]))return l;if(n==="hasOwnProperty")return Ib}const o=Reflect.get(e,n,Vn(e)?e:r);return(si(n)?h2.has(n):Eb(n))||(i||Un(e,"get",n),s)?o:Vn(o)?a&&zp(n)?o:o.value:Xe(o)?i?y2(o):fc(o):o}}class d2 extends f2{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=qs(s);if(!jr(r)&&!qs(r)&&(s=Ee(s),r=Ee(r)),!ue(e)&&Vn(s)&&!Vn(r))return l?!1:(s.value=r,!0)}const a=ue(e)&&zp(n)?Number(n)<e.length:Ie(e,n),o=Reflect.set(e,n,r,Vn(e)?e:i);return e===Ee(i)&&(a?zs(r,s)&&Zi(e,"set",n,r):Zi(e,"add",n,r)),o}deleteProperty(e,n){const r=Ie(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Zi(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!si(n)||!h2.has(n))&&Un(e,"has",n),r}ownKeys(e){return Un(e,"iterate",ue(e)?"length":xa),Reflect.ownKeys(e)}}class Fb extends f2{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ob=new d2,Rb=new Fb,jb=new d2(!0);const jd=t=>t,gu=t=>Reflect.getPrototypeOf(t);function Bb(t,e,n){return function(...r){const i=this.__v_raw,s=Ee(i),a=bo(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=i[t](...r),u=n?jd:e?Qu:In;return!e&&Un(s,"iterate",l?Rd:xa),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:o?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function vu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function zb(t,e){const n={get(i){const s=this.__v_raw,a=Ee(s),o=Ee(i);t||(zs(i,o)&&Un(a,"get",i),Un(a,"get",o));const{has:l}=gu(a),c=e?jd:t?Qu:In;if(l.call(a,i))return c(s.get(i));if(l.call(a,o))return c(s.get(o));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Un(Ee(i),"iterate",xa),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,a=Ee(s),o=Ee(i);return t||(zs(i,o)&&Un(a,"has",i),Un(a,"has",o)),i===o?s.has(i):s.has(i)||s.has(o)},forEach(i,s){const a=this,o=a.__v_raw,l=Ee(o),c=e?jd:t?Qu:In;return!t&&Un(l,"iterate",xa),o.forEach((u,d)=>i.call(s,c(u),c(d),a))}};return Gn(n,t?{add:vu("add"),set:vu("set"),delete:vu("delete"),clear:vu("clear")}:{add(i){!e&&!jr(i)&&!qs(i)&&(i=Ee(i));const s=Ee(this);return gu(s).has.call(s,i)||(s.add(i),Zi(s,"add",i,i)),this},set(i,s){!e&&!jr(s)&&!qs(s)&&(s=Ee(s));const a=Ee(this),{has:o,get:l}=gu(a);let c=o.call(a,i);c||(i=Ee(i),c=o.call(a,i));const u=l.call(a,i);return a.set(i,s),c?zs(s,u)&&Zi(a,"set",i,s):Zi(a,"add",i,s),this},delete(i){const s=Ee(this),{has:a,get:o}=gu(s);let l=a.call(s,i);l||(i=Ee(i),l=a.call(s,i)),o&&o.call(s,i);const c=s.delete(i);return l&&Zi(s,"delete",i,void 0),c},clear(){const i=Ee(this),s=i.size!==0,a=i.clear();return s&&Zi(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Bb(i,t,e)}),n}function Hp(t,e){const n=zb(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ie(n,i)&&i in r?n:r,i,s)}const qb={get:Hp(!1,!1)},Wb={get:Hp(!1,!0)},Ub={get:Hp(!0,!1)};const p2=new WeakMap,m2=new WeakMap,g2=new WeakMap,$b=new WeakMap;function Hb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vb(t){return t.__v_skip||!Object.isExtensible(t)?0:Hb(vb(t))}function fc(t){return qs(t)?t:Vp(t,!1,Ob,qb,p2)}function v2(t){return Vp(t,!1,jb,Wb,m2)}function y2(t){return Vp(t,!0,Rb,Ub,g2)}function Vp(t,e,n,r,i){if(!Xe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Vb(t);if(s===0)return t;const a=i.get(t);if(a)return a;const o=new Proxy(t,s===2?r:n);return i.set(t,o),o}function wo(t){return qs(t)?wo(t.__v_raw):!!(t&&t.__v_isReactive)}function qs(t){return!!(t&&t.__v_isReadonly)}function jr(t){return!!(t&&t.__v_isShallow)}function Gp(t){return t?!!t.__v_raw:!1}function Ee(t){const e=t&&t.__v_raw;return e?Ee(e):t}function b2(t){return!Ie(t,"__v_skip")&&Object.isExtensible(t)&&Jg(t,"__v_skip",!0),t}const In=t=>Xe(t)?fc(t):t,Qu=t=>Xe(t)?y2(t):t;function Vn(t){return t?t.__v_isRef===!0:!1}function te(t){return w2(t,!1)}function Gb(t){return w2(t,!0)}function w2(t,e){return Vn(t)?t:new Yb(t,e)}class Yb{constructor(e,n){this.dep=new $p,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ee(e),this._value=n?e:In(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||jr(e)||qs(e);e=r?e:Ee(e),zs(e,n)&&(this._rawValue=e,this._value=r?e:In(e),this.dep.trigger())}}function xo(t){return Vn(t)?t.value:t}const Kb={get:(t,e,n)=>e==="__v_raw"?t:xo(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Vn(i)&&!Vn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function x2(t){return wo(t)?t:new Proxy(t,Kb)}class Xb{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new $p(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ye!==this)return s2(this,!0),!0}get value(){const e=this.dep.track();return l2(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Jb(t,e,n=!1){let r,i;return ye(t)?r=t:(r=t.get,i=t.set),new Xb(r,i,n)}const yu={},Zu=new WeakMap;let ma;function Qb(t,e=!1,n=ma){if(n){let r=Zu.get(n);r||Zu.set(n,r=[]),r.push(t)}}function Zb(t,e,n=Ue){const{immediate:r,deep:i,once:s,scheduler:a,augmentJob:o,call:l}=n,c=L=>i?L:jr(L)||i===!1||i===0?ts(L,1):ts(L);let u,d,p,f,w=!1,v=!1;if(Vn(t)?(d=()=>t.value,w=jr(t)):wo(t)?(d=()=>c(t),w=!0):ue(t)?(v=!0,w=t.some(L=>wo(L)||jr(L)),d=()=>t.map(L=>{if(Vn(L))return L.value;if(wo(L))return c(L);if(ye(L))return l?l(L,2):L()})):ye(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){is();try{p()}finally{ss()}}const L=ma;ma=u;try{return l?l(t,3,[f]):t(f)}finally{ma=L}}:d=Ni,e&&i){const L=d,j=i===!0?1/0:i;d=()=>ts(L(),j)}const k=Pb(),y=()=>{u.stop(),k&&k.active&&Bp(k.effects,u)};if(s&&e){const L=e;e=(...j)=>{L(...j),y()}}let x=v?new Array(t.length).fill(yu):yu;const N=L=>{if(!(!(u.flags&1)||!u.dirty&&!L))if(e){const j=u.run();if(i||w||(v?j.some((it,J)=>zs(it,x[J])):zs(j,x))){p&&p();const it=ma;ma=u;try{const J=[j,x===yu?void 0:v&&x[0]===yu?[]:x,f];l?l(e,3,J):e(...J),x=j}finally{ma=it}}}else u.run()};return o&&o(N),u=new r2(d),u.scheduler=a?()=>a(N,!1):N,f=L=>Qb(L,!1,u),p=u.onStop=()=>{const L=Zu.get(u);if(L){if(l)l(L,4);else for(const j of L)j();Zu.delete(u)}},e?r?N(!0):x=u.run():a?a(N.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function ts(t,e=1/0,n){if(e<=0||!Xe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Vn(t))ts(t.value,e,n);else if(ue(t))for(let r=0;r<t.length;r++)ts(t[r],e,n);else if(Sh(t)||bo(t))t.forEach(r=>{ts(r,e,n)});else if(Xg(t)){for(const r in t)ts(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ts(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dc(t,e,n,r){try{return r?t(...r):t()}catch(i){Nh(i,e,n)}}function Ti(t,e,n,r){if(ye(t)){const i=dc(t,e,n,r);return i&&Yg(i)&&i.catch(s=>{Nh(s,e,n)}),i}if(ue(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ti(t[s],e,n,r));return i}}function Nh(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Ue;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}o=o.parent}if(s){is(),dc(s,null,10,[t,l,c]),ss();return}}tw(t,n,i,r,a)}function tw(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const tr=[];let Si=-1;const ko=[];let Es=null,ho=0;const k2=Promise.resolve();let th=null;function Or(t){const e=th||k2;return t?e.then(this?t.bind(this):t):e}function ew(t){let e=Si+1,n=tr.length;for(;e<n;){const r=e+n>>>1,i=tr[r],s=Yl(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Yp(t){if(!(t.flags&1)){const e=Yl(t),n=tr[tr.length-1];!n||!(t.flags&2)&&e>=Yl(n)?tr.push(t):tr.splice(ew(e),0,t),t.flags|=1,S2()}}function S2(){th||(th=k2.then(A2))}function nw(t){ue(t)?ko.push(...t):Es&&t.id===-1?Es.splice(ho+1,0,t):t.flags&1||(ko.push(t),t.flags|=1),S2()}function p0(t,e,n=Si+1){for(;n<tr.length;n++){const r=tr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;tr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function _2(t){if(ko.length){const e=[...new Set(ko)].sort((n,r)=>Yl(n)-Yl(r));if(ko.length=0,Es){Es.push(...e);return}for(Es=e,ho=0;ho<Es.length;ho++){const n=Es[ho];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Es=null,ho=0}}const Yl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function A2(t){try{for(Si=0;Si<tr.length;Si++){const e=tr[Si];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),dc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Si<tr.length;Si++){const e=tr[Si];e&&(e.flags&=-2)}Si=-1,tr.length=0,_2(),th=null,(tr.length||ko.length)&&A2()}}let On=null,C2=null;function eh(t){const e=On;return On=t,C2=t&&t.type.__scopeId||null,e}function ke(t,e=On,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&L0(-1);const s=eh(e);let a;try{a=t(...i)}finally{eh(s),r._d&&L0(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ke(t,e){if(On===null)return t;const n=Eh(On),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Ue]=e[i];s&&(ye(s)&&(s={mounted:s,updated:s}),s.deep&&ts(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function fa(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(is(),Ti(l,n,8,[t.el,o,t,e]),ss())}}const L2=Symbol("_vte"),rw=t=>t.__isTeleport,jl=t=>t&&(t.disabled||t.disabled===""),m0=t=>t&&(t.defer||t.defer===""),g0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,v0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Bd=(t,e)=>{const n=t&&t.to;return gn(n)?e?e(n):null:n},P2={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,c){const{mc:u,pc:d,pbc:p,o:{insert:f,querySelector:w,createText:v,createComment:k}}=c,y=jl(e.props);let{shapeFlag:x,children:N,dynamicChildren:L}=e;if(t==null){const j=e.el=v(""),it=e.anchor=v("");f(j,n,r),f(it,n,r);const J=(nt,mt)=>{x&16&&(i&&i.isCE&&(i.ce._teleportTarget=nt),u(N,nt,mt,i,s,a,o,l))},G=()=>{const nt=e.target=Bd(e.props,w),mt=N2(nt,e,v,f);nt&&(a!=="svg"&&g0(nt)?a="svg":a!=="mathml"&&v0(nt)&&(a="mathml"),y||(J(nt,mt),Fu(e,!1)))};y&&(J(n,it),Fu(e,!0)),m0(e.props)?Zn(()=>{G(),e.el.__isMounted=!0},s):G()}else{if(m0(e.props)&&!t.el.__isMounted){Zn(()=>{P2.process(t,e,n,r,i,s,a,o,l,c),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const j=e.anchor=t.anchor,it=e.target=t.target,J=e.targetAnchor=t.targetAnchor,G=jl(t.props),nt=G?n:it,mt=G?j:J;if(a==="svg"||g0(it)?a="svg":(a==="mathml"||v0(it))&&(a="mathml"),L?(p(t.dynamicChildren,L,nt,i,s,a,o),Zp(t,e,!0)):l||d(t,e,nt,mt,i,s,a,o,!1),y)G?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):bu(e,n,j,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const E=e.target=Bd(e.props,w);E&&bu(e,E,null,c,0)}else G&&bu(e,it,J,c,1);Fu(e,y)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:c,targetAnchor:u,target:d,props:p}=t;if(d&&(i(c),i(u)),s&&i(l),a&16){const f=s||!jl(p);for(let w=0;w<o.length;w++){const v=o[w];r(v,e,n,f,!!v.dynamicChildren)}}},move:bu,hydrate:iw};function bu(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(a,e,n),(!d||jl(u))&&l&16)for(let p=0;p<c.length;p++)i(c[p],e,n,2);d&&r(o,e,n)}function iw(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:c,createText:u}},d){const p=e.target=Bd(e.props,l);if(p){const f=jl(e.props),w=p._lpa||p.firstChild;if(e.shapeFlag&16)if(f)e.anchor=d(a(t),e,o(t),n,r,i,s),e.targetStart=w,e.targetAnchor=w&&a(w);else{e.anchor=a(t);let v=w;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,p._lpa=e.targetAnchor&&a(e.targetAnchor);break}}v=a(v)}e.targetAnchor||N2(p,e,u,c),d(w&&a(w),e,p,n,r,i,s)}Fu(e,f)}return e.anchor&&a(e.anchor)}const sw=P2;function Fu(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function N2(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[L2]=s,t&&(r(i,t),r(s,t)),s}function Kp(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Kp(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function pc(t,e){return ye(t)?Gn({name:t.name},e,{setup:t}):t}function M2(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function nh(t,e,n,r,i=!1){if(ue(t)){t.forEach((w,v)=>nh(w,e&&(ue(e)?e[v]:e),n,r,i));return}if(So(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&nh(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Eh(r.component):r.el,a=i?null:s,{i:o,r:l}=t,c=e&&e.r,u=o.refs===Ue?o.refs={}:o.refs,d=o.setupState,p=Ee(d),f=d===Ue?()=>!1:w=>Ie(p,w);if(c!=null&&c!==l&&(gn(c)?(u[c]=null,f(c)&&(d[c]=null)):Vn(c)&&(c.value=null)),ye(l))dc(l,o,12,[a,u]);else{const w=gn(l),v=Vn(l);if(w||v){const k=()=>{if(t.f){const y=w?f(l)?d[l]:u[l]:l.value;i?ue(y)&&Bp(y,s):ue(y)?y.includes(s)||y.push(s):w?(u[l]=[s],f(l)&&(d[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else w?(u[l]=a,f(l)&&(d[l]=a)):v&&(l.value=a,t.k&&(u[t.k]=a))};a?(k.id=-1,Zn(k,n)):k()}}}Ch().requestIdleCallback;Ch().cancelIdleCallback;const So=t=>!!t.type.__asyncLoader,D2=t=>t.type.__isKeepAlive;function aw(t,e){T2(t,"a",e)}function ow(t,e){T2(t,"da",e)}function T2(t,e,n=$n){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Mh(e,r,n),n){let i=n.parent;for(;i&&i.parent;)D2(i.parent.vnode)&&lw(r,e,n,i),i=i.parent}}function lw(t,e,n,r){const i=Mh(e,t,r,!0);Xp(()=>{Bp(r[e],i)},n)}function Mh(t,e,n=$n,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{is();const o=gc(n),l=Ti(e,n,t,a);return o(),ss(),l});return r?i.unshift(s):i.push(s),s}}const us=t=>(e,n=$n)=>{(!Jl||t==="sp")&&Mh(t,(...r)=>e(...r),n)},cw=us("bm"),mc=us("m"),uw=us("bu"),hw=us("u"),E2=us("bum"),Xp=us("um"),fw=us("sp"),dw=us("rtg"),pw=us("rtc");function mw(t,e=$n){Mh("ec",t,e)}const gw="components";function _e(t,e){return yw(gw,t,!0,e)||t}const vw=Symbol.for("v-ndc");function yw(t,e,n=!0,r=!1){const i=On||$n;if(i){const s=i.type;{const o=s3(s,!1);if(o&&(o===e||o===qr(e)||o===Ah(qr(e))))return s}const a=y0(i[t]||s[t],e)||y0(i.appContext[t],e);return!a&&r?s:a}}function y0(t,e){return t&&(t[e]||t[qr(e)]||t[Ah(qr(e))])}function Je(t,e,n,r){let i;const s=n,a=ue(t);if(a||gn(t)){const o=a&&wo(t);let l=!1,c=!1;o&&(l=!jr(t),c=qs(t),t=Ph(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?Qu(In(t[u])):In(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s)}else if(Xe(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,s));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const u=o[l];i[l]=e(t[u],u,l,s)}}else i=[];return i}function rh(t,e,n={},r,i){if(On.ce||On.parent&&So(On.parent)&&On.parent.ce)return e!=="default"&&(n.name=e),dt(),ln(re,null,[Vt("slot",n,r)],64);let s=t[e];s&&s._c&&(s._d=!1),dt();const a=s&&I2(s(n)),o=n.key||a&&a.key,l=ln(re,{key:(o&&!si(o)?o:`_${e}`)+""},a||[],a&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function I2(t){return t.some(e=>Xl(e)?!(e.type===as||e.type===re&&!I2(e.children)):!0)?t:null}const zd=t=>t?Z2(t)?Eh(t):zd(t.parent):null,Bl=Gn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>zd(t.parent),$root:t=>zd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>O2(t),$forceUpdate:t=>t.f||(t.f=()=>{Yp(t.update)}),$nextTick:t=>t.n||(t.n=Or.bind(t.proxy)),$watch:t=>Bw.bind(t)}),Hf=(t,e)=>t!==Ue&&!t.__isScriptSetup&&Ie(t,e),bw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Hf(r,e))return a[e]=1,r[e];if(i!==Ue&&Ie(i,e))return a[e]=2,i[e];if((c=t.propsOptions[0])&&Ie(c,e))return a[e]=3,s[e];if(n!==Ue&&Ie(n,e))return a[e]=4,n[e];qd&&(a[e]=0)}}const u=Bl[e];let d,p;if(u)return e==="$attrs"&&Un(t.attrs,"get",""),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==Ue&&Ie(n,e))return a[e]=4,n[e];if(p=l.config.globalProperties,Ie(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Hf(i,e)?(i[e]=n,!0):r!==Ue&&Ie(r,e)?(r[e]=n,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Ue&&Ie(t,a)||Hf(e,a)||(o=s[0])&&Ie(o,a)||Ie(r,a)||Ie(Bl,a)||Ie(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function b0(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let qd=!0;function ww(t){const e=O2(t),n=t.proxy,r=t.ctx;qd=!1,e.beforeCreate&&w0(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:p,beforeUpdate:f,updated:w,activated:v,deactivated:k,beforeDestroy:y,beforeUnmount:x,destroyed:N,unmounted:L,render:j,renderTracked:it,renderTriggered:J,errorCaptured:G,serverPrefetch:nt,expose:mt,inheritAttrs:E,components:B,directives:Q,filters:M}=e;if(c&&xw(c,r,null),a)for(const rt in a){const Z=a[rt];ye(Z)&&(r[rt]=Z.bind(n))}if(i){const rt=i.call(n,n);Xe(rt)&&(t.data=fc(rt))}if(qd=!0,s)for(const rt in s){const Z=s[rt],lt=ye(Z)?Z.bind(n,n):ye(Z.get)?Z.get.bind(n,n):Ni,ft=!ye(Z)&&ye(Z.set)?Z.set.bind(n):Ni,It=Ce({get:lt,set:ft});Object.defineProperty(r,rt,{enumerable:!0,configurable:!0,get:()=>It.value,set:P=>It.value=P})}if(o)for(const rt in o)F2(o[rt],r,n,rt);if(l){const rt=ye(l)?l.call(n):l;Reflect.ownKeys(rt).forEach(Z=>{Ou(Z,rt[Z])})}u&&w0(u,t,"c");function Y(rt,Z){ue(Z)?Z.forEach(lt=>rt(lt.bind(n))):Z&&rt(Z.bind(n))}if(Y(cw,d),Y(mc,p),Y(uw,f),Y(hw,w),Y(aw,v),Y(ow,k),Y(mw,G),Y(pw,it),Y(dw,J),Y(E2,x),Y(Xp,L),Y(fw,nt),ue(mt))if(mt.length){const rt=t.exposed||(t.exposed={});mt.forEach(Z=>{Object.defineProperty(rt,Z,{get:()=>n[Z],set:lt=>n[Z]=lt})})}else t.exposed||(t.exposed={});j&&t.render===Ni&&(t.render=j),E!=null&&(t.inheritAttrs=E),B&&(t.components=B),Q&&(t.directives=Q),nt&&M2(t)}function xw(t,e,n=Ni){ue(t)&&(t=Wd(t));for(const r in t){const i=t[r];let s;Xe(i)?"default"in i?s=Br(i.from||r,i.default,!0):s=Br(i.from||r):s=Br(i),Vn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function w0(t,e,n){Ti(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function F2(t,e,n,r){let i=r.includes(".")?Y2(n,r):()=>n[r];if(gn(t)){const s=e[t];ye(s)&&zr(i,s)}else if(ye(t))zr(i,t.bind(n));else if(Xe(t))if(ue(t))t.forEach(s=>F2(s,e,n,r));else{const s=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(s)&&zr(i,s,t)}}function O2(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>ih(l,c,a,!0)),ih(l,e,a)),Xe(e)&&s.set(e,l),l}function ih(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&ih(t,s,n,!0),i&&i.forEach(a=>ih(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=kw[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const kw={data:x0,props:k0,emits:k0,methods:Ml,computed:Ml,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:Ml,directives:Ml,watch:_w,provide:x0,inject:Sw};function x0(t,e){return e?t?function(){return Gn(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function Sw(t,e){return Ml(Wd(t),Wd(e))}function Wd(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Qn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ml(t,e){return t?Gn(Object.create(null),t,e):e}function k0(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Gn(Object.create(null),b0(t),b0(e??{})):e}function _w(t,e){if(!t)return e;if(!e)return t;const n=Gn(Object.create(null),t);for(const r in e)n[r]=Qn(t[r],e[r]);return n}function R2(){return{app:null,config:{isNativeTag:mb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Aw=0;function Cw(t,e){return function(r,i=null){ye(r)||(r=Gn({},r)),i!=null&&!Xe(i)&&(i=null);const s=R2(),a=new WeakSet,o=[];let l=!1;const c=s.app={_uid:Aw++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:o3,get config(){return s.config},set config(u){},use(u,...d){return a.has(u)||(u&&ye(u.install)?(a.add(u),u.install(c,...d)):ye(u)&&(a.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,p){if(!l){const f=c._ceVNode||Vt(r,i);return f.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),t(f,u,p),l=!0,c._container=u,u.__vue_app__=c,Eh(f.component)}},onUnmount(u){o.push(u)},unmount(){l&&(Ti(o,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=_o;_o=c;try{return u()}finally{_o=d}}};return c}}let _o=null;function Ou(t,e){if($n){let n=$n.provides;const r=$n.parent&&$n.parent.provides;r===n&&(n=$n.provides=Object.create(r)),n[t]=e}}function Br(t,e,n=!1){const r=$n||On;if(r||_o){const i=_o?_o._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ye(e)?e.call(r&&r.proxy):e}}const j2={},B2=()=>Object.create(j2),z2=t=>Object.getPrototypeOf(t)===j2;function Lw(t,e,n,r=!1){const i={},s=B2();t.propsDefaults=Object.create(null),q2(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:v2(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Pw(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Ee(i),[l]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let p=u[d];if(Dh(t.emitsOptions,p))continue;const f=e[p];if(l)if(Ie(s,p))f!==s[p]&&(s[p]=f,c=!0);else{const w=qr(p);i[w]=Ud(l,o,w,f,t,!1)}else f!==s[p]&&(s[p]=f,c=!0)}}}else{q2(t,e,i,s)&&(c=!0);let u;for(const d in o)(!e||!Ie(e,d)&&((u=Ks(d))===d||!Ie(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Ud(l,o,d,void 0,t,!0)):delete i[d]);if(s!==o)for(const d in s)(!e||!Ie(e,d))&&(delete s[d],c=!0)}c&&Zi(t.attrs,"set","")}function q2(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Fl(l))continue;const c=e[l];let u;i&&Ie(i,u=qr(l))?!s||!s.includes(u)?n[u]=c:(o||(o={}))[u]=c:Dh(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(s){const l=Ee(n),c=o||Ue;for(let u=0;u<s.length;u++){const d=s[u];n[d]=Ud(i,l,d,c[d],t,!Ie(c,d))}}return a}function Ud(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=Ie(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ye(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=gc(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Ks(n))&&(r=!0))}return r}const Nw=new WeakMap;function W2(t,e,n=!1){const r=n?Nw:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!ye(t)){const u=d=>{l=!0;const[p,f]=W2(d,e,!0);Gn(a,p),f&&o.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Xe(t)&&r.set(t,yo),yo;if(ue(s))for(let u=0;u<s.length;u++){const d=qr(s[u]);S0(d)&&(a[d]=Ue)}else if(s)for(const u in s){const d=qr(u);if(S0(d)){const p=s[u],f=a[d]=ue(p)||ye(p)?{type:p}:Gn({},p),w=f.type;let v=!1,k=!0;if(ue(w))for(let y=0;y<w.length;++y){const x=w[y],N=ye(x)&&x.name;if(N==="Boolean"){v=!0;break}else N==="String"&&(k=!1)}else v=ye(w)&&w.name==="Boolean";f[0]=v,f[1]=k,(v||Ie(f,"default"))&&o.push(d)}}const c=[a,o];return Xe(t)&&r.set(t,c),c}function S0(t){return t[0]!=="$"&&!Fl(t)}const Jp=t=>t[0]==="_"||t==="$stable",Qp=t=>ue(t)?t.map(_i):[_i(t)],Mw=(t,e,n)=>{if(e._n)return e;const r=ke((...i)=>Qp(e(...i)),n);return r._c=!1,r},U2=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Jp(i))continue;const s=t[i];if(ye(s))e[i]=Mw(i,s,r);else if(s!=null){const a=Qp(s);e[i]=()=>a}}},$2=(t,e)=>{const n=Qp(e);t.slots.default=()=>n},H2=(t,e,n)=>{for(const r in e)(n||!Jp(r))&&(t[r]=e[r])},Dw=(t,e,n)=>{const r=t.slots=B2();if(t.vnode.shapeFlag&32){const i=e._;i?(H2(r,e,n),n&&Jg(r,"_",i,!0)):U2(e,r)}else e&&$2(t,e)},Tw=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Ue;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:H2(i,e,n):(s=!e.$stable,U2(e,i)),a=e}else e&&($2(t,e),a={default:1});if(s)for(const o in i)!Jp(o)&&a[o]==null&&delete i[o]},Zn=Vw;function Ew(t){return Iw(t)}function Iw(t,e){const n=Ch();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:p,setScopeId:f=Ni,insertStaticContent:w}=t,v=(R,O,tt,K=null,I=null,St=null,Pt=void 0,bt=null,_t=!!O.dynamicChildren)=>{if(R===O)return;R&&!kl(R,O)&&(K=$(R),P(R,I,St,!0),R=null),O.patchFlag===-2&&(_t=!1,O.dynamicChildren=null);const{type:vt,ref:Nt,shapeFlag:Mt}=O;switch(vt){case Th:k(R,O,tt,K);break;case as:y(R,O,tt,K);break;case Ru:R==null&&x(O,tt,K,Pt);break;case re:B(R,O,tt,K,I,St,Pt,bt,_t);break;default:Mt&1?j(R,O,tt,K,I,St,Pt,bt,_t):Mt&6?Q(R,O,tt,K,I,St,Pt,bt,_t):(Mt&64||Mt&128)&&vt.process(R,O,tt,K,I,St,Pt,bt,_t,at)}Nt!=null&&I&&nh(Nt,R&&R.ref,St,O||R,!O)},k=(R,O,tt,K)=>{if(R==null)r(O.el=o(O.children),tt,K);else{const I=O.el=R.el;O.children!==R.children&&c(I,O.children)}},y=(R,O,tt,K)=>{R==null?r(O.el=l(O.children||""),tt,K):O.el=R.el},x=(R,O,tt,K)=>{[R.el,R.anchor]=w(R.children,O,tt,K,R.el,R.anchor)},N=({el:R,anchor:O},tt,K)=>{let I;for(;R&&R!==O;)I=p(R),r(R,tt,K),R=I;r(O,tt,K)},L=({el:R,anchor:O})=>{let tt;for(;R&&R!==O;)tt=p(R),i(R),R=tt;i(O)},j=(R,O,tt,K,I,St,Pt,bt,_t)=>{O.type==="svg"?Pt="svg":O.type==="math"&&(Pt="mathml"),R==null?it(O,tt,K,I,St,Pt,bt,_t):nt(R,O,I,St,Pt,bt,_t)},it=(R,O,tt,K,I,St,Pt,bt)=>{let _t,vt;const{props:Nt,shapeFlag:Mt,transition:jt,dirs:pt}=R;if(_t=R.el=a(R.type,St,Nt&&Nt.is,Nt),Mt&8?u(_t,R.children):Mt&16&&G(R.children,_t,null,K,I,Vf(R,St),Pt,bt),pt&&fa(R,null,K,"created"),J(_t,R,R.scopeId,Pt,K),Nt){for(const xt in Nt)xt!=="value"&&!Fl(xt)&&s(_t,xt,null,Nt[xt],St,K);"value"in Nt&&s(_t,"value",null,Nt.value,St),(vt=Nt.onVnodeBeforeMount)&&wi(vt,K,R)}pt&&fa(R,null,K,"beforeMount");const Tt=Fw(I,jt);Tt&&jt.beforeEnter(_t),r(_t,O,tt),((vt=Nt&&Nt.onVnodeMounted)||Tt||pt)&&Zn(()=>{vt&&wi(vt,K,R),Tt&&jt.enter(_t),pt&&fa(R,null,K,"mounted")},I)},J=(R,O,tt,K,I)=>{if(tt&&f(R,tt),K)for(let St=0;St<K.length;St++)f(R,K[St]);if(I){let St=I.subTree;if(O===St||X2(St.type)&&(St.ssContent===O||St.ssFallback===O)){const Pt=I.vnode;J(R,Pt,Pt.scopeId,Pt.slotScopeIds,I.parent)}}},G=(R,O,tt,K,I,St,Pt,bt,_t=0)=>{for(let vt=_t;vt<R.length;vt++){const Nt=R[vt]=bt?Is(R[vt]):_i(R[vt]);v(null,Nt,O,tt,K,I,St,Pt,bt)}},nt=(R,O,tt,K,I,St,Pt)=>{const bt=O.el=R.el;let{patchFlag:_t,dynamicChildren:vt,dirs:Nt}=O;_t|=R.patchFlag&16;const Mt=R.props||Ue,jt=O.props||Ue;let pt;if(tt&&da(tt,!1),(pt=jt.onVnodeBeforeUpdate)&&wi(pt,tt,O,R),Nt&&fa(O,R,tt,"beforeUpdate"),tt&&da(tt,!0),(Mt.innerHTML&&jt.innerHTML==null||Mt.textContent&&jt.textContent==null)&&u(bt,""),vt?mt(R.dynamicChildren,vt,bt,tt,K,Vf(O,I),St):Pt||Z(R,O,bt,null,tt,K,Vf(O,I),St,!1),_t>0){if(_t&16)E(bt,Mt,jt,tt,I);else if(_t&2&&Mt.class!==jt.class&&s(bt,"class",null,jt.class,I),_t&4&&s(bt,"style",Mt.style,jt.style,I),_t&8){const Tt=O.dynamicProps;for(let xt=0;xt<Tt.length;xt++){const $t=Tt[xt],Yt=Mt[$t],ee=jt[$t];(ee!==Yt||$t==="value")&&s(bt,$t,Yt,ee,I,tt)}}_t&1&&R.children!==O.children&&u(bt,O.children)}else!Pt&&vt==null&&E(bt,Mt,jt,tt,I);((pt=jt.onVnodeUpdated)||Nt)&&Zn(()=>{pt&&wi(pt,tt,O,R),Nt&&fa(O,R,tt,"updated")},K)},mt=(R,O,tt,K,I,St,Pt)=>{for(let bt=0;bt<O.length;bt++){const _t=R[bt],vt=O[bt],Nt=_t.el&&(_t.type===re||!kl(_t,vt)||_t.shapeFlag&70)?d(_t.el):tt;v(_t,vt,Nt,null,K,I,St,Pt,!0)}},E=(R,O,tt,K,I)=>{if(O!==tt){if(O!==Ue)for(const St in O)!Fl(St)&&!(St in tt)&&s(R,St,O[St],null,I,K);for(const St in tt){if(Fl(St))continue;const Pt=tt[St],bt=O[St];Pt!==bt&&St!=="value"&&s(R,St,bt,Pt,I,K)}"value"in tt&&s(R,"value",O.value,tt.value,I)}},B=(R,O,tt,K,I,St,Pt,bt,_t)=>{const vt=O.el=R?R.el:o(""),Nt=O.anchor=R?R.anchor:o("");let{patchFlag:Mt,dynamicChildren:jt,slotScopeIds:pt}=O;pt&&(bt=bt?bt.concat(pt):pt),R==null?(r(vt,tt,K),r(Nt,tt,K),G(O.children||[],tt,Nt,I,St,Pt,bt,_t)):Mt>0&&Mt&64&&jt&&R.dynamicChildren?(mt(R.dynamicChildren,jt,tt,I,St,Pt,bt),(O.key!=null||I&&O===I.subTree)&&Zp(R,O,!0)):Z(R,O,tt,Nt,I,St,Pt,bt,_t)},Q=(R,O,tt,K,I,St,Pt,bt,_t)=>{O.slotScopeIds=bt,R==null?O.shapeFlag&512?I.ctx.activate(O,tt,K,Pt,_t):M(O,tt,K,I,St,Pt,_t):ot(R,O,_t)},M=(R,O,tt,K,I,St,Pt)=>{const bt=R.component=t3(R,K,I);if(D2(R)&&(bt.ctx.renderer=at),e3(bt,!1,Pt),bt.asyncDep){if(I&&I.registerDep(bt,Y,Pt),!R.el){const _t=bt.subTree=Vt(as);y(null,_t,O,tt)}}else Y(bt,R,O,tt,I,St,Pt)},ot=(R,O,tt)=>{const K=O.component=R.component;if($w(R,O,tt))if(K.asyncDep&&!K.asyncResolved){rt(K,O,tt);return}else K.next=O,K.update();else O.el=R.el,K.vnode=O},Y=(R,O,tt,K,I,St,Pt)=>{const bt=()=>{if(R.isMounted){let{next:Mt,bu:jt,u:pt,parent:Tt,vnode:xt}=R;{const Ae=V2(R);if(Ae){Mt&&(Mt.el=xt.el,rt(R,Mt,Pt)),Ae.asyncDep.then(()=>{R.isUnmounted||bt()});return}}let $t=Mt,Yt;da(R,!1),Mt?(Mt.el=xt.el,rt(R,Mt,Pt)):Mt=xt,jt&&Iu(jt),(Yt=Mt.props&&Mt.props.onVnodeBeforeUpdate)&&wi(Yt,Tt,Mt,xt),da(R,!0);const ee=A0(R),Ht=R.subTree;R.subTree=ee,v(Ht,ee,d(Ht.el),$(Ht),R,I,St),Mt.el=ee.el,$t===null&&Hw(R,ee.el),pt&&Zn(pt,I),(Yt=Mt.props&&Mt.props.onVnodeUpdated)&&Zn(()=>wi(Yt,Tt,Mt,xt),I)}else{let Mt;const{el:jt,props:pt}=O,{bm:Tt,m:xt,parent:$t,root:Yt,type:ee}=R,Ht=So(O);da(R,!1),Tt&&Iu(Tt),!Ht&&(Mt=pt&&pt.onVnodeBeforeMount)&&wi(Mt,$t,O),da(R,!0);{Yt.ce&&Yt.ce._injectChildStyle(ee);const Ae=R.subTree=A0(R);v(null,Ae,tt,K,R,I,St),O.el=Ae.el}if(xt&&Zn(xt,I),!Ht&&(Mt=pt&&pt.onVnodeMounted)){const Ae=O;Zn(()=>wi(Mt,$t,Ae),I)}(O.shapeFlag&256||$t&&So($t.vnode)&&$t.vnode.shapeFlag&256)&&R.a&&Zn(R.a,I),R.isMounted=!0,O=tt=K=null}};R.scope.on();const _t=R.effect=new r2(bt);R.scope.off();const vt=R.update=_t.run.bind(_t),Nt=R.job=_t.runIfDirty.bind(_t);Nt.i=R,Nt.id=R.uid,_t.scheduler=()=>Yp(Nt),da(R,!0),vt()},rt=(R,O,tt)=>{O.component=R;const K=R.vnode.props;R.vnode=O,R.next=null,Pw(R,O.props,K,tt),Tw(R,O.children,tt),is(),p0(R),ss()},Z=(R,O,tt,K,I,St,Pt,bt,_t=!1)=>{const vt=R&&R.children,Nt=R?R.shapeFlag:0,Mt=O.children,{patchFlag:jt,shapeFlag:pt}=O;if(jt>0){if(jt&128){ft(vt,Mt,tt,K,I,St,Pt,bt,_t);return}else if(jt&256){lt(vt,Mt,tt,K,I,St,Pt,bt,_t);return}}pt&8?(Nt&16&&st(vt,I,St),Mt!==vt&&u(tt,Mt)):Nt&16?pt&16?ft(vt,Mt,tt,K,I,St,Pt,bt,_t):st(vt,I,St,!0):(Nt&8&&u(tt,""),pt&16&&G(Mt,tt,K,I,St,Pt,bt,_t))},lt=(R,O,tt,K,I,St,Pt,bt,_t)=>{R=R||yo,O=O||yo;const vt=R.length,Nt=O.length,Mt=Math.min(vt,Nt);let jt;for(jt=0;jt<Mt;jt++){const pt=O[jt]=_t?Is(O[jt]):_i(O[jt]);v(R[jt],pt,tt,null,I,St,Pt,bt,_t)}vt>Nt?st(R,I,St,!0,!1,Mt):G(O,tt,K,I,St,Pt,bt,_t,Mt)},ft=(R,O,tt,K,I,St,Pt,bt,_t)=>{let vt=0;const Nt=O.length;let Mt=R.length-1,jt=Nt-1;for(;vt<=Mt&&vt<=jt;){const pt=R[vt],Tt=O[vt]=_t?Is(O[vt]):_i(O[vt]);if(kl(pt,Tt))v(pt,Tt,tt,null,I,St,Pt,bt,_t);else break;vt++}for(;vt<=Mt&&vt<=jt;){const pt=R[Mt],Tt=O[jt]=_t?Is(O[jt]):_i(O[jt]);if(kl(pt,Tt))v(pt,Tt,tt,null,I,St,Pt,bt,_t);else break;Mt--,jt--}if(vt>Mt){if(vt<=jt){const pt=jt+1,Tt=pt<Nt?O[pt].el:K;for(;vt<=jt;)v(null,O[vt]=_t?Is(O[vt]):_i(O[vt]),tt,Tt,I,St,Pt,bt,_t),vt++}}else if(vt>jt)for(;vt<=Mt;)P(R[vt],I,St,!0),vt++;else{const pt=vt,Tt=vt,xt=new Map;for(vt=Tt;vt<=jt;vt++){const he=O[vt]=_t?Is(O[vt]):_i(O[vt]);he.key!=null&&xt.set(he.key,vt)}let $t,Yt=0;const ee=jt-Tt+1;let Ht=!1,Ae=0;const fe=new Array(ee);for(vt=0;vt<ee;vt++)fe[vt]=0;for(vt=pt;vt<=Mt;vt++){const he=R[vt];if(Yt>=ee){P(he,I,St,!0);continue}let xe;if(he.key!=null)xe=xt.get(he.key);else for($t=Tt;$t<=jt;$t++)if(fe[$t-Tt]===0&&kl(he,O[$t])){xe=$t;break}xe===void 0?P(he,I,St,!0):(fe[xe-Tt]=vt+1,xe>=Ae?Ae=xe:Ht=!0,v(he,O[xe],tt,null,I,St,Pt,bt,_t),Yt++)}const vn=Ht?Ow(fe):yo;for($t=vn.length-1,vt=ee-1;vt>=0;vt--){const he=Tt+vt,xe=O[he],Mn=he+1<Nt?O[he+1].el:K;fe[vt]===0?v(null,xe,tt,Mn,I,St,Pt,bt,_t):Ht&&($t<0||vt!==vn[$t]?It(xe,tt,Mn,2):$t--)}}},It=(R,O,tt,K,I=null)=>{const{el:St,type:Pt,transition:bt,children:_t,shapeFlag:vt}=R;if(vt&6){It(R.component.subTree,O,tt,K);return}if(vt&128){R.suspense.move(O,tt,K);return}if(vt&64){Pt.move(R,O,tt,at);return}if(Pt===re){r(St,O,tt);for(let Mt=0;Mt<_t.length;Mt++)It(_t[Mt],O,tt,K);r(R.anchor,O,tt);return}if(Pt===Ru){N(R,O,tt);return}if(K!==2&&vt&1&&bt)if(K===0)bt.beforeEnter(St),r(St,O,tt),Zn(()=>bt.enter(St),I);else{const{leave:Mt,delayLeave:jt,afterLeave:pt}=bt,Tt=()=>{R.ctx.isUnmounted?i(St):r(St,O,tt)},xt=()=>{Mt(St,()=>{Tt(),pt&&pt()})};jt?jt(St,Tt,xt):xt()}else r(St,O,tt)},P=(R,O,tt,K=!1,I=!1)=>{const{type:St,props:Pt,ref:bt,children:_t,dynamicChildren:vt,shapeFlag:Nt,patchFlag:Mt,dirs:jt,cacheIndex:pt}=R;if(Mt===-2&&(I=!1),bt!=null&&(is(),nh(bt,null,tt,R,!0),ss()),pt!=null&&(O.renderCache[pt]=void 0),Nt&256){O.ctx.deactivate(R);return}const Tt=Nt&1&&jt,xt=!So(R);let $t;if(xt&&($t=Pt&&Pt.onVnodeBeforeUnmount)&&wi($t,O,R),Nt&6)et(R.component,tt,K);else{if(Nt&128){R.suspense.unmount(tt,K);return}Tt&&fa(R,null,O,"beforeUnmount"),Nt&64?R.type.remove(R,O,tt,at,K):vt&&!vt.hasOnce&&(St!==re||Mt>0&&Mt&64)?st(vt,O,tt,!1,!0):(St===re&&Mt&384||!I&&Nt&16)&&st(_t,O,tt),K&&W(R)}(xt&&($t=Pt&&Pt.onVnodeUnmounted)||Tt)&&Zn(()=>{$t&&wi($t,O,R),Tt&&fa(R,null,O,"unmounted")},tt)},W=R=>{const{type:O,el:tt,anchor:K,transition:I}=R;if(O===re){H(tt,K);return}if(O===Ru){L(R);return}const St=()=>{i(tt),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(R.shapeFlag&1&&I&&!I.persisted){const{leave:Pt,delayLeave:bt}=I,_t=()=>Pt(tt,St);bt?bt(R.el,St,_t):_t()}else St()},H=(R,O)=>{let tt;for(;R!==O;)tt=p(R),i(R),R=tt;i(O)},et=(R,O,tt)=>{const{bum:K,scope:I,job:St,subTree:Pt,um:bt,m:_t,a:vt,parent:Nt,slots:{__:Mt}}=R;_0(_t),_0(vt),K&&Iu(K),Nt&&ue(Mt)&&Mt.forEach(jt=>{Nt.renderCache[jt]=void 0}),I.stop(),St&&(St.flags|=8,P(Pt,R,O,tt)),bt&&Zn(bt,O),Zn(()=>{R.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},st=(R,O,tt,K=!1,I=!1,St=0)=>{for(let Pt=St;Pt<R.length;Pt++)P(R[Pt],O,tt,K,I)},$=R=>{if(R.shapeFlag&6)return $(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const O=p(R.anchor||R.el),tt=O&&O[L2];return tt?p(tt):O};let z=!1;const U=(R,O,tt)=>{R==null?O._vnode&&P(O._vnode,null,null,!0):v(O._vnode||null,R,O,null,null,null,tt),O._vnode=R,z||(z=!0,p0(),_2(),z=!1)},at={p:v,um:P,m:It,r:W,mt:M,mc:G,pc:Z,pbc:mt,n:$,o:t};return{render:U,hydrate:void 0,createApp:Cw(U)}}function Vf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function da({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Fw(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Zp(t,e,n=!1){const r=t.children,i=e.children;if(ue(r)&&ue(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Is(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&Zp(a,o)),o.type===Th&&(o.el=a.el),o.type===as&&!o.el&&(o.el=a.el)}}function Ow(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<c?s=o+1:a=o;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function V2(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:V2(e)}function _0(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Rw=Symbol.for("v-scx"),jw=()=>Br(Rw);function zr(t,e,n){return G2(t,e,n)}function G2(t,e,n=Ue){const{immediate:r,deep:i,flush:s,once:a}=n,o=Gn({},n),l=e&&r||!e&&s!=="post";let c;if(Jl){if(s==="sync"){const f=jw();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Ni,f.resume=Ni,f.pause=Ni,f}}const u=$n;o.call=(f,w,v)=>Ti(f,u,w,v);let d=!1;s==="post"?o.scheduler=f=>{Zn(f,u&&u.suspense)}:s!=="sync"&&(d=!0,o.scheduler=(f,w)=>{w?f():Yp(f)}),o.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const p=Zb(t,e,o);return Jl&&(c?c.push(p):l&&p()),p}function Bw(t,e,n){const r=this.proxy,i=gn(t)?t.includes(".")?Y2(r,t):()=>r[t]:t.bind(r,r);let s;ye(e)?s=e:(s=e.handler,n=e);const a=gc(this),o=G2(i,s.bind(r),n);return a(),o}function Y2(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const zw=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${qr(e)}Modifiers`]||t[`${Ks(e)}Modifiers`];function qw(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ue;let i=n;const s=e.startsWith("update:"),a=s&&zw(r,e.slice(7));a&&(a.trim&&(i=n.map(u=>gn(u)?u.trim():u)),a.number&&(i=n.map(Ju)));let o,l=r[o=zf(e)]||r[o=zf(qr(e))];!l&&s&&(l=r[o=zf(Ks(e))]),l&&Ti(l,t,6,i);const c=r[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Ti(c,t,6,i)}}function K2(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!ye(t)){const l=c=>{const u=K2(c,e,!0);u&&(o=!0,Gn(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Xe(t)&&r.set(t,null),null):(ue(s)?s.forEach(l=>a[l]=null):Gn(a,s),Xe(t)&&r.set(t,a),a)}function Dh(t,e){return!t||!kh(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,Ks(e))||Ie(t,e))}function A0(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:c,renderCache:u,props:d,data:p,setupState:f,ctx:w,inheritAttrs:v}=t,k=eh(t);let y,x;try{if(n.shapeFlag&4){const L=i||r,j=L;y=_i(c.call(j,L,u,d,f,p,w)),x=o}else{const L=e;y=_i(L.length>1?L(d,{attrs:o,slots:a,emit:l}):L(d,null)),x=e.props?o:Ww(o)}}catch(L){zl.length=0,Nh(L,t,1),y=Vt(as)}let N=y;if(x&&v!==!1){const L=Object.keys(x),{shapeFlag:j}=N;L.length&&j&7&&(s&&L.some(jp)&&(x=Uw(x,s)),N=Io(N,x,!1,!0))}return n.dirs&&(N=Io(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&Kp(N,n.transition),y=N,eh(k),y}const Ww=t=>{let e;for(const n in t)(n==="class"||n==="style"||kh(n))&&((e||(e={}))[n]=t[n]);return e},Uw=(t,e)=>{const n={};for(const r in t)(!jp(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function $w(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?C0(r,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const p=u[d];if(a[p]!==r[p]&&!Dh(c,p))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?C0(r,a,c):!0:!!a;return!1}function C0(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Dh(n,s))return!0}return!1}function Hw({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const X2=t=>t.__isSuspense;function Vw(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):nw(t)}const re=Symbol.for("v-fgt"),Th=Symbol.for("v-txt"),as=Symbol.for("v-cmt"),Ru=Symbol.for("v-stc"),zl=[];let Sr=null;function dt(t=!1){zl.push(Sr=t?null:[])}function Gw(){zl.pop(),Sr=zl[zl.length-1]||null}let Kl=1;function L0(t,e=!1){Kl+=t,t<0&&Sr&&e&&(Sr.hasOnce=!0)}function J2(t){return t.dynamicChildren=Kl>0?Sr||yo:null,Gw(),Kl>0&&Sr&&Sr.push(t),t}function wt(t,e,n,r,i,s){return J2(_(t,e,n,r,i,s,!0))}function ln(t,e,n,r,i){return J2(Vt(t,e,n,r,i,!0))}function Xl(t){return t?t.__v_isVNode===!0:!1}function kl(t,e){return t.type===e.type&&t.key===e.key}const Q2=({key:t})=>t??null,ju=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?gn(t)||Vn(t)||ye(t)?{i:On,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,r=0,i=null,s=t===re?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Q2(e),ref:e&&ju(e),scopeId:C2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:On};return o?(t1(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=gn(n)?8:16),Kl>0&&!a&&Sr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Sr.push(l),l}const Vt=Yw;function Yw(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===vw)&&(t=as),Xl(t)){const o=Io(t,e,!0);return n&&t1(o,n),Kl>0&&!s&&Sr&&(o.shapeFlag&6?Sr[Sr.indexOf(t)]=o:Sr.push(o)),o.patchFlag=-2,o}if(a3(t)&&(t=t.__vccOpts),e){e=Kw(e);let{class:o,style:l}=e;o&&!gn(o)&&(e.class=we(o)),Xe(l)&&(Gp(l)&&!ue(l)&&(l=Gn({},l)),e.style=xr(l))}const a=gn(t)?1:X2(t)?128:rw(t)?64:Xe(t)?4:ye(t)?2:0;return _(t,e,n,r,i,a,s,!0)}function Kw(t){return t?Gp(t)||z2(t)?Gn({},t):t:null}function Io(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=t,c=e?Jw(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Q2(c),ref:e&&e.ref?n&&s?ue(s)?s.concat(ju(e)):[s,ju(e)]:ju(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==re?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Io(t.ssContent),ssFallback:t.ssFallback&&Io(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Kp(u,l.clone(u)),u}function le(t=" ",e=0){return Vt(Th,null,t,e)}function Xw(t,e){const n=Vt(Ru,null,t);return n.staticCount=e,n}function Xt(t="",e=!1){return e?(dt(),ln(as,null,t)):Vt(as,null,t)}function _i(t){return t==null||typeof t=="boolean"?Vt(as):ue(t)?Vt(re,null,t.slice()):Xl(t)?Is(t):Vt(Th,null,String(t))}function Is(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Io(t)}function t1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),t1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!z2(e)?e._ctx=On:i===3&&On&&(On.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:On},n=32):(e=String(e),r&64?(n=16,e=[le(e)]):n=8);t.children=e,t.shapeFlag|=n}function Jw(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=we([e.class,r.class]));else if(i==="style")e.style=xr([e.style,r.style]);else if(kh(i)){const s=e[i],a=r[i];a&&s!==a&&!(ue(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function wi(t,e,n,r=null){Ti(t,e,7,[n,r])}const Qw=R2();let Zw=0;function t3(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Qw,s={uid:Zw++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new e2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:W2(r,i),emitsOptions:K2(r,i),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:r.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=qw.bind(null,s),t.ce&&t.ce(s),s}let $n=null,sh,$d;{const t=Ch(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};sh=e("__VUE_INSTANCE_SETTERS__",n=>$n=n),$d=e("__VUE_SSR_SETTERS__",n=>Jl=n)}const gc=t=>{const e=$n;return sh(t),t.scope.on(),()=>{t.scope.off(),sh(e)}},P0=()=>{$n&&$n.scope.off(),sh(null)};function Z2(t){return t.vnode.shapeFlag&4}let Jl=!1;function e3(t,e=!1,n=!1){e&&$d(e);const{props:r,children:i}=t.vnode,s=Z2(t);Lw(t,r,s,e),Dw(t,i,n||e);const a=s?n3(t,e):void 0;return e&&$d(!1),a}function n3(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,bw);const{setup:r}=n;if(r){is();const i=t.setupContext=r.length>1?i3(t):null,s=gc(t),a=dc(r,t,0,[t.props,i]),o=Yg(a);if(ss(),s(),(o||t.sp)&&!So(t)&&M2(t),o){if(a.then(P0,P0),e)return a.then(l=>{N0(t,l)}).catch(l=>{Nh(l,t,0)});t.asyncDep=a}else N0(t,a)}else t5(t)}function N0(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Xe(e)&&(t.setupState=x2(e)),t5(t)}function t5(t,e,n){const r=t.type;t.render||(t.render=r.render||Ni);{const i=gc(t);is();try{ww(t)}finally{ss(),i()}}}const r3={get(t,e){return Un(t,"get",""),t[e]}};function i3(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,r3),slots:t.slots,emit:t.emit,expose:e}}function Eh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(x2(b2(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bl)return Bl[n](t)},has(e,n){return n in e||n in Bl}})):t.proxy}function s3(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function a3(t){return ye(t)&&"__vccOpts"in t}const Ce=(t,e)=>Jb(t,e,Jl);function e1(t,e,n){const r=arguments.length;return r===2?Xe(e)&&!ue(e)?Xl(e)?Vt(t,null,[e]):Vt(t,e):Vt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xl(n)&&(n=[n]),Vt(t,e,n))}const o3="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hd;const M0=typeof window<"u"&&window.trustedTypes;if(M0)try{Hd=M0.createPolicy("vue",{createHTML:t=>t})}catch{}const e5=Hd?t=>Hd.createHTML(t):t=>t,l3="http://www.w3.org/2000/svg",c3="http://www.w3.org/1998/Math/MathML",Xi=typeof document<"u"?document:null,D0=Xi&&Xi.createElement("template"),u3={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Xi.createElementNS(l3,t):e==="mathml"?Xi.createElementNS(c3,t):n?Xi.createElement(t,{is:n}):Xi.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Xi.createTextNode(t),createComment:t=>Xi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Xi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{D0.innerHTML=e5(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const o=D0.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},h3=Symbol("_vtc");function f3(t,e,n){const r=t[h3];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ah=Symbol("_vod"),n5=Symbol("_vsh"),Gf={beforeMount(t,{value:e},{transition:n}){t[ah]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Sl(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Sl(t,!0),r.enter(t)):r.leave(t,()=>{Sl(t,!1)}):Sl(t,e))},beforeUnmount(t,{value:e}){Sl(t,e)}};function Sl(t,e){t.style.display=e?t[ah]:"none",t[n5]=!e}const d3=Symbol(""),p3=/(^|;)\s*display\s*:/;function m3(t,e,n){const r=t.style,i=gn(n);let s=!1;if(n&&!i){if(e)if(gn(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&Bu(r,o,"")}else for(const a in e)n[a]==null&&Bu(r,a,"");for(const a in n)a==="display"&&(s=!0),Bu(r,a,n[a])}else if(i){if(e!==n){const a=r[d3];a&&(n+=";"+a),r.cssText=n,s=p3.test(n)}}else e&&t.removeAttribute("style");ah in t&&(t[ah]=s?r.display:"",t[n5]&&(r.display="none"))}const T0=/\s*!important$/;function Bu(t,e,n){if(ue(n))n.forEach(r=>Bu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=g3(t,e);T0.test(n)?t.setProperty(Ks(r),n.replace(T0,""),"important"):t[r]=n}}const E0=["Webkit","Moz","ms"],Yf={};function g3(t,e){const n=Yf[e];if(n)return n;let r=qr(e);if(r!=="filter"&&r in t)return Yf[e]=r;r=Ah(r);for(let i=0;i<E0.length;i++){const s=E0[i]+r;if(s in t)return Yf[e]=s}return e}const I0="http://www.w3.org/1999/xlink";function F0(t,e,n,r,i,s=Ab(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(I0,e.slice(6,e.length)):t.setAttributeNS(I0,e,n):n==null||s&&!Qg(n)?t.removeAttribute(e):t.setAttribute(e,s?"":si(n)?String(n):n)}function O0(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?e5(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Qg(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}function va(t,e,n,r){t.addEventListener(e,n,r)}function v3(t,e,n,r){t.removeEventListener(e,n,r)}const R0=Symbol("_vei");function y3(t,e,n,r,i=null){const s=t[R0]||(t[R0]={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=b3(e);if(r){const c=s[e]=k3(r,i);va(t,o,c,l)}else a&&(v3(t,o,a,l),s[e]=void 0)}}const j0=/(?:Once|Passive|Capture)$/;function b3(t){let e;if(j0.test(t)){e={};let r;for(;r=t.match(j0);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ks(t.slice(2)),e]}let Kf=0;const w3=Promise.resolve(),x3=()=>Kf||(w3.then(()=>Kf=0),Kf=Date.now());function k3(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ti(S3(r,n.value),e,5,[r])};return n.value=t,n.attached=x3(),n}function S3(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const B0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_3=(t,e,n,r,i,s)=>{const a=i==="svg";e==="class"?f3(t,r,a):e==="style"?m3(t,n,r):kh(e)?jp(e)||y3(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):A3(t,e,r,a))?(O0(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&F0(t,e,r,a,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!gn(r))?O0(t,qr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),F0(t,e,r,a))};function A3(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&B0(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return B0(e)&&gn(n)?!1:e in t}const oh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>Iu(e,n):e};function C3(t){t.target.composing=!0}function z0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ao=Symbol("_assign"),fn={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Ao]=oh(i);const s=r||i.props&&i.props.type==="number";va(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=Ju(o)),t[Ao](o)}),n&&va(t,"change",()=>{t.value=t.value.trim()}),e||(va(t,"compositionstart",C3),va(t,"compositionend",z0),va(t,"change",z0))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(t[Ao]=oh(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?Ju(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},q0={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Sh(e);va(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Ju(lh(a)):lh(a));t[Ao](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Or(()=>{t._assigning=!1})}),t[Ao]=oh(r)},mounted(t,{value:e}){W0(t,e)},beforeUpdate(t,e,n){t[Ao]=oh(n)},updated(t,{value:e}){t._assigning||W0(t,e)}};function W0(t,e){const n=t.multiple,r=ue(e);if(!(n&&!r&&!Sh(e))){for(let i=0,s=t.options.length;i<s;i++){const a=t.options[i],o=lh(a);if(n)if(r){const l=typeof o;l==="string"||l==="number"?a.selected=e.some(c=>String(c)===String(o)):a.selected=Lb(e,o)>-1}else a.selected=e.has(o);else if(Lh(lh(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function lh(t){return"_value"in t?t._value:t.value}const L3=["ctrl","shift","alt","meta"],P3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>L3.some(n=>t[`${n}Key`]&&!e.includes(n))},Be=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=P3[e[a]];if(o&&o(i,e))return}return t(i,...s)})},N3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kn=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Ks(i.key);if(e.some(a=>a===s||N3[a]===s))return t(i)})},M3=Gn({patchProp:_3},u3);let U0;function D3(){return U0||(U0=Ew(M3))}const T3=(...t)=>{const e=D3().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=I3(r);if(!i)return;const s=e._component;!ye(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,E3(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function E3(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function I3(t){return gn(t)?document.querySelector(t):t}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const F3=Symbol();var $0;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})($0||($0={}));function O3(){const t=n2(!0),e=t.run(()=>te({}));let n=[],r=[];const i=b2({install(s){i._a=s,s.provide(F3,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}function R3(t){if(!t)return t;const e={1:"",2:"",3:"",4:"",5:"aeiou"};function n(i,s){if(!s)return i;const a=["a","e","i","o","u",""];let o=i.toLowerCase();if(o.includes("a")){let l=o.indexOf("a"),c=i.split("");return c[l]=e[s][0],c.join("")}if(o.includes("e")){let l=o.indexOf("e"),c=i.split("");return c[l]=e[s][1],c.join("")}if(o.includes("ou")){let l=o.indexOf("o"),c=i.split("");return c[l]=e[s][3],c.join("")}for(let l=o.length-1;l>=0;l--){let c=o[l],u=a.indexOf(c);if(u!==-1){let d=i.split("");return d[l]=e[s][u],d.join("")}}return i}let r=t.replace(/\[([a-z]+)([1-5])?\]/gi,(i,s,a)=>"["+n(s,a)+"]");return r=r.replace(/\b([a-z]+)([1-5])?\b/gi,(i,s,a)=>n(s,a)),r}function j3(){return r5().__VUE_DEVTOOLS_GLOBAL_HOOK__}function r5(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const B3=typeof Proxy=="function",z3="devtools-plugin:setup",q3="plugin:settings:set";let ao,Vd;function W3(){var t;return ao!==void 0||(typeof window<"u"&&window.performance?(ao=!0,Vd=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(ao=!0,Vd=globalThis.perf_hooks.performance):ao=!1),ao}function U3(){return W3()?Vd.now():Date.now()}class $3{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return U3()}},n&&n.on(q3,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:o,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function H3(t,e){const n=t,r=r5(),i=j3(),s=B3&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(z3,t,e);else{const a=s?new $3(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var i5="store";function Ws(t){return t===void 0&&(t=null),Br(t!==null?t:i5)}function Wo(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function s5(t){return t!==null&&typeof t=="object"}function V3(t){return t&&typeof t.then=="function"}function G3(t,e){return function(){return t(e)}}function a5(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function o5(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ih(t,n,[],t._modules.root,!0),n1(t,n,e)}function n1(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={},o={},l=n2(!0);l.run(function(){Wo(s,function(c,u){a[u]=G3(c,t),o[u]=Ce(function(){return a[u]()}),Object.defineProperty(t.getters,u,{get:function(){return o[u].value},enumerable:!0})})}),t._state=fc({data:e}),t._scope=l,t.strict&&Q3(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function Ih(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!s&&!i){var o=r1(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){o[l]=r.state})}var c=r.context=Y3(t,a,n);r.forEachMutation(function(u,d){var p=a+d;K3(t,p,u,c)}),r.forEachAction(function(u,d){var p=u.root?d:a+d,f=u.handler||u;X3(t,p,f,c)}),r.forEachGetter(function(u,d){var p=a+d;J3(t,p,u,c)}),r.forEachChild(function(u,d){Ih(t,e,n.concat(d),u,i)})}function Y3(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,o){var l=ch(s,a,o),c=l.payload,u=l.options,d=l.type;return(!u||!u.root)&&(d=e+d),t.dispatch(d,c)},commit:r?t.commit:function(s,a,o){var l=ch(s,a,o),c=l.payload,u=l.options,d=l.type;(!u||!u.root)&&(d=e+d),t.commit(d,c,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return l5(t,e)}},state:{get:function(){return r1(t.state,n)}}}),i}function l5(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function K3(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function X3(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return V3(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function J3(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function Q3(t){zr(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function r1(t,e){return e.reduce(function(n,r){return n[r]},t)}function ch(t,e,n){return s5(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Z3="vuex bindings",H0="vuex:mutations",Xf="vuex:actions",oo="vuex",t4=0;function e4(t,e){H3({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Z3]},function(n){n.addTimelineLayer({id:H0,label:"Vuex Mutations",color:V0}),n.addTimelineLayer({id:Xf,label:"Vuex Actions",color:V0}),n.addInspector({id:oo,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===oo)if(r.filter){var i=[];f5(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[h5(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===oo){var i=r.nodeId;l5(e,i),r.state=i4(a4(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===oo){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(oo),n.sendInspectorState(oo),n.addTimelineEvent({layerId:H0,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=t4++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Xf,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Xf,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var V0=8702998,n4=6710886,r4=16777215,c5={label:"namespaced",textColor:r4,backgroundColor:n4};function u5(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function h5(t,e){return{id:e||"root",label:u5(e),tags:t.namespaced?[c5]:[],children:Object.keys(t._children).map(function(n){return h5(t._children[n],e+n+"/")})}}function f5(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[c5]:[]}),Object.keys(e._children).forEach(function(i){f5(t,e._children[i],n,r+i+"/")})}function i4(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=s4(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?u5(a):a,editable:!1,value:Gd(function(){return s[a]})}})}return i}function s4(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=Gd(function(){return t[n]})}else e[n]=Gd(function(){return t[n]})}),e}function a4(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function Gd(t){try{return t()}catch(e){return e}}var oi=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},d5={namespaced:{configurable:!0}};d5.namespaced.get=function(){return!!this._rawModule.namespaced};oi.prototype.addChild=function(e,n){this._children[e]=n};oi.prototype.removeChild=function(e){delete this._children[e]};oi.prototype.getChild=function(e){return this._children[e]};oi.prototype.hasChild=function(e){return e in this._children};oi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};oi.prototype.forEachChild=function(e){Wo(this._children,e)};oi.prototype.forEachGetter=function(e){this._rawModule.getters&&Wo(this._rawModule.getters,e)};oi.prototype.forEachAction=function(e){this._rawModule.actions&&Wo(this._rawModule.actions,e)};oi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Wo(this._rawModule.mutations,e)};Object.defineProperties(oi.prototype,d5);var Pa=function(e){this.register([],e,!1)};Pa.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Pa.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Pa.prototype.update=function(e){p5([],this.root,e)};Pa.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new oi(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&Wo(n.modules,function(o,l){i.register(e.concat(l),o,r)})};Pa.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Pa.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function p5(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;p5(t.concat(r),e.getChild(r),n.modules[r])}}function o4(t){return new fr(t)}var fr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Pa(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,o=this,l=o.dispatch,c=o.commit;this.dispatch=function(p,f){return l.call(a,p,f)},this.commit=function(p,f,w){return c.call(a,p,f,w)},this.strict=i;var u=this._modules.root.state;Ih(this,u,[],this._modules.root),n1(this,u),r.forEach(function(d){return d(n)})},i1={state:{configurable:!0}};fr.prototype.install=function(e,n){e.provide(n||i5,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&e4(e,this)};i1.state.get=function(){return this._state.data};i1.state.set=function(t){};fr.prototype.commit=function(e,n,r){var i=this,s=ch(e,n,r),a=s.type,o=s.payload,l={type:a,payload:o},c=this._mutations[a];c&&(this._withCommit(function(){c.forEach(function(d){d(o)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};fr.prototype.dispatch=function(e,n){var r=this,i=ch(e,n),s=i.type,a=i.payload,o={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(o,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(a)})):l[0](a);return new Promise(function(u,d){c.then(function(p){try{r._actionSubscribers.filter(function(f){return f.after}).forEach(function(f){return f.after(o,r.state)})}catch{}u(p)},function(p){try{r._actionSubscribers.filter(function(f){return f.error}).forEach(function(f){return f.error(o,r.state,p)})}catch{}d(p)})})}};fr.prototype.subscribe=function(e,n){return a5(e,this._subscribers,n)};fr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return a5(r,this._actionSubscribers,n)};fr.prototype.watch=function(e,n,r){var i=this;return zr(function(){return e(i.state,i.getters)},n,Object.assign({},r))};fr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};fr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Ih(this,this.state,e,this._modules.get(e),r.preserveState),n1(this,this.state)};fr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=r1(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),o5(this)};fr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};fr.prototype.hotUpdate=function(e){this._modules.update(e),o5(this,!0)};fr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(fr.prototype,i1);var l4=g5(function(t,e){var n={};return m5(e).forEach(function(r){var i=r.key,s=r.val;s=t+s,n[i]=function(){if(!(t&&!v5(this.$store,"mapGetters",t)))return this.$store.getters[s]},n[i].vuex=!0}),n}),s1=g5(function(t,e){var n={};return m5(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var c=this.$store.dispatch;if(t){var u=v5(this.$store,"mapActions",t);if(!u)return;c=u.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(o)):c.apply(this.$store,[s].concat(o))}}),n});function m5(t){return c4(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function c4(t){return Array.isArray(t)||s5(t)}function g5(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function v5(t,e,n){var r=t._modulesNamespaceMap[n];return r}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const fo=typeof document<"u";function y5(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function u4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&y5(t.default)}const Te=Object.assign;function Jf(t,e){const n={};for(const r in e){const i=e[r];n[r]=ai(i)?i.map(t):t(i)}return n}const ql=()=>{},ai=Array.isArray,b5=/#/g,h4=/&/g,f4=/\//g,d4=/=/g,p4=/\?/g,w5=/\+/g,m4=/%5B/g,g4=/%5D/g,x5=/%5E/g,v4=/%60/g,k5=/%7B/g,y4=/%7C/g,S5=/%7D/g,b4=/%20/g;function a1(t){return encodeURI(""+t).replace(y4,"|").replace(m4,"[").replace(g4,"]")}function w4(t){return a1(t).replace(k5,"{").replace(S5,"}").replace(x5,"^")}function Yd(t){return a1(t).replace(w5,"%2B").replace(b4,"+").replace(b5,"%23").replace(h4,"%26").replace(v4,"`").replace(k5,"{").replace(S5,"}").replace(x5,"^")}function x4(t){return Yd(t).replace(d4,"%3D")}function k4(t){return a1(t).replace(b5,"%23").replace(p4,"%3F")}function S4(t){return t==null?"":k4(t).replace(f4,"%2F")}function Ql(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const _4=/\/$/,A4=t=>t.replace(_4,"");function Qf(t,e,n="/"){let r,i={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),i=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=N4(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:Ql(a)}}function C4(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function G0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function L4(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Fo(e.matched[r],n.matched[i])&&_5(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _5(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!P4(t[n],e[n]))return!1;return!0}function P4(t,e){return ai(t)?Y0(t,e):ai(e)?Y0(e,t):t===e}function Y0(t,e){return ai(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function N4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}const Ls={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zl;(function(t){t.pop="pop",t.push="push"})(Zl||(Zl={}));var Wl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wl||(Wl={}));function M4(t){if(!t)if(fo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),A4(t)}const D4=/^[^#]+#/;function T4(t,e){return t.replace(D4,"#")+e}function E4(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Fh=()=>({left:window.scrollX,top:window.scrollY});function I4(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=E4(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function K0(t,e){return(history.state?history.state.position-e:-1)+t}const Kd=new Map;function F4(t,e){Kd.set(t,e)}function O4(t){const e=Kd.get(t);return Kd.delete(t),e}let R4=()=>location.protocol+"//"+location.host;function A5(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),G0(l,"")}return G0(n,t)+r+i}function j4(t,e,n,r){let i=[],s=[],a=null;const o=({state:p})=>{const f=A5(t,location),w=n.value,v=e.value;let k=0;if(p){if(n.value=f,e.value=p,a&&a===w){a=null;return}k=v?p.position-v.position:0}else r(f);i.forEach(y=>{y(n.value,w,{delta:k,type:Zl.pop,direction:k?k>0?Wl.forward:Wl.back:Wl.unknown})})};function l(){a=n.value}function c(p){i.push(p);const f=()=>{const w=i.indexOf(p);w>-1&&i.splice(w,1)};return s.push(f),f}function u(){const{history:p}=window;p.state&&p.replaceState(Te({},p.state,{scroll:Fh()}),"")}function d(){for(const p of s)p();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function X0(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Fh():null}}function B4(t){const{history:e,location:n}=window,r={value:A5(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:R4()+t+l;try{e[u?"replaceState":"pushState"](c,"",p),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](p)}}function a(l,c){const u=Te({},e.state,X0(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function o(l,c){const u=Te({},i.value,e.state,{forward:l,scroll:Fh()});s(u.current,u,!0);const d=Te({},X0(r.value,l,null),{position:u.position+1},c);s(l,d,!1),r.value=l}return{location:r,state:i,push:o,replace:a}}function z4(t){t=M4(t);const e=B4(t),n=j4(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=Te({location:"",base:t,go:r,createHref:T4.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function q4(t){return typeof t=="string"||t&&typeof t=="object"}function C5(t){return typeof t=="string"||typeof t=="symbol"}const L5=Symbol("");var J0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(J0||(J0={}));function Oo(t,e){return Te(new Error,{type:t,[L5]:!0},e)}function Gi(t,e){return t instanceof Error&&L5 in t&&(e==null||!!(t.type&e))}const Q0="[^/]+?",W4={sensitive:!1,strict:!1,start:!0,end:!0},U4=/[.+*?^${}()[\]/\\]/g;function $4(t,e){const n=Te({},W4,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const p=c[d];let f=40+(n.sensitive?.25:0);if(p.type===0)d||(i+="/"),i+=p.value.replace(U4,"\\$&"),f+=40;else if(p.type===1){const{value:w,repeatable:v,optional:k,regexp:y}=p;s.push({name:w,repeatable:v,optional:k});const x=y||Q0;if(x!==Q0){f+=10;try{new RegExp(`(${x})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${w}" (${x}): `+L.message)}}let N=v?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;d||(N=k&&c.length<2?`(?:/${N})`:"/"+N),k&&(N+="?"),i+=N,f+=20,k&&(f+=-8),v&&(f+=-20),x===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function o(c){const u=c.match(a),d={};if(!u)return null;for(let p=1;p<u.length;p++){const f=u[p]||"",w=s[p-1];d[w.name]=f&&w.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const p of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of p)if(f.type===0)u+=f.value;else if(f.type===1){const{value:w,repeatable:v,optional:k}=f,y=w in c?c[w]:"";if(ai(y)&&!v)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const x=ai(y)?y.join("/"):y;if(!x)if(k)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);u+=x}}return u||"/"}return{re:a,score:r,keys:s,parse:o,stringify:l}}function H4(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function P5(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=H4(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Z0(r))return 1;if(Z0(i))return-1}return i.length-r.length}function Z0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const V4={type:0,value:""},G4=/[a-zA-Z0-9_]/;function Y4(t){if(!t)return[[]];if(t==="/")return[[V4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,c="",u="";function d(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),a()):l===":"?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:G4.test(l)?p():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),a(),i}function K4(t,e,n){const r=$4(Y4(t.path),n),i=Te(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function X4(t,e){const n=[],r=new Map;e=rm({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,p,f){const w=!f,v=em(d);v.aliasOf=f&&f.record;const k=rm(e,d),y=[v];if("alias"in d){const L=typeof d.alias=="string"?[d.alias]:d.alias;for(const j of L)y.push(em(Te({},v,{components:f?f.record.components:v.components,path:j,aliasOf:f?f.record:v})))}let x,N;for(const L of y){const{path:j}=L;if(p&&j[0]!=="/"){const it=p.record.path,J=it[it.length-1]==="/"?"":"/";L.path=p.record.path+(j&&J+j)}if(x=K4(L,p,k),f?f.alias.push(x):(N=N||x,N!==x&&N.alias.push(x),w&&d.name&&!nm(x)&&a(d.name)),N5(x)&&l(x),v.children){const it=v.children;for(let J=0;J<it.length;J++)s(it[J],x,f&&f.children[J])}f=f||x}return N?()=>{a(N)}:ql}function a(d){if(C5(d)){const p=r.get(d);p&&(r.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return n}function l(d){const p=Z4(d,n);n.splice(p,0,d),d.record.name&&!nm(d)&&r.set(d.record.name,d)}function c(d,p){let f,w={},v,k;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw Oo(1,{location:d});k=f.record.name,w=Te(tm(p.params,f.keys.filter(N=>!N.optional).concat(f.parent?f.parent.keys.filter(N=>N.optional):[]).map(N=>N.name)),d.params&&tm(d.params,f.keys.map(N=>N.name))),v=f.stringify(w)}else if(d.path!=null)v=d.path,f=n.find(N=>N.re.test(v)),f&&(w=f.parse(v),k=f.record.name);else{if(f=p.name?r.get(p.name):n.find(N=>N.re.test(p.path)),!f)throw Oo(1,{location:d,currentLocation:p});k=f.record.name,w=Te({},p.params,d.params),v=f.stringify(w)}const y=[];let x=f;for(;x;)y.unshift(x.record),x=x.parent;return{name:k,path:v,params:w,matched:y,meta:Q4(y)}}t.forEach(d=>s(d));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:a,clearRoutes:u,getRoutes:o,getRecordMatcher:i}}function tm(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function em(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:J4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function J4(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function nm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Q4(t){return t.reduce((e,n)=>Te(e,n.meta),{})}function rm(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Z4(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;P5(t,e[s])<0?r=s:n=s+1}const i=tx(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function tx(t){let e=t;for(;e=e.parent;)if(N5(e)&&P5(t,e)===0)return e}function N5({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ex(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(w5," "),a=s.indexOf("="),o=Ql(a<0?s:s.slice(0,a)),l=a<0?null:Ql(s.slice(a+1));if(o in e){let c=e[o];ai(c)||(c=e[o]=[c]),c.push(l)}else e[o]=l}return e}function im(t){let e="";for(let n in t){const r=t[n];if(n=x4(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ai(r)?r.map(s=>s&&Yd(s)):[r&&Yd(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function nx(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ai(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const rx=Symbol(""),sm=Symbol(""),Oh=Symbol(""),o1=Symbol(""),Xd=Symbol("");function _l(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Fs(t,e,n,r,i,s=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const c=p=>{p===!1?l(Oo(4,{from:n,to:e})):p instanceof Error?l(p):q4(p)?l(Oo(2,{from:e,to:p})):(a&&r.enterCallbacks[i]===a&&typeof p=="function"&&a.push(p),o())},u=s(()=>t.call(r&&r.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(p=>l(p))})}function Zf(t,e,n,r,i=s=>s()){const s=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(y5(l)){const u=(l.__vccOpts||l)[e];u&&s.push(Fs(u,n,r,a,o,i))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const d=u4(u)?u.default:u;a.mods[o]=u,a.components[o]=d;const f=(d.__vccOpts||d)[e];return f&&Fs(f,n,r,a,o,i)()}))}}return s}function am(t){const e=Br(Oh),n=Br(o1),r=Ce(()=>{const l=xo(t.to);return e.resolve(l)}),i=Ce(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const p=d.findIndex(Fo.bind(null,u));if(p>-1)return p;const f=om(l[c-2]);return c>1&&om(u)===f&&d[d.length-1].path!==f?d.findIndex(Fo.bind(null,l[c-2])):p}),s=Ce(()=>i.value>-1&&lx(n.params,r.value.params)),a=Ce(()=>i.value>-1&&i.value===n.matched.length-1&&_5(n.params,r.value.params));function o(l={}){if(ox(l)){const c=e[xo(t.replace)?"replace":"push"](xo(t.to)).catch(ql);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Ce(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}function ix(t){return t.length===1?t[0]:t}const sx=pc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:am,setup(t,{slots:e}){const n=fc(am(t)),{options:r}=Br(Oh),i=Ce(()=>({[lm(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[lm(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&ix(e.default(n));return t.custom?s:e1("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),ax=sx;function ox(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function lx(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ai(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function om(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lm=(t,e,n)=>t??e??n,cx=pc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Br(Xd),i=Ce(()=>t.route||r.value),s=Br(sm,0),a=Ce(()=>{let c=xo(s);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),o=Ce(()=>i.value.matched[a.value]);Ou(sm,Ce(()=>a.value+1)),Ou(rx,o),Ou(Xd,i);const l=te();return zr(()=>[l.value,o.value,t.name],([c,u,d],[p,f,w])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Fo(u,f)||!p)&&(u.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=o.value,p=d&&d.components[u];if(!p)return cm(n.default,{Component:p,route:c});const f=d.props[u],w=f?f===!0?c.params:typeof f=="function"?f(c):f:null,k=e1(p,Te({},w,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return cm(n.default,{Component:k,route:c})||k}}});function cm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ux=cx;function hx(t){const e=X4(t.routes,t),n=t.parseQuery||ex,r=t.stringifyQuery||im,i=t.history,s=_l(),a=_l(),o=_l(),l=Gb(Ls);let c=Ls;fo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Jf.bind(null,$=>""+$),d=Jf.bind(null,S4),p=Jf.bind(null,Ql);function f($,z){let U,at;return C5($)?(U=e.getRecordMatcher($),at=z):at=$,e.addRoute(at,U)}function w($){const z=e.getRecordMatcher($);z&&e.removeRoute(z)}function v(){return e.getRoutes().map($=>$.record)}function k($){return!!e.getRecordMatcher($)}function y($,z){if(z=Te({},z||l.value),typeof $=="string"){const tt=Qf(n,$,z.path),K=e.resolve({path:tt.path},z),I=i.createHref(tt.fullPath);return Te(tt,K,{params:p(K.params),hash:Ql(tt.hash),redirectedFrom:void 0,href:I})}let U;if($.path!=null)U=Te({},$,{path:Qf(n,$.path,z.path).path});else{const tt=Te({},$.params);for(const K in tt)tt[K]==null&&delete tt[K];U=Te({},$,{params:d(tt)}),z.params=d(z.params)}const at=e.resolve(U,z),Lt=$.hash||"";at.params=u(p(at.params));const R=C4(r,Te({},$,{hash:w4(Lt),path:at.path})),O=i.createHref(R);return Te({fullPath:R,hash:Lt,query:r===im?nx($.query):$.query||{}},at,{redirectedFrom:void 0,href:O})}function x($){return typeof $=="string"?Qf(n,$,l.value.path):Te({},$)}function N($,z){if(c!==$)return Oo(8,{from:z,to:$})}function L($){return J($)}function j($){return L(Te(x($),{replace:!0}))}function it($){const z=$.matched[$.matched.length-1];if(z&&z.redirect){const{redirect:U}=z;let at=typeof U=="function"?U($):U;return typeof at=="string"&&(at=at.includes("?")||at.includes("#")?at=x(at):{path:at},at.params={}),Te({query:$.query,hash:$.hash,params:at.path!=null?{}:$.params},at)}}function J($,z){const U=c=y($),at=l.value,Lt=$.state,R=$.force,O=$.replace===!0,tt=it(U);if(tt)return J(Te(x(tt),{state:typeof tt=="object"?Te({},Lt,tt.state):Lt,force:R,replace:O}),z||U);const K=U;K.redirectedFrom=z;let I;return!R&&L4(r,at,U)&&(I=Oo(16,{to:K,from:at}),It(at,at,!0,!1)),(I?Promise.resolve(I):mt(K,at)).catch(St=>Gi(St)?Gi(St,2)?St:ft(St):Z(St,K,at)).then(St=>{if(St){if(Gi(St,2))return J(Te({replace:O},x(St.to),{state:typeof St.to=="object"?Te({},Lt,St.to.state):Lt,force:R}),z||K)}else St=B(K,at,!0,O,Lt);return E(K,at,St),St})}function G($,z){const U=N($,z);return U?Promise.reject(U):Promise.resolve()}function nt($){const z=H.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext($):$()}function mt($,z){let U;const[at,Lt,R]=fx($,z);U=Zf(at.reverse(),"beforeRouteLeave",$,z);for(const tt of at)tt.leaveGuards.forEach(K=>{U.push(Fs(K,$,z))});const O=G.bind(null,$,z);return U.push(O),st(U).then(()=>{U=[];for(const tt of s.list())U.push(Fs(tt,$,z));return U.push(O),st(U)}).then(()=>{U=Zf(Lt,"beforeRouteUpdate",$,z);for(const tt of Lt)tt.updateGuards.forEach(K=>{U.push(Fs(K,$,z))});return U.push(O),st(U)}).then(()=>{U=[];for(const tt of R)if(tt.beforeEnter)if(ai(tt.beforeEnter))for(const K of tt.beforeEnter)U.push(Fs(K,$,z));else U.push(Fs(tt.beforeEnter,$,z));return U.push(O),st(U)}).then(()=>($.matched.forEach(tt=>tt.enterCallbacks={}),U=Zf(R,"beforeRouteEnter",$,z,nt),U.push(O),st(U))).then(()=>{U=[];for(const tt of a.list())U.push(Fs(tt,$,z));return U.push(O),st(U)}).catch(tt=>Gi(tt,8)?tt:Promise.reject(tt))}function E($,z,U){o.list().forEach(at=>nt(()=>at($,z,U)))}function B($,z,U,at,Lt){const R=N($,z);if(R)return R;const O=z===Ls,tt=fo?history.state:{};U&&(at||O?i.replace($.fullPath,Te({scroll:O&&tt&&tt.scroll},Lt)):i.push($.fullPath,Lt)),l.value=$,It($,z,U,O),ft()}let Q;function M(){Q||(Q=i.listen(($,z,U)=>{if(!et.listening)return;const at=y($),Lt=it(at);if(Lt){J(Te(Lt,{replace:!0,force:!0}),at).catch(ql);return}c=at;const R=l.value;fo&&F4(K0(R.fullPath,U.delta),Fh()),mt(at,R).catch(O=>Gi(O,12)?O:Gi(O,2)?(J(Te(x(O.to),{force:!0}),at).then(tt=>{Gi(tt,20)&&!U.delta&&U.type===Zl.pop&&i.go(-1,!1)}).catch(ql),Promise.reject()):(U.delta&&i.go(-U.delta,!1),Z(O,at,R))).then(O=>{O=O||B(at,R,!1),O&&(U.delta&&!Gi(O,8)?i.go(-U.delta,!1):U.type===Zl.pop&&Gi(O,20)&&i.go(-1,!1)),E(at,R,O)}).catch(ql)}))}let ot=_l(),Y=_l(),rt;function Z($,z,U){ft($);const at=Y.list();return at.length?at.forEach(Lt=>Lt($,z,U)):console.error($),Promise.reject($)}function lt(){return rt&&l.value!==Ls?Promise.resolve():new Promise(($,z)=>{ot.add([$,z])})}function ft($){return rt||(rt=!$,M(),ot.list().forEach(([z,U])=>$?U($):z()),ot.reset()),$}function It($,z,U,at){const{scrollBehavior:Lt}=t;if(!fo||!Lt)return Promise.resolve();const R=!U&&O4(K0($.fullPath,0))||(at||!U)&&history.state&&history.state.scroll||null;return Or().then(()=>Lt($,z,R)).then(O=>O&&I4(O)).catch(O=>Z(O,$,z))}const P=$=>i.go($);let W;const H=new Set,et={currentRoute:l,listening:!0,addRoute:f,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:v,resolve:y,options:t,push:L,replace:j,go:P,back:()=>P(-1),forward:()=>P(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:Y.add,isReady:lt,install($){const z=this;$.component("RouterLink",ax),$.component("RouterView",ux),$.config.globalProperties.$router=z,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>xo(l)}),fo&&!W&&l.value===Ls&&(W=!0,L(i.location).catch(Lt=>{}));const U={};for(const Lt in Ls)Object.defineProperty(U,Lt,{get:()=>l.value[Lt],enumerable:!0});$.provide(Oh,z),$.provide(o1,v2(U)),$.provide(Xd,l);const at=$.unmount;H.add($),$.unmount=function(){H.delete($),H.size<1&&(c=Ls,Q&&Q(),Q=null,l.value=Ls,W=!1,rt=!1),at()}}};function st($){return $.reduce((z,U)=>z.then(()=>nt(U)),Promise.resolve())}return et}function fx(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(c=>Fo(c,o))?r.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(c=>Fo(c,l))||i.push(l))}return[n,r,i]}function Uo(){return Br(Oh)}function M5(t){return Br(o1)}const tn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},dx={props:{title:String,defaultExpanded:{type:Boolean,default:!1},itemCount:{type:Number,default:0},thresholdForExpand:{type:Number,default:3}},data(){return{isExpanded:this.defaultExpanded}},computed:{hasExpandableContent(){return this.itemCount>this.thresholdForExpand}},methods:{toggleExpanded(){this.isExpanded=!this.isExpanded},setCollapse(){this.isExpanded=!1},resetExpandedState(){this.isExpanded=this.defaultExpanded}}},px={class:"examples-group"},mx={class:"section-header"},gx={class:"medium-label"},vx={class:"expanded-content"};function yx(t,e,n,r,i,s){return dt(),wt("div",px,[_("div",mx,[_("div",gx,Wt(n.title),1)]),rh(t.$slots,"afew",{isExpanded:i.isExpanded},void 0,!0),Ke(_("div",vx,[rh(t.$slots,"therest",{isExpanded:i.isExpanded},void 0,!0)],512),[[Gf,i.isExpanded]]),Ke(_("div",{class:"expand-button sticky-collapse",onClick:e[0]||(e[0]=(...a)=>s.toggleExpanded&&s.toggleExpanded(...a))}," collapse  ",512),[[Gf,i.isExpanded]]),Ke(_("div",{class:"expand-button",onClick:e[1]||(e[1]=(...a)=>s.toggleExpanded&&s.toggleExpanded(...a))}," expand  ",512),[[Gf,!i.isExpanded&&s.hasExpandableContent]])])}const bx=tn(dx,[["render",yx],["__scopeId","data-v-3d9dfbf8"]]),wx={name:"ClickableRow",props:{word:{type:String,required:!0}},data(){return{hoverTimer:null,isHovering:!1}},inject:{updatePopupData:{default:()=>t=>console.warn("updatePopupData not provided to ClickableRow")}},methods:{...s1({showCardModal:"cardModal/showCardModal",preloadCardDataAction:"cardModal/preloadCardData"}),startHoverTimer(){this.isHovering=!0,this.clearHoverTimer(),this.hoverTimer=setTimeout(()=>{this.isHovering&&this.preloadData()},300)},clearHoverTimer(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null)},handleMouseLeave(){this.isHovering=!1,this.clearHoverTimer()},async preloadData(){try{await this.preloadCardDataAction(this.word)}catch(t){console.error("Error preloading card data:",t)}},handleClick(){typeof this.updatePopupData=="function"?this.updatePopupData(this.word):this.showCardModal(this.word)}}};function xx(t,e,n,r,i,s){return dt(),wt("div",{class:"example-word-content",onMouseenter:e[0]||(e[0]=(...a)=>s.startHoverTimer&&s.startHoverTimer(...a)),onMouseleave:e[1]||(e[1]=(...a)=>s.handleMouseLeave&&s.handleMouseLeave(...a)),onClick:e[2]||(e[2]=(...a)=>s.handleClick&&s.handleClick(...a))},[rh(t.$slots,"default")],32)}const kx=tn(wx,[["render",xx]]),D5=4,wu=1<<D5,T5=8,Sx=1<<T5,xi=4095;let _x=4,Ax=.5;const td=t=>.5*(1-Math.cos(t*Math.PI));let Qr;function Cx(){let t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t||/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}var um=function(t,e=0,n=0){if(Qr==null){Qr=new Array(xi+1);for(let k=0;k<xi+1;k++)Qr[k]=Math.random()}t<0&&(t=-t),e<0&&(e=-e),n<0&&(n=-n);let r=Math.floor(t),i=Math.floor(e),s=Math.floor(n),a=t-r,o=e-i,l=n-s,c,u,d=0,p=.5,f,w,v;for(let k=0;k<_x;k++){let y=r+(i<<D5)+(s<<T5);c=td(a),u=td(o),f=Qr[y&xi],f+=c*(Qr[y+1&xi]-f),w=Qr[y+wu&xi],w+=c*(Qr[y+wu+1&xi]-w),f+=u*(w-f),y+=Sx,w=Qr[y&xi],w+=c*(Qr[y+1&xi]-w),v=Qr[y+wu&xi],v+=c*(Qr[y+wu+1&xi]-v),w+=u*(v-w),f+=td(l)*(w-f),d+=f*p,p*=Ax,r<<=1,a*=2,i<<=1,o*=2,s<<=1,l*=2,a>=1&&(r++,a--),o>=1&&(i++,o--),l>=1&&(s++,l--)}return d};function Lx(t,e,n,r,i,s,a){!e&&!n||(t.save(),t.lineWidth=Math.max(.6,t.canvas.width/128)*.6*a,t.strokeStyle=s[1],t.strokeStyle="rgba(111,111,111, .215)",e&&(t.save(),t.lineCap=r,t.lineJoin=r,t.strokeStyle=s[1],t.beginPath(),t.moveTo(0,0),t.lineTo(t.canvas.width,t.canvas.height),t.stroke(),t.beginPath(),t.moveTo(t.canvas.width,0),t.lineTo(0,t.canvas.height),t.stroke(),t.beginPath(),t.moveTo(t.canvas.width/2,0),t.lineTo(t.canvas.width/2,t.canvas.height),t.stroke(),t.beginPath(),t.moveTo(0,t.canvas.height/2),t.lineTo(t.canvas.width,t.canvas.height/2),t.stroke(),t.restore()),n&&(t.strokeStyle="rgba(111,111,111, .215)",t.beginPath(),t.lineCap=r,t.moveTo(t.canvas.width/3,0),t.lineTo(t.canvas.width/3,t.canvas.height),t.stroke(),t.beginPath(),t.moveTo(t.canvas.width*2/3,0),t.lineTo(t.canvas.width*2/3,t.canvas.height),t.stroke(),t.beginPath(),t.moveTo(0,t.canvas.height/3),t.lineTo(t.canvas.width,t.canvas.height/3),t.stroke(),t.beginPath(),t.moveTo(0,t.canvas.height*2/3),t.lineTo(t.canvas.width,t.canvas.height*2/3),t.stroke()),t.restore())}function Px(t,e=.5){let n=[t[0]];for(let r=1;r<t.length-1;r++){let i=t[r-1],s=t[r],a=t[r+1],o={x:s.x+e*(i.x+a.x-2*s.x),y:s.y+e*(i.y+a.y-2*s.y)};n.push(o)}return n.push(t[t.length-1]),n}function Nx(t,e=2){let n=[];for(let r=0;r<t.length-1;r++){let i=t[r],s=t[r+1];n.push(i);for(let a=1;a<=e;a++){let o=a/(e+1),l=i.x+o*(s.x-i.x),c=i.y+o*(s.y-i.y);n.push({x:l,y:c})}}return n.push(t[t.length-1]),n}function Mx(t){return t.map(n=>(n=Ix(n,30),n=Nx(n,4),n=Px(n,.5),n))}function Dx(t){let e=0,n=[];for(let r=0;r<t.length-1;r++){let i=t[r],s=t[r+1],a=s.x-i.x,o=s.y-i.y,l=Math.sqrt(a*a+o*o);e+=l,n.push(l)}return{totalLength:e,segmentLengths:n}}function Tx(t,e){let n=Dx(t),r=n.totalLength,i=n.segmentLengths,s=r*e,a=0;for(let o=0;o<i.length;o++)if(a+=i[o],a>=s){let l=t[o],c=t[o+1],d=(s-(a-i[o]))/i[o];return{x:l.x+d*(c.x-l.x),y:l.y+d*(c.y-l.y)}}return t[t.length-1]}function Ex(t,e){let n=[];for(let r=0;r<e;r++){let i=r/(e-1),s=Tx(t,i);n.push(s)}return n}function Ix(t,e=5){if(t.length<3)return t;let n=[t[0]];for(let r=1;r<t.length-1;r++){let i=n[n.length-1],s=t[r],a=t[r+1],o=Math.hypot(s.x-i.x,s.y-i.y),l=Math.hypot(a.x-s.x,a.y-s.y);(o>=e||l>=e)&&n.push(s)}return n.push(t[t.length-1]),n}function xu(t,e,n=0,r=0,i=800){e=e.replace(/([A-Za-z])/g," $1 ").replace(/\s+/g," ").trim();const s=e.split(" ");let a=0,o=0,l=0,c=0,u=0;for(;u<s.length;){const d=s[u++];if(d)switch(d.toUpperCase()){case"M":for(l=a=parseFloat(s[u++]),c=o=parseFloat(s[u++]),a=a/1e3*i+n*i/1e3,o=i-o/1e3*i+r*i/1e3,t.moveTo(a,o);u<s.length&&!isNaN(parseFloat(s[u]));)a=parseFloat(s[u++]),o=parseFloat(s[u++]),a=a/1e3*i+n*i/1e3,o=i-o/1e3*i+r*i/1e3,t.lineTo(a,o);break;case"L":for(;u<s.length&&!isNaN(parseFloat(s[u]));)a=parseFloat(s[u++]),o=parseFloat(s[u++]),a=a/1e3*i+n*i/1e3,o=i-o/1e3*i+r*i/1e3,t.lineTo(a,o);break;case"Q":for(;u+3<s.length&&!isNaN(parseFloat(s[u]));){const p=parseFloat(s[u++]),f=parseFloat(s[u++]);a=parseFloat(s[u++]),o=parseFloat(s[u++]);const w=p/1e3*i+n*i/1e3,v=i-f/1e3*i+r*i/1e3,k=a/1e3*i+n*i/1e3,y=i-o/1e3*i+r*i/1e3;t.quadraticCurveTo(w,v,k,y)}break;case"C":for(;u+5<s.length&&!isNaN(parseFloat(s[u]));){const p=parseFloat(s[u++]),f=parseFloat(s[u++]),w=parseFloat(s[u++]),v=parseFloat(s[u++]);a=parseFloat(s[u++]),o=parseFloat(s[u++]);const k=p/1e3*i+n*i/1e3,y=i-f/1e3*i+r*i/1e3,x=w/1e3*i+n*i/1e3,N=i-v/1e3*i+r*i/1e3,L=a/1e3*i+n*i/1e3,j=i-o/1e3*i+r*i/1e3;t.bezierCurveTo(k,y,x,N,L,j)}break;case"Z":t.closePath(),a=l,o=c;break;default:console.warn(`Unrecognized SVG path command: ${d}`);break}}}const Fx="idle";class Jd{constructor({character:e,strokes:n,masks:r,dimension:i=100,speed:s=1,lineThickness:a=2,gridThickness:o=1,jitterAmp:l=0,colors:c=["#0f0"],lineType:u="round",showDiagonals:d=!1,showGrid:p=!1,state:f=Fx,clickAnimation:w=!0,clearBackground:v=!0,useMask:k=!1,canvas:y=null,blendMode:x="normal",dontLoadIfMissing:N=!1}){this.character=e,this.strokes_=n,this.masks_=r,this.dimension=i,this.speed=s,this.seed=Math.random()*1e3,this.lineThickness=a,this.gridThickness=o,this.jitterAmp=l,this.colors=c,this.lineType=u,this.clickAnimation=w,this.dontLoadIfMissing=N,this.strokeAttempts=0,this.state=f,this.clearBackground=!0,this.loadPromise=null,this.blendMode=x,this.demoMode=!1,this.useMask=k,this.userStrokes=[],this.currentStroke=null,this.isDrawing=!1,this.quizComplete=!1,this.isQuizing=!1,this.isDestroyed=!1,this.mouseDownWhileQuizing=!1,this.showDiagonals=d,this.showGrid=p,this.clickListener=null,this.lastX=null,this.lastY=null,this.easingFactor=.4,y?(this.canvas=y,this.canvas.width=this.dimension,this.canvas.height=this.dimension,this.ctx=this.canvas.getContext("2d")):(this.canvas=document.createElement("canvas"),this.canvas.width=this.dimension,this.canvas.height=this.dimension,this.ctx=this.canvas.getContext("2d")),this.init()}replaceStrokes(e,n,r){this.character=e,this.strokes_=n,this.masks_=r,this.totalLength=null,this.init()}init(){this.originalStrokes=void 0,this.strokes_?(this.processStrokes(this.strokes_),this.processMasks(this.masks_),this.setupDrawingEvents(),this.isAnimating=!1,this.isAnimatingStroke=!1,this.isAnimatingInterp=!1,this.animationProgress=0,this.animationFrame=null,this.loadPromise=Promise.resolve()):this.dontLoadIfMissing?this.loadPromise=Promise.resolve():this.loadPromise=this.loadStrokeData(this.onDataReady.bind(this))}processMasks(e){this.masks_=e}onDataReady(){this.data===void 0||this.data===null||(this.processStrokes(this.data.medians),this.processMasks(this.data.strokes),this.setupDrawingEvents(),this.isAnimating=!1,this.isAnimatingStroke=!1,this.isAnimatingInterp=!1,this.animationProgress=0,this.animationFrame=null,this.clickAnimation&&(Cx()?this.clickListener=this.canvas.addEventListener("touchstart",this.startAnimation.bind(this)):this.clickListener=this.canvas.addEventListener("click",this.startAnimation.bind(this))))}destroyy(){this.isDestroyed=!0,this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),this.strokeAnimationFrame&&(cancelAnimationFrame(this.strokeAnimationFrame),this.strokeAnimationFrame=null),this.interpAnimFrame&&(cancelAnimationFrame(this.interpAnimFrame),this.interpAnimFrame=null),this.demoAnimationFrame&&(cancelAnimationFrame(this.demoAnimationFrame),this.demoAnimationFrame=null),this.canvas&&(this.canvas.removeEventListener("mousedown",this.startUserDrawing),this.canvas.removeEventListener("mousemove",this.userStrokeMove),this.canvas.removeEventListener("mouseup",this.userStrokeEnded),this.canvas.removeEventListener("mouseout",this.userStrokeEnded),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMove),this.canvas.removeEventListener("touchend",this.handleTouchEnd),this.clickListener&&this.canvas.removeEventListener("click",this.clickListener)),this.canvas=null,this.ctx=null}setupDrawingEvents(){this.canvas.addEventListener("mousedown",this.startUserDrawing.bind(this)),this.canvas.addEventListener("mousemove",this.userStrokeMove.bind(this)),this.canvas.addEventListener("mouseup",this.userStrokeEnded.bind(this)),this.canvas.addEventListener("mouseout",this.userStrokeEnded.bind(this)),this.canvas.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),this.canvas.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),this.canvas.addEventListener("touchend",this.handleTouchEnd.bind(this),{passive:!1})}handleTouchStart(e){e.preventDefault();const n=e.touches[0],r=new MouseEvent("mousedown",{clientX:n.clientX,clientY:n.clientY});this.canvas.dispatchEvent(r)}handleTouchMove(e){e.preventDefault();const n=e.touches[0],r=new MouseEvent("mousemove",{clientX:n.clientX,clientY:n.clientY});this.canvas.dispatchEvent(r)}handleTouchEnd(e){e.preventDefault();const n=new MouseEvent("mouseup",{});this.canvas.dispatchEvent(n)}startUserDrawing(e){if(!this.isQuizing||this.isAnimatingStroke||this.isAnimatingInterp)return;this.mouseDownWhileQuizing=!0,this.isDrawing=!0,this.currentStroke=[];const n=this.canvas.getBoundingClientRect(),r=(e.clientX-n.left)*(this.canvas.width/n.width),i=(e.clientY-n.top)*(this.canvas.height/n.height);this.lastX=r,this.lastY=i,this.currentStroke.push({x:r,y:i}),this.drawUserStrokes()}userStrokeMove(e){if(!this.isDrawing||!this.isQuizing)return;const n=this.canvas.getBoundingClientRect(),r=(e.clientX-n.left)*(this.canvas.width/n.width),i=(e.clientY-n.top)*(this.canvas.height/n.height),s=this.lastX+(r-this.lastX)*this.easingFactor,a=this.lastY+(i-this.lastY)*this.easingFactor;this.lastX=s,this.lastY=a,this.currentStroke.push({x:s,y:a}),this.drawUserStrokes()}compareToReal(e,n){const r=n.map(x=>({x:x.x/1e3,y:x.y/1e3})),i=e.map(x=>({x:x.x/this.dimension,y:x.y/this.dimension})),s={x:r[r.length-1].x-r[0].x,y:r[r.length-1].y-r[0].y},a={x:i[i.length-1].x-i[0].x,y:i[i.length-1].y-i[0].y},o=x=>{const N=Math.hypot(x.x,x.y);return{x:x.x/N,y:x.y/N}},l=o(s),c=o(a),u=l.x*c.x+l.y*c.y,d=Math.hypot(i[0].x-r[0].x,i[0].y-r[0].y),p=.35,f=Math.hypot(s.x,s.y),w=Math.hypot(a.x,a.y),v=.5,k=Math.abs(w-f)/f,y=.8;return f<.16?u>y&&d<p:u>y&&d<p&&k<v}startStrokeAnimation(){if(!this.isQuizing)return;this.isAnimatingStroke=!0,this.strokeStartTime=Date.now();const n=this.strokes[this.userStrokes.length].length/this.speed*1,r=()=>{const i=Date.now()-this.strokeStartTime,s=Math.min(i/n,1);this.clearBg(),this.drawUserStrokes(),this.ctx.save(),this.ctx.lineCap=this.lineType,this.ctx.lineJoin=this.lineType,this.ctx.strokeStyle=this.colors[0],this.ctx.lineWidth=this.lineThickness*1.24,this.drawStroke(this.strokes[this.userStrokes.length],s),this.ctx.restore(),s<1?this.strokeAnimationFrame=requestAnimationFrame(r):(cancelAnimationFrame(this.strokeAnimationFrame),this.clearBg(),this.isAnimatingStroke=!1,this.drawUserStrokes(!1))};this.clearBg(),this.strokeAnimationFrame=requestAnimationFrame(r)}restartQuiz(){this.userStrokes=[],this.currentStroke=null,this.strokeAttempts=0,this.quizComplete=!1,this.quiz({onComplete:this.onCompleteQuiz})}userStrokeEnded(){if(!(!this.isDrawing||!this.isQuizing)&&!(this.userStrokes.length>=this.strokes.length)){if(this.isDrawing=!1,this.currentStroke&&this.currentStroke.length>0){if(this.compareToReal(this.currentStroke,this.strokes[this.userStrokes.length])){Ex(this.currentStroke,this.strokes[this.userStrokes.length].length);const n=this.strokes[this.userStrokes.length].map(r=>({x:r.x/1e3*this.dimension,y:r.y/1e3*this.dimension}));this.userStrokes.push(n),this.strokeAttempts=0}else this.strokeAttempts<2?this.strokeAttempts++:(this.strokeAttempts++,this.startStrokeAnimation(),this.isAnimatingStroke=!0);this.userStrokes.length===this.strokes.length&&(this.quizComplete=!0,this.clearBg(),this.demoMode=!1,cancelAnimationFrame(this.demoAnimationFrame),this.startInterpol(),this.onCompleteQuiz({strokes:this.userStrokes,character:this.character})),this.currentStroke=null}this.quizComplete||this.drawUserStrokes()}}helpMode(){if(this.quizComplete)return;this.demoMode=!0;let e=.5;const n=()=>{this.clearBg(e),e-=.004,e>0&&(this.demoAnimationFrame=requestAnimationFrame(n))};this.demoAnimationFrame=requestAnimationFrame(n)}startInterpol(){this.isAnimatingInterp=!0;let e=this.userStrokes,n=0,r=0;const i=()=>{r++,n=.5+Math.cos(r/50*Math.PI)*.5;let s=this.strokes.map((o,l)=>o.map((u,d)=>{let p=e[l][d];return{x:p.x*n*1e3/this.dimension+u.x*(1-n),y:p.y*n*1e3/this.dimension+u.y*(1-n)}})),a=s.reduce((o,l)=>o+this.getStrokeLength(l),0);this.draw({progress:1,clearbg:!0,onDrawComplete:null,alpha:1,strokes_in:s,strokes_in_length:a}),this.interpAnimFrame=requestAnimationFrame(i),r==50&&(cancelAnimationFrame(this.interpAnimFrame),this.clearBg(),this.isAnimatingInterp=!1),r==40&&(this.isQuizing=!1)};i()}drawUserStrokes(e=!0,n=!1){if(this.isQuizing){if(e&&this.clearBg(),this.ctx.save(),this.ctx.strokeStyle=this.colors[2],this.ctx.lineWidth=this.lineThickness,this.ctx.lineCap=this.lineType,n){this.ctx.save(),this.ctx.lineCap=this.lineType,this.ctx.lineJoin=this.lineType,this.ctx.strokeStyle=this.colors[0],this.ctx.lineWidth=this.useMask?this.lineThickness*6:this.lineThickness*1;for(let r=0;r<this.userStrokes.length;r++){const i=this.strokes[r];if(!(i.length<2)){if(this.useMask&&this.masks_&&r<this.masks_.length){this.ctx.save();let s=new Path2D;xu(s,this.masks_[r],this.offsetX,this.offsetY,this.dimension),this.ctx.clip(s)}this.ctx.beginPath(),this.ctx.moveTo(i[0].x/1e3*this.dimension,i[0].y/1e3*this.dimension);for(let s=1;s<i.length;s++)this.ctx.lineTo(i[s].x/1e3*this.dimension,i[s].y/1e3*this.dimension);this.ctx.stroke(),this.useMask&&this.masks_&&r<this.masks_.length&&this.ctx.restore()}}this.ctx.restore()}else{this.ctx.save(),this.ctx.strokeStyle=this.colors[0],this.ctx.lineWidth=this.lineThickness*.5,this.ctx.lineWidth=this.lineThickness*1.24,this.ctx.lineWidth=this.useMask?this.lineThickness*6:this.lineThickness*1;for(let r=0;r<this.userStrokes.length;r++){const i=this.userStrokes[r];if(!(i.length<2)){if(this.useMask&&this.masks_&&r<this.masks_.length){this.ctx.save();let s=new Path2D;xu(s,this.masks_[r],this.offsetX,this.offsetY,this.dimension),this.ctx.clip(s)}this.ctx.beginPath(),this.ctx.moveTo(i[0].x,i[0].y);for(let s=1;s<i.length;s++)this.ctx.lineTo(i[s].x,i[s].y);this.ctx.stroke(),this.useMask&&this.masks_&&r<this.masks_.length&&this.ctx.restore()}}this.ctx.restore()}if(this.currentStroke&&this.currentStroke.length>1&&this.quizComplete===!1){this.ctx.save(),this.ctx.lineCap=this.lineType,this.ctx.lineJoin=this.lineType,this.ctx.strokeStyle=this.colors[2],this.ctx.lineWidth=this.lineThickness*1,this.ctx.lineWidth=this.lineThickness*1,this.ctx.beginPath(),this.ctx.moveTo(this.currentStroke[0].x,this.currentStroke[0].y);for(let r=1;r<this.currentStroke.length;r++)this.ctx.lineTo(this.currentStroke[r].x,this.currentStroke[r].y);this.ctx.stroke(),this.ctx.restore()}this.ctx.restore()}}async quiz(e){this.onCompleteQuiz=e.onComplete,await this.loadPromise,this.userStrokes=[],this.currentStroke=null,this.isQuizing=!0,this.clearBg()}processStrokes(e){e.map(l=>{l.map(c=>{c.x=c[0],c.y=1e3-c[1]})});let n=1/0,r=1/0,i=-1/0,s=-1/0;e.forEach(l=>{l.forEach(c=>{n=Math.min(n,c.x),r=Math.min(r,c.y),i=Math.max(i,c.x),s=Math.max(s,c.y)})});const a=0,o=(1e3-(s-r))/2-r;e=e.map(l=>l.map(c=>({x:c.x+a,y:c.y+o}))),this.strokes=Mx(e),this.originalStrokes=this.strokes,this.offsetX=a,this.offsetY=o}applyJitter(e,n){return e.map(r=>{let i=.001;return r.map((s,a)=>{let o=.1+Math.pow(a/r.length,1),l=o*n*(2*um(i*s.x,i*s.y,this.seed+821.31)-1),c=o*n*(2*um(i*s.x,i*s.y,this.seed+912.31)-1);return{x:s.x+l,y:s.y+c}})})}setSpeed(e){this.speed=e}setColors(e){this.colors=e}setGridThickness(e){this.gridThickness=e}displayGrid(){this.showGrid=!0}displayDiagonals(){this.showDiagonals=!0}hideGrid(){this.showGrid=!1}hideDiagonals(){this.showDiagonals=!1}setLineThickness(e){this.lineThickness=e}async setJitterAmp(e){await this.loadPromise,this.jitterAmp=e,this.jitteredStrokes=this.applyJitter(this.originalStrokes,this.jitterAmp)}getCanvas(){return this.canvas}isState(e){return this.state===e}clear(){this.ctx.clearRect(0,0,this.dimension,this.dimension)}clearBg(e=0){this.clear(),this.clearBackground||(this.ctx.fillStyle=this.colors[3],this.ctx.fillRect(0,0,this.dimension,this.dimension)),Lx(this.ctx,this.showDiagonals,this.showGrid,this.lineType,this.dimension,this.colors,this.gridThickness),this.demoMode&&!this.isAnimatingInterp&&(this.draw({progress:1,clearbg:!1,onDrawComplete:null,alpha:e,strokes_in:null,strokes_in_length:null}),this.drawUserStrokes(!1))}giveUp(){this.isQuizing=!1,this.clearBg(),this.startAnimation()}async startAnimation(){var a;await this.loadPromise,this.isAnimating=!0;const e=Math.random().toString(36).substring(2);this.currentAnimationId=e;let n=(a=this.originalStrokes)==null?void 0:a.map(o=>o.map(({x:l,y:c})=>({x:l,y:c}))),r=this.applyJitter(n,this.jitterAmp);this.ctx.save(),this.ctx.lineCap=this.lineType,this.ctx.lineJoin=this.lineType,this.ctx.globalCompositeOperation=this.blendMode,this.ctx.strokeStyle=this.colors[0],this.ctx.lineWidth=this.useMask?this.lineThickness*6:this.lineThickness*1.24,this.clearBg();const i=this.originalStrokes.length,s=o=>new Promise(l=>{let c=null,u=10*r[o].length;const d=p=>{if(this.currentAnimationId!==e||!this.isAnimating){l("interrupted");return}c||(c=p);const f=p-c;let w=Math.min(f/u,1);this.clearBg(),this.draw({progress:1,clearbg:!1,alpha:.35}),this.drawPartial(r,o,w,1),w<1?this.animationFrame=requestAnimationFrame(d):l("completed")};this.animationFrame=requestAnimationFrame(d)});for(let o=0;o<i&&!(this.currentAnimationId!==e||!this.isAnimating||await s(o)==="interrupted");o++)if(o<i-1){const c=Date.now(),u=160;for(;Date.now()-c<u&&!(this.currentAnimationId!==e||!this.isAnimating);)await new Promise(d=>setTimeout(d,10));if(this.currentAnimationId!==e||!this.isAnimating)break}this.currentAnimationId===e&&this.stopAnimation(),this.ctx.restore()}stopAnimation(){this.isAnimating=!1,this.isAnimatingStroke=!1,this.isAnimatingInterp=!1,this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),this.strokeAnimationFrame&&(cancelAnimationFrame(this.strokeAnimationFrame),this.strokeAnimationFrame=null),this.interpAnimFrame&&(cancelAnimationFrame(this.interpAnimFrame),this.interpAnimFrame=null),this.demoAnimationFrame&&(cancelAnimationFrame(this.demoAnimationFrame),this.demoAnimationFrame=null),this.strokeStartTime=null,this.startTime=null,this.currentAnimationId=null,this.demoMode=!1,this.seed=Math.random()*1e3}async draw(e={}){var v;const{progress:n=1,clearbg:r=!0,onDrawComplete:i=null,alpha:s=1,strokes_in:a=null,strokes_in_length:o=null}=e;await this.loadPromise;let l=a||((v=this.originalStrokes)==null?void 0:v.map(k=>k.map(({x:y,y:x})=>({x:y,y:x}))));if(!l){let k=document.createElement("span");k.textContent=this.character,Object.assign(k.style,{fontSize:"10em",fontFamily:"Kaiti",margin:"0em",display:"inline-block"}),this.canvas=k;return}r&&this.clearBg(),this.totalLength=l.reduce((k,y)=>k+this.getStrokeLength(y),0);let c=l.reduce((k,y)=>k+this.getStrokeLength(y),0);o&&(c=o);let u=c*n,d=0,p=0,f=0;for(let k=0;k<l.length;k++){const y=this.getStrokeLength(l[k]);if(d+y>u){p=k,f=(u-d)/y;break}d+=y,p=k,f=1}let w=this.applyJitter(l,this.jitterAmp);this.ctx.save(),this.ctx.lineCap=this.lineType,this.ctx.lineJoin=this.lineType,this.ctx.globalAlpha=s,this.ctx.globalCompositeOperation=this.blendMode,this.colors[0]&&(this.ctx.strokeStyle=this.colors[0],this.ctx.lineWidth=this.lineThickness*1.24,this.useMask&&(this.ctx.lineWidth=this.lineThickness*5),this.drawPartial(w,p,f,s)),this.ctx.restore(),i&&i()}getStrokeLength(e){let n=0;for(let r=1;r<e.length;r++){const i=e[r].x-e[r-1].x,s=e[r].y-e[r-1].y;n+=Math.sqrt(i*i+s*s)}return n}drawPartial(e,n,r,i=1){let s;this.useMask&&(s=new Path2D);for(let a=0;a<n&&a<e.length;a++)this.useMask&&(this.ctx.save(),s=new Path2D,xu(s,this.masks_[a],this.offsetX,this.offsetY,this.dimension),this.ctx.clip(s)),this.drawStroke(e[a],1,!1,i),this.useMask&&this.ctx.restore();if(n>=0&&n<e.length){if(this.useMask){this.ctx.save();let a=new Path2D;xu(a,this.masks_[n],this.offsetX,this.offsetY,this.dimension),this.ctx.clip(a)}this.drawStroke(e[n],r,!1,i),this.useMask&&this.ctx.restore()}}drawStroke(e,n=1,r=!1,i=1){if(!e||e.length<2)return;n=Math.min(1,Math.max(0,n)),this.ctx.beginPath();const s=e.map(u=>({x:u.x*this.dimension/1e3,y:u.y*this.dimension/1e3}));let a=0,o=[0];for(let u=1;u<s.length;u++){const d=s[u].x-s[u-1].x,p=s[u].y-s[u-1].y;a+=Math.sqrt(d*d+p*p),o.push(a)}const l=n*a;this.ctx.moveTo(s[0].x,s[0].y);let c=0;for(let u=1;u<s.length;u++){const d=s[u-1],p=s[u],f=o[u]-o[u-1];if(c+=f,c>=l){const v=(l-(c-f))/f,k=d.x+(p.x-d.x)*v,y=d.y+(p.y-d.y)*v;if(r){const x=u>1?s[u-2]:d,N=u<s.length-1?s[u+1]:p,L=d.x+(p.x-x.x)/6,j=d.y+(p.y-x.y)/6,it=p.x-(N.x-d.x)/6,J=p.y-(N.y-d.y)/6;this.ctx.bezierCurveTo(L,j,it,J,k,y)}else this.ctx.lineTo(k,y);break}else if(r){const w=u>1?s[u-2]:d,v=u<s.length-1?s[u+1]:p,k=d.x+(p.x-w.x)/6,y=d.y+(p.y-w.y)/6,x=p.x-(v.x-d.x)/6,N=p.y-(v.y-d.y)/6;this.ctx.bezierCurveTo(k,y,x,N,p.x,p.y)}else this.ctx.lineTo(p.x,p.y)}this.ctx.stroke()}async loadStrokeData(e=null){try{this.originalStrokes=void 0;const n=await fetch(`/api/getStrokes/${this.character}`);if(!n.ok)return;const r=await n.json();this.data=r,e&&e()}catch(n){throw console.error("Error loading character data:",n),n}}}const Ox=pc({name:"AnimatedHanzi",props:{character:{type:String,required:!0},strokes:{type:Object,default:()=>({})},animatable:{type:Boolean,default:!0},drawThin:{type:Boolean,default:!1},animSpeed:{type:Number,default:.07}},setup(t,{expose:e}){const n=te(null),r=te(null),i=te(null),s=te(document.documentElement.getAttribute("data-theme")||"light"),a=te(!1),o=Ce(()=>t.strokes&&t.strokes.medians&&t.strokes.strokes&&Array.isArray(t.strokes.medians)&&t.strokes.medians.length>0&&Array.isArray(t.strokes.strokes)&&t.strokes.strokes.length>0),l=()=>{let w=localStorage.getItem("theme")||"light",v;return w==="dark"&&(v=["#e5ddeddd","#e2cdec88","#e5dded","#151515"]),w==="light"&&(v=["#151511dd","#eaa","#151511","#f3f3f3"]),w==="theme1"&&(v=["#151511dd","#eaa","#151511","#f3f3f3"]),w==="theme2"&&(v=["#e5ddeddd","#e2cdec88","#e5dded","#151515"]),v},c=()=>{if(!r.value)return;const w=["dark","theme2"].includes(s.value),v=l();r.value.isDarkMode=w,r.value.setColors(v),r.value.setGridThickness(s.value==="theme1"||s.value==="theme2"?3:1),r.value.clearBg(),r.value.draw({progress:1,clearbg:!1})},u=async()=>{await Or();const w=n.value;if(!w){console.error("Canvas element not found.");return}w.width=800,w.height=800,r.value&&(r.value.destroyy(),r.value=null);const v=["dark","theme2"].includes(s.value);if(!o.value){console.error("No stroke data provided for character:",t.character);return}let k=s.value==="theme1"||s.value==="theme2"?3:1,y=t.strokes.medians||[],x=t.strokes.strokes||[];r.value=new Jd({strokes:y,masks:x,character:t.character,canvas:w,dimension:w.width,speed:t.animSpeed,lineThickness:t.drawThin?1:8*w.width/200,gridThickness:k,colors:l(),showDiagonals:!0,showGrid:!1,useMask:!0,blendMode:"normal"}),r.value.isDarkMode=v,await r.value.loadPromise,r.value.draw({progress:1,clearbg:!0})},d=()=>{r.value&&(a.value&&(a.value=!1,r.value.isQuizing=!1,r.value.quizComplete=!1),r.value.stopAnimation(),r.value.animationFrame&&(cancelAnimationFrame(r.value.animationFrame),r.value.animationFrame=null),r.value.strokeAnimationFrame&&(cancelAnimationFrame(r.value.strokeAnimationFrame),r.value.strokeAnimationFrame=null),r.value.interpAnimFrame&&(cancelAnimationFrame(r.value.interpAnimFrame),r.value.interpAnimFrame=null),r.value.demoAnimationFrame&&(cancelAnimationFrame(r.value.demoAnimationFrame),r.value.demoAnimationFrame=null),r.value.isAnimating=!1,r.value.isAnimatingStroke=!1,r.value.isAnimatingInterp=!1,r.value.clearBg(),setTimeout(()=>{r.value.startAnimation()},10))},p=()=>{if(r.value){if(a.value&&r.value.quizComplete){r.value.userStrokes=[],r.value.currentStroke=null,r.value.isQuizing=!0,r.value.quizComplete=!1,r.value.clearBg(),r.value.drawUserStrokes(!0);return}a.value=!0,r.value.stopAnimation(),r.value.animationFrame&&(cancelAnimationFrame(r.value.animationFrame),r.value.animationFrame=null),r.value.strokeAnimationFrame&&(cancelAnimationFrame(r.value.strokeAnimationFrame),r.value.strokeAnimationFrame=null),r.value.interpAnimFrame&&(cancelAnimationFrame(r.value.interpAnimFrame),r.value.interpAnimFrame=null),r.value.isAnimating=!1,r.value.isAnimatingStroke=!1,r.value.isAnimatingInterp=!1,r.value.quiz({onComplete:w=>{r.value.quizComplete=!0,a.value=!0}})}},f=()=>{i.value=new MutationObserver(w=>{w.forEach(v=>{if(v.attributeName==="data-theme"){const k=document.documentElement.getAttribute("data-theme");s.value!==k&&(s.value=k,c())}})}),i.value.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})};return mc(()=>{u(),f()}),E2(()=>{var w;(w=i.value)==null||w.disconnect(),r.value&&(t.animatable&&n.value&&(n.value.removeEventListener("click",d),n.value.removeEventListener("touchstart",d)),r.value.destroyy())}),zr(()=>t.character,async()=>{r.value&&(t.animatable&&n.value&&(n.value.removeEventListener("click",d),n.value.removeEventListener("touchstart",d)),r.value.destroyy()),a.value=!1,u()}),zr(()=>t.strokes,()=>{r.value&&t.strokes&&t.strokes.medians&&(a.value=!1,u())},{deep:!0}),e({plotter:()=>r.value,hasStrokeData:o}),{hanziCanvas:n,animateCharacter:d,beginQuizMode:p,plotter:r,hasStrokeData:o}}}),Rx={key:0,class:"animated-hanzi"},jx={ref:"hanziCanvas",class:"anim-character"};function Bx(t,e,n,r,i,s){const a=_e("font-awesome-icon");return t.hasStrokeData?(dt(),wt("div",Rx,[_("div",{class:"redraw-button",onClick:e[0]||(e[0]=(...o)=>t.animateCharacter&&t.animateCharacter(...o))},[Vt(a,{icon:["fas","arrow-rotate-right"],class:"redraw-icon"})]),_("div",{class:"clear-button",onClick:e[1]||(e[1]=(...o)=>t.beginQuizMode&&t.beginQuizMode(...o))},[Vt(a,{icon:["fas","pen-fancy"],class:"clear-icon"})]),_("canvas",jx,null,512)])):Xt("",!0)}const zx=tn(Ox,[["render",Bx],["__scopeId","data-v-7d7942bb"]]),qx={name:"ToastNotification",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:t=>["success","error","info","warning"].includes(t)},duration:{type:Number,default:4e3},position:{type:String,default:"bottom-right",validator:t=>["top-left","top-right","bottom-left","bottom-right"].includes(t)},visible:{type:Boolean,default:!1}},emits:["update:visible","hidden"],watch:{visible(t){t?this.startTimer():this.clearTimer()}},data(){return{timer:null}},methods:{hide(){this.clearTimer(),this.$emit("update:visible",!1),this.$emit("hidden")},startTimer(){this.duration>0&&(this.clearTimer(),this.timer=setTimeout(()=>{this.hide()},this.duration))},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},mounted(){this.visible&&this.startTimer()},beforeUnmount(){this.clearTimer()}},Wx={class:"toast-content"},Ux={class:"toast-message"};function $x(t,e,n,r,i,s){return dt(),ln(sw,{to:"body"},[n.visible?(dt(),wt("div",{key:0,class:we(["toast-container",n.position])},[_("div",{class:we(["toast-notification",n.type])},[_("div",Wx,[_("div",Ux,Wt(n.message),1),_("button",{onClick:e[0]||(e[0]=(...a)=>s.hide&&s.hide(...a)),class:"toast-close"},"")])],2)],2)):Xt("",!0)])}const E5=tn(qx,[["render",$x]]);var Hx={value:()=>{}};function vc(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zu(n)}function zu(t){this._=t}function Vx(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zu.prototype=vc.prototype={constructor:zu,on:function(t,e){var n=this._,r=Vx(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=Gx(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=hm(n[i],t.name,e);else if(e==null)for(i in n)n[i]=hm(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zu(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Gx(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function hm(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Hx,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Qd="http://www.w3.org/1999/xhtml";const fm={svg:"http://www.w3.org/2000/svg",xhtml:Qd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rh(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),fm.hasOwnProperty(e)?{space:fm[e],local:t}:t}function Yx(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qd&&e.documentElement.namespaceURI===Qd?e.createElement(t):e.createElementNS(n,t)}}function Kx(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function I5(t){var e=Rh(t);return(e.local?Kx:Yx)(e)}function Xx(){}function l1(t){return t==null?Xx:function(){return this.querySelector(t)}}function Jx(t){typeof t!="function"&&(t=l1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new Cr(r,this._parents)}function Qx(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Zx(){return[]}function F5(t){return t==null?Zx:function(){return this.querySelectorAll(t)}}function t6(t){return function(){return Qx(t.apply(this,arguments))}}function e6(t){typeof t=="function"?t=t6(t):t=F5(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new Cr(r,i)}function O5(t){return function(){return this.matches(t)}}function R5(t){return function(e){return e.matches(t)}}var n6=Array.prototype.find;function r6(t){return function(){return n6.call(this.children,t)}}function i6(){return this.firstElementChild}function s6(t){return this.select(t==null?i6:r6(typeof t=="function"?t:R5(t)))}var a6=Array.prototype.filter;function o6(){return Array.from(this.children)}function l6(t){return function(){return a6.call(this.children,t)}}function c6(t){return this.selectAll(t==null?o6:l6(typeof t=="function"?t:R5(t)))}function u6(t){typeof t!="function"&&(t=O5(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new Cr(r,this._parents)}function j5(t){return new Array(t.length)}function h6(){return new Cr(this._enter||this._groups.map(j5),this._parents)}function uh(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}uh.prototype={constructor:uh,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function f6(t){return function(){return t}}function d6(t,e,n,r,i,s){for(var a=0,o,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new uh(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function p6(t,e,n,r,i,s,a){var o,l,c=new Map,u=e.length,d=s.length,p=new Array(u),f;for(o=0;o<u;++o)(l=e[o])&&(p[o]=f=a.call(l,l.__data__,o,e)+"",c.has(f)?i[o]=l:c.set(f,l));for(o=0;o<d;++o)f=a.call(t,s[o],o,s)+"",(l=c.get(f))?(r[o]=l,l.__data__=s[o],c.delete(f)):n[o]=new uh(t,s[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(p[o])===l&&(i[o]=l)}function m6(t){return t.__data__}function g6(t,e){if(!arguments.length)return Array.from(this,m6);var n=e?p6:d6,r=this._parents,i=this._groups;typeof t!="function"&&(t=f6(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],p=d.length,f=v6(t.call(u,u&&u.__data__,c,r)),w=f.length,v=o[c]=new Array(w),k=a[c]=new Array(w),y=l[c]=new Array(p);n(u,d,v,k,y,f,e);for(var x=0,N=0,L,j;x<w;++x)if(L=v[x]){for(x>=N&&(N=x+1);!(j=k[N])&&++N<w;);L._next=j||null}}return a=new Cr(a,r),a._enter=o,a._exit=l,a}function v6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function y6(){return new Cr(this._exit||this._groups.map(j5),this._parents)}function b6(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function w6(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=n[l],u=r[l],d=c.length,p=o[l]=new Array(d),f,w=0;w<d;++w)(f=c[w]||u[w])&&(p[w]=f);for(;l<i;++l)o[l]=n[l];return new Cr(o,this._parents)}function x6(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function k6(t){t||(t=S6);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),c,u=0;u<o;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new Cr(i,this._parents).order()}function S6(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _6(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function A6(){return Array.from(this)}function C6(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function L6(){let t=0;for(const e of this)++t;return t}function P6(){return!this.node()}function N6(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function M6(t){return function(){this.removeAttribute(t)}}function D6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T6(t,e){return function(){this.setAttribute(t,e)}}function E6(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function I6(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function F6(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function O6(t,e){var n=Rh(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?D6:M6:typeof e=="function"?n.local?F6:I6:n.local?E6:T6)(n,e))}function B5(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function R6(t){return function(){this.style.removeProperty(t)}}function j6(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B6(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function z6(t,e,n){return arguments.length>1?this.each((e==null?R6:typeof e=="function"?B6:j6)(t,e,n??"")):Ro(this.node(),t)}function Ro(t,e){return t.style.getPropertyValue(e)||B5(t).getComputedStyle(t,null).getPropertyValue(e)}function q6(t){return function(){delete this[t]}}function W6(t,e){return function(){this[t]=e}}function U6(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $6(t,e){return arguments.length>1?this.each((e==null?q6:typeof e=="function"?U6:W6)(t,e)):this.node()[t]}function z5(t){return t.trim().split(/^|\s+/)}function c1(t){return t.classList||new q5(t)}function q5(t){this._node=t,this._names=z5(t.getAttribute("class")||"")}q5.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function W5(t,e){for(var n=c1(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function U5(t,e){for(var n=c1(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function H6(t){return function(){W5(this,t)}}function V6(t){return function(){U5(this,t)}}function G6(t,e){return function(){(e.apply(this,arguments)?W5:U5)(this,t)}}function Y6(t,e){var n=z5(t+"");if(arguments.length<2){for(var r=c1(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?G6:e?H6:V6)(n,e))}function K6(){this.textContent=""}function X6(t){return function(){this.textContent=t}}function J6(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Q6(t){return arguments.length?this.each(t==null?K6:(typeof t=="function"?J6:X6)(t)):this.node().textContent}function Z6(){this.innerHTML=""}function tk(t){return function(){this.innerHTML=t}}function ek(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function nk(t){return arguments.length?this.each(t==null?Z6:(typeof t=="function"?ek:tk)(t)):this.node().innerHTML}function rk(){this.nextSibling&&this.parentNode.appendChild(this)}function ik(){return this.each(rk)}function sk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ak(){return this.each(sk)}function ok(t){var e=typeof t=="function"?t:I5(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function lk(){return null}function ck(t,e){var n=typeof t=="function"?t:I5(t),r=e==null?lk:typeof e=="function"?e:l1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function uk(){var t=this.parentNode;t&&t.removeChild(this)}function hk(){return this.each(uk)}function fk(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dk(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pk(t){return this.select(t?dk:fk)}function mk(t){return arguments.length?this.property("__data__",t):this.node().__data__}function gk(t){return function(e){t.call(this,e,this.__data__)}}function vk(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function yk(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function bk(t,e,n){return function(){var r=this.__on,i,s=gk(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function wk(t,e,n){var r=vk(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<s;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(o=e?bk:yk,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function $5(t,e,n){var r=B5(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function xk(t,e){return function(){return $5(this,t,e)}}function kk(t,e){return function(){return $5(this,t,e.apply(this,arguments))}}function Sk(t,e){return this.each((typeof e=="function"?kk:xk)(t,e))}function*_k(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var H5=[null];function Cr(t,e){this._groups=t,this._parents=e}function yc(){return new Cr([[document.documentElement]],H5)}function Ak(){return this}Cr.prototype=yc.prototype={constructor:Cr,select:Jx,selectAll:e6,selectChild:s6,selectChildren:c6,filter:u6,data:g6,enter:h6,exit:y6,join:b6,merge:w6,selection:Ak,order:x6,sort:k6,call:_6,nodes:A6,node:C6,size:L6,empty:P6,each:N6,attr:O6,style:z6,property:$6,classed:Y6,text:Q6,html:nk,raise:ik,lower:ak,append:ok,insert:ck,remove:hk,clone:pk,datum:mk,on:wk,dispatch:Sk,[Symbol.iterator]:_k};function kr(t){return typeof t=="string"?new Cr([[document.querySelector(t)]],[document.documentElement]):new Cr([[t]],H5)}function Ck(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ji(t,e){if(t=Ck(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Lk={passive:!1},tc={capture:!0,passive:!1};function ed(t){t.stopImmediatePropagation()}function Co(t){t.preventDefault(),t.stopImmediatePropagation()}function V5(t){var e=t.document.documentElement,n=kr(t).on("dragstart.drag",Co,tc);"onselectstart"in e?n.on("selectstart.drag",Co,tc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function G5(t,e){var n=t.document.documentElement,r=kr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Co,tc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ku=t=>()=>t;function Zd(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:a,y:o,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Zd.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Pk(t){return!t.ctrlKey&&!t.button}function Nk(){return this.parentNode}function Mk(t,e){return e??{x:t.x,y:t.y}}function Dk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tk(){var t=Pk,e=Nk,n=Mk,r=Dk,i={},s=vc("start","drag","end"),a=0,o,l,c,u,d=0;function p(L){L.on("mousedown.drag",f).filter(r).on("touchstart.drag",k).on("touchmove.drag",y,Lk).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(L,j){if(!(u||!t.call(this,L,j))){var it=N(this,e.call(this,L,j),L,j,"mouse");it&&(kr(L.view).on("mousemove.drag",w,tc).on("mouseup.drag",v,tc),V5(L.view),ed(L),c=!1,o=L.clientX,l=L.clientY,it("start",L))}}function w(L){if(Co(L),!c){var j=L.clientX-o,it=L.clientY-l;c=j*j+it*it>d}i.mouse("drag",L)}function v(L){kr(L.view).on("mousemove.drag mouseup.drag",null),G5(L.view,c),Co(L),i.mouse("end",L)}function k(L,j){if(t.call(this,L,j)){var it=L.changedTouches,J=e.call(this,L,j),G=it.length,nt,mt;for(nt=0;nt<G;++nt)(mt=N(this,J,L,j,it[nt].identifier,it[nt]))&&(ed(L),mt("start",L,it[nt]))}}function y(L){var j=L.changedTouches,it=j.length,J,G;for(J=0;J<it;++J)(G=i[j[J].identifier])&&(Co(L),G("drag",L,j[J]))}function x(L){var j=L.changedTouches,it=j.length,J,G;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),J=0;J<it;++J)(G=i[j[J].identifier])&&(ed(L),G("end",L,j[J]))}function N(L,j,it,J,G,nt){var mt=s.copy(),E=Ji(nt||it,j),B,Q,M;if((M=n.call(L,new Zd("beforestart",{sourceEvent:it,target:p,identifier:G,active:a,x:E[0],y:E[1],dx:0,dy:0,dispatch:mt}),J))!=null)return B=M.x-E[0]||0,Q=M.y-E[1]||0,function ot(Y,rt,Z){var lt=E,ft;switch(Y){case"start":i[G]=ot,ft=a++;break;case"end":delete i[G],--a;case"drag":E=Ji(Z||rt,j),ft=a;break}mt.call(Y,L,new Zd(Y,{sourceEvent:rt,subject:M,target:p,identifier:G,active:ft,x:E[0]+B,y:E[1]+Q,dx:E[0]-lt[0],dy:E[1]-lt[1],dispatch:mt}),J)}}return p.filter=function(L){return arguments.length?(t=typeof L=="function"?L:ku(!!L),p):t},p.container=function(L){return arguments.length?(e=typeof L=="function"?L:ku(L),p):e},p.subject=function(L){return arguments.length?(n=typeof L=="function"?L:ku(L),p):n},p.touchable=function(L){return arguments.length?(r=typeof L=="function"?L:ku(!!L),p):r},p.on=function(){var L=s.on.apply(s,arguments);return L===s?p:L},p.clickDistance=function(L){return arguments.length?(d=(L=+L)*L,p):Math.sqrt(d)},p}function u1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Y5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bc(){}var ec=.7,hh=1/ec,Lo="\\s*([+-]?\\d+)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ek=/^#([0-9a-f]{3,8})$/,Ik=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),Fk=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),Ok=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${nc}\\)$`),Rk=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${nc}\\)$`),jk=new RegExp(`^hsl\\(${nc},${Mi},${Mi}\\)$`),Bk=new RegExp(`^hsla\\(${nc},${Mi},${Mi},${nc}\\)$`),dm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u1(bc,rc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pm,formatHex:pm,formatHex8:zk,formatHsl:qk,formatRgb:mm,toString:mm});function pm(){return this.rgb().formatHex()}function zk(){return this.rgb().formatHex8()}function qk(){return K5(this).formatHsl()}function mm(){return this.rgb().formatRgb()}function rc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ek.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gm(e):n===3?new hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Su(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Su(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ik.exec(t))?new hr(e[1],e[2],e[3],1):(e=Fk.exec(t))?new hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ok.exec(t))?Su(e[1],e[2],e[3],e[4]):(e=Rk.exec(t))?Su(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jk.exec(t))?bm(e[1],e[2]/100,e[3]/100,1):(e=Bk.exec(t))?bm(e[1],e[2]/100,e[3]/100,e[4]):dm.hasOwnProperty(t)?gm(dm[t]):t==="transparent"?new hr(NaN,NaN,NaN,0):null}function gm(t){return new hr(t>>16&255,t>>8&255,t&255,1)}function Su(t,e,n,r){return r<=0&&(t=e=n=NaN),new hr(t,e,n,r)}function Wk(t){return t instanceof bc||(t=rc(t)),t?(t=t.rgb(),new hr(t.r,t.g,t.b,t.opacity)):new hr}function tp(t,e,n,r){return arguments.length===1?Wk(t):new hr(t,e,n,r??1)}function hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}u1(hr,tp,Y5(bc,{brighter(t){return t=t==null?hh:Math.pow(hh,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ec:Math.pow(ec,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(ka(this.r),ka(this.g),ka(this.b),fh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vm,formatHex:vm,formatHex8:Uk,formatRgb:ym,toString:ym}));function vm(){return`#${ya(this.r)}${ya(this.g)}${ya(this.b)}`}function Uk(){return`#${ya(this.r)}${ya(this.g)}${ya(this.b)}${ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function ym(){const t=fh(this.opacity);return`${t===1?"rgb(":"rgba("}${ka(this.r)}, ${ka(this.g)}, ${ka(this.b)}${t===1?")":`, ${t})`}`}function fh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ka(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ya(t){return t=ka(t),(t<16?"0":"")+t.toString(16)}function bm(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ri(t,e,n,r)}function K5(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);if(t instanceof bc||(t=rc(t)),!t)return new ri;if(t instanceof ri)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ri(a,o,l,t.opacity)}function $k(t,e,n,r){return arguments.length===1?K5(t):new ri(t,e,n,r??1)}function ri(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}u1(ri,$k,Y5(bc,{brighter(t){return t=t==null?hh:Math.pow(hh,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ec:Math.pow(ec,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hr(nd(t>=240?t-240:t+120,i,r),nd(t,i,r),nd(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ri(wm(this.h),_u(this.s),_u(this.l),fh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fh(this.opacity);return`${t===1?"hsl(":"hsla("}${wm(this.h)}, ${_u(this.s)*100}%, ${_u(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wm(t){return t=(t||0)%360,t<0?t+360:t}function _u(t){return Math.max(0,Math.min(1,t||0))}function nd(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const X5=t=>()=>t;function Hk(t,e){return function(n){return t+n*e}}function Vk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Gk(t){return(t=+t)==1?J5:function(e,n){return n-e?Vk(e,n,t):X5(isNaN(e)?n:e)}}function J5(t,e){var n=e-t;return n?Hk(t,n):X5(isNaN(t)?e:t)}const xm=function t(e){var n=Gk(e);function r(i,s){var a=n((i=tp(i)).r,(s=tp(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=J5(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Os(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ep=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rd=new RegExp(ep.source,"g");function Yk(t){return function(){return t}}function Kk(t){return function(e){return t(e)+""}}function Xk(t,e){var n=ep.lastIndex=rd.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=ep.exec(t))&&(i=rd.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Os(r,i)})),n=rd.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Kk(l[0].x):Yk(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var km=180/Math.PI,np={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Q5(t,e,n,r,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*km,skewX:Math.atan(l)*km,scaleX:a,scaleY:o}}var Au;function Jk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?np:Q5(e.a,e.b,e.c,e.d,e.e,e.f)}function Qk(t){return t==null||(Au||(Au=document.createElementNS("http://www.w3.org/2000/svg","g")),Au.setAttribute("transform",t),!(t=Au.transform.baseVal.consolidate()))?np:(t=t.matrix,Q5(t.a,t.b,t.c,t.d,t.e,t.f))}function Z5(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,d,p,f,w){if(c!==d||u!==p){var v=f.push("translate(",null,e,null,n);w.push({i:v-4,x:Os(c,d)},{i:v-2,x:Os(u,p)})}else(d||p)&&f.push("translate("+d+e+p+n)}function a(c,u,d,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Os(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,p){c!==u?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Os(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,p,f,w){if(c!==d||u!==p){var v=f.push(i(f)+"scale(",null,",",null,")");w.push({i:v-4,x:Os(c,d)},{i:v-2,x:Os(u,p)})}else(d!==1||p!==1)&&f.push(i(f)+"scale("+d+","+p+")")}return function(c,u){var d=[],p=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,p),a(c.rotate,u.rotate,d,p),o(c.skewX,u.skewX,d,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,p),c=u=null,function(f){for(var w=-1,v=p.length,k;++w<v;)d[(k=p[w]).i]=k.x(f);return d.join("")}}}var Zk=Z5(Jk,"px, ","px)","deg)"),tS=Z5(Qk,", ",")",")"),eS=1e-12;function Sm(t){return((t=Math.exp(t))+1/t)/2}function nS(t){return((t=Math.exp(t))-1/t)/2}function rS(t){return((t=Math.exp(2*t))-1)/(t+1)}const iS=function t(e,n,r){function i(s,a){var o=s[0],l=s[1],c=s[2],u=a[0],d=a[1],p=a[2],f=u-o,w=d-l,v=f*f+w*w,k,y;if(v<eS)y=Math.log(p/c)/e,k=function(J){return[o+J*f,l+J*w,c*Math.exp(e*J*y)]};else{var x=Math.sqrt(v),N=(p*p-c*c+r*v)/(2*c*n*x),L=(p*p-c*c-r*v)/(2*p*n*x),j=Math.log(Math.sqrt(N*N+1)-N),it=Math.log(Math.sqrt(L*L+1)-L);y=(it-j)/e,k=function(J){var G=J*y,nt=Sm(j),mt=c/(n*x)*(nt*rS(e*G+j)-nS(j));return[o+mt*f,l+mt*w,c*nt/Sm(e*G+j)]}}return k.duration=y*1e3*e/Math.SQRT2,k}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return t(a,o,l)},i}(Math.SQRT2,2,4);var jo=0,Dl=0,Al=0,tv=1e3,dh,Tl,ph=0,_a=0,jh=0,ic=typeof performance=="object"&&performance.now?performance:Date,ev=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h1(){return _a||(ev(sS),_a=ic.now()+jh)}function sS(){_a=0}function mh(){this._call=this._time=this._next=null}mh.prototype=f1.prototype={constructor:mh,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?h1():+n)+(e==null?0:+e),!this._next&&Tl!==this&&(Tl?Tl._next=this:dh=this,Tl=this),this._call=t,this._time=n,rp()},stop:function(){this._call&&(this._call=null,this._time=1/0,rp())}};function f1(t,e,n){var r=new mh;return r.restart(t,e,n),r}function aS(){h1(),++jo;for(var t=dh,e;t;)(e=_a-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jo}function _m(){_a=(ph=ic.now())+jh,jo=Dl=0;try{aS()}finally{jo=0,lS(),_a=0}}function oS(){var t=ic.now(),e=t-ph;e>tv&&(jh-=e,ph=t)}function lS(){for(var t,e=dh,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:dh=n);Tl=t,rp(r)}function rp(t){if(!jo){Dl&&(Dl=clearTimeout(Dl));var e=t-_a;e>24?(t<1/0&&(Dl=setTimeout(_m,t-ic.now()-jh)),Al&&(Al=clearInterval(Al))):(Al||(ph=ic.now(),Al=setInterval(oS,tv)),jo=1,ev(_m))}}function Am(t,e,n){var r=new mh;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var cS=vc("start","end","cancel","interrupt"),uS=[],nv=0,Cm=1,ip=2,qu=3,Lm=4,sp=5,Wu=6;function Bh(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;hS(t,n,{name:e,index:r,group:i,on:cS,tween:uS,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:nv})}function d1(t,e){var n=li(t,e);if(n.state>nv)throw new Error("too late; already scheduled");return n}function Ei(t,e){var n=li(t,e);if(n.state>qu)throw new Error("too late; already running");return n}function li(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hS(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=f1(s,0,n.time);function s(c){n.state=Cm,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,d,p,f;if(n.state!==Cm)return l();for(u in r)if(f=r[u],f.name===n.name){if(f.state===qu)return Am(a);f.state===Lm?(f.state=Wu,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Wu,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(Am(function(){n.state===qu&&(n.state=Lm,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=ip,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ip){for(n.state=qu,i=new Array(p=n.tween.length),u=0,d=-1;u<p;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=f);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=sp,1),d=-1,p=i.length;++d<p;)i[d].call(t,u);n.state===sp&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Wu,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Uu(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>ip&&r.state<sp,r.state=Wu,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function fS(t){return this.each(function(){Uu(this,t)})}function dS(t,e){var n,r;return function(){var i=Ei(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function pS(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ei(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function mS(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=li(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?dS:pS)(n,t,e))}function p1(t,e,n){var r=t._id;return t.each(function(){var i=Ei(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return li(i,r).value[e]}}function rv(t,e){var n;return(typeof e=="number"?Os:e instanceof rc?xm:(n=rc(e))?(e=n,xm):Xk)(t,e)}function gS(t){return function(){this.removeAttribute(t)}}function vS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yS(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function bS(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function wS(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function xS(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function kS(t,e){var n=Rh(t),r=n==="transform"?tS:rv;return this.attrTween(t,typeof e=="function"?(n.local?xS:wS)(n,r,p1(this,"attr."+t,e)):e==null?(n.local?vS:gS)(n):(n.local?bS:yS)(n,r,e))}function SS(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _S(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function AS(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&_S(t,s)),n}return i._value=e,i}function CS(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&SS(t,s)),n}return i._value=e,i}function LS(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Rh(t);return this.tween(n,(r.local?AS:CS)(r,e))}function PS(t,e){return function(){d1(this,t).delay=+e.apply(this,arguments)}}function NS(t,e){return e=+e,function(){d1(this,t).delay=e}}function MS(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?PS:NS)(e,t)):li(this.node(),e).delay}function DS(t,e){return function(){Ei(this,t).duration=+e.apply(this,arguments)}}function TS(t,e){return e=+e,function(){Ei(this,t).duration=e}}function ES(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?DS:TS)(e,t)):li(this.node(),e).duration}function IS(t,e){if(typeof e!="function")throw new Error;return function(){Ei(this,t).ease=e}}function FS(t){var e=this._id;return arguments.length?this.each(IS(e,t)):li(this.node(),e).ease}function OS(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ei(this,t).ease=n}}function RS(t){if(typeof t!="function")throw new Error;return this.each(OS(this._id,t))}function jS(t){typeof t!="function"&&(t=O5(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new os(r,this._parents,this._name,this._id)}function BS(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=e[o],c=n[o],u=l.length,d=a[o]=new Array(u),p,f=0;f<u;++f)(p=l[f]||c[f])&&(d[f]=p);for(;o<r;++o)a[o]=e[o];return new os(a,this._parents,this._name,this._id)}function zS(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qS(t,e,n){var r,i,s=zS(e)?d1:Ei;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function WS(t,e){var n=this._id;return arguments.length<2?li(this.node(),n).on.on(t):this.each(qS(n,t,e))}function US(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $S(){return this.on("end.remove",US(this._id))}function HS(t){var e=this._name,n=this._id;typeof t!="function"&&(t=l1(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,c=s[a]=new Array(l),u,d,p=0;p<l;++p)(u=o[p])&&(d=t.call(u,u.__data__,p,o))&&("__data__"in u&&(d.__data__=u.__data__),c[p]=d,Bh(c[p],e,n,p,c,li(u,n)));return new os(s,this._parents,e,n)}function VS(t){var e=this._name,n=this._id;typeof t!="function"&&(t=F5(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var p=t.call(u,u.__data__,d,l),f,w=li(u,n),v=0,k=p.length;v<k;++v)(f=p[v])&&Bh(f,e,n,v,p,w);s.push(p),a.push(u)}return new os(s,a,e,n)}var GS=yc.prototype.constructor;function YS(){return new GS(this._groups,this._parents)}function KS(t,e){var n,r,i;return function(){var s=Ro(this,t),a=(this.style.removeProperty(t),Ro(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function iv(t){return function(){this.style.removeProperty(t)}}function XS(t,e,n){var r,i=n+"",s;return function(){var a=Ro(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function JS(t,e,n){var r,i,s;return function(){var a=Ro(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Ro(this,t))),a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o))}}function QS(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var l=Ei(this,t),c=l.on,u=l.value[s]==null?o||(o=iv(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(a,i=u),l.on=r}}function ZS(t,e,n){var r=(t+="")=="transform"?Zk:rv;return e==null?this.styleTween(t,KS(t,r)).on("end.style."+t,iv(t)):typeof e=="function"?this.styleTween(t,JS(t,r,p1(this,"style."+t,e))).each(QS(this._id,t)):this.styleTween(t,XS(t,r,e),n).on("end.style."+t,null)}function t_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function e_(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&t_(t,a,n)),r}return s._value=e,s}function n_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,e_(t,e,n??""))}function r_(t){return function(){this.textContent=t}}function i_(t){return function(){var e=t(this);this.textContent=e??""}}function s_(t){return this.tween("text",typeof t=="function"?i_(p1(this,"text",t)):r_(t==null?"":t+""))}function a_(t){return function(e){this.textContent=t.call(this,e)}}function o_(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&a_(i)),e}return r._value=t,r}function l_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,o_(t))}function c_(){for(var t=this._name,e=this._id,n=sv(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var u=li(l,e);Bh(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new os(r,this._parents,t,n)}function u_(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var c=Ei(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&s()})}var h_=0;function os(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function sv(){return++h_}var Yi=yc.prototype;os.prototype={constructor:os,select:HS,selectAll:VS,selectChild:Yi.selectChild,selectChildren:Yi.selectChildren,filter:jS,merge:BS,selection:YS,transition:c_,call:Yi.call,nodes:Yi.nodes,node:Yi.node,size:Yi.size,empty:Yi.empty,each:Yi.each,on:WS,attr:kS,attrTween:LS,style:ZS,styleTween:n_,text:s_,textTween:l_,remove:$S,tween:mS,delay:MS,duration:ES,ease:FS,easeVarying:RS,end:u_,[Symbol.iterator]:Yi[Symbol.iterator]};function f_(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var d_={time:null,delay:0,duration:250,ease:f_};function p_(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function m_(t){var e,n;t instanceof os?(e=t._id,t=t._name):(e=sv(),(n=d_).time=h1(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&Bh(l,t,e,c,a,n||p_(l,e));return new os(r,this._parents,t,e)}yc.prototype.interrupt=fS;yc.prototype.transition=m_;function g_(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return av(this.cover(e,n),e,n,t)}function av(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,a={data:r},o=t._x0,l=t._y0,c=t._x1,u=t._y1,d,p,f,w,v,k,y,x;if(!s)return t._root=a,t;for(;s.length;)if((v=e>=(d=(o+c)/2))?o=d:c=d,(k=n>=(p=(l+u)/2))?l=p:u=p,i=s,!(s=s[y=k<<1|v]))return i[y]=a,t;if(f=+t._x.call(null,s.data),w=+t._y.call(null,s.data),e===f&&n===w)return a.next=s,i?i[y]=a:t._root=a,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(v=e>=(d=(o+c)/2))?o=d:c=d,(k=n>=(p=(l+u)/2))?l=p:u=p;while((y=k<<1|v)===(x=(w>=p)<<1|f>=d));return i[x]=s,i[y]=a,t}function v_(t){var e,n,r=t.length,i,s,a=new Array(r),o=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(a[n]=i,o[n]=s,i<l&&(l=i),i>u&&(u=i),s<c&&(c=s),s>d&&(d=s));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)av(this,a[n],o[n],t[n]);return this}function y_(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var a=i-n||1,o=this._root,l,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=o,o=l,a*=2,c){case 0:i=n+a,s=r+a;break;case 1:n=i-a,s=r+a;break;case 2:i=n+a,r=s-a;break;case 3:n=i-a,r=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function b_(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function w_(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function er(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function x_(t,e,n){var r,i=this._x0,s=this._y0,a,o,l,c,u=this._x1,d=this._y1,p=[],f=this._root,w,v;for(f&&p.push(new er(f,i,s,u,d)),n==null?n=1/0:(i=t-n,s=e-n,u=t+n,d=e+n,n*=n);w=p.pop();)if(!(!(f=w.node)||(a=w.x0)>u||(o=w.y0)>d||(l=w.x1)<i||(c=w.y1)<s))if(f.length){var k=(a+l)/2,y=(o+c)/2;p.push(new er(f[3],k,y,l,c),new er(f[2],a,y,k,c),new er(f[1],k,o,l,y),new er(f[0],a,o,k,y)),(v=(e>=y)<<1|t>=k)&&(w=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=w)}else{var x=t-+this._x.call(null,f.data),N=e-+this._y.call(null,f.data),L=x*x+N*N;if(L<n){var j=Math.sqrt(n=L);i=t-j,s=e-j,u=t+j,d=e+j,r=f.data}}return r}function k_(t){if(isNaN(u=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,a=this._x0,o=this._y0,l=this._x1,c=this._y1,u,d,p,f,w,v,k,y;if(!n)return this;if(n.length)for(;;){if((w=u>=(p=(a+l)/2))?a=p:l=p,(v=d>=(f=(o+c)/2))?o=f:c=f,e=n,!(n=n[k=v<<1|w]))return this;if(!n.length)break;(e[k+1&3]||e[k+2&3]||e[k+3&3])&&(r=e,y=k)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[k]=s:delete e[k],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function S_(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function __(){return this._root}function A_(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function C_(t){var e=[],n,r=this._root,i,s,a,o,l;for(r&&e.push(new er(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,a=n.y0,o=n.x1,l=n.y1)&&r.length){var c=(s+o)/2,u=(a+l)/2;(i=r[3])&&e.push(new er(i,c,u,o,l)),(i=r[2])&&e.push(new er(i,s,u,c,l)),(i=r[1])&&e.push(new er(i,c,a,o,u)),(i=r[0])&&e.push(new er(i,s,a,c,u))}return this}function L_(t){var e=[],n=[],r;for(this._root&&e.push(new er(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,a=r.x0,o=r.y0,l=r.x1,c=r.y1,u=(a+l)/2,d=(o+c)/2;(s=i[0])&&e.push(new er(s,a,o,u,d)),(s=i[1])&&e.push(new er(s,u,o,l,d)),(s=i[2])&&e.push(new er(s,a,d,u,c)),(s=i[3])&&e.push(new er(s,u,d,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function P_(t){return t[0]}function N_(t){return arguments.length?(this._x=t,this):this._x}function M_(t){return t[1]}function D_(t){return arguments.length?(this._y=t,this):this._y}function ov(t,e,n){var r=new m1(e??P_,n??M_,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function m1(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function Pm(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var nr=ov.prototype=m1.prototype;nr.copy=function(){var t=new m1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Pm(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Pm(r));return t};nr.add=g_;nr.addAll=v_;nr.cover=y_;nr.data=b_;nr.extent=w_;nr.find=x_;nr.remove=k_;nr.removeAll=S_;nr.root=__;nr.size=A_;nr.visit=C_;nr.visitAfter=L_;nr.x=N_;nr.y=D_;function _r(t){return function(){return t}}function go(t){return(t()-.5)*1e-6}function T_(t){return t.index}function Nm(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function E_(t){var e=T_,n=d,r,i=_r(30),s,a,o,l,c,u=1;t==null&&(t=[]);function d(k){return 1/Math.min(o[k.source.index],o[k.target.index])}function p(k){for(var y=0,x=t.length;y<u;++y)for(var N=0,L,j,it,J,G,nt,mt;N<x;++N)L=t[N],j=L.source,it=L.target,J=it.x+it.vx-j.x-j.vx||go(c),G=it.y+it.vy-j.y-j.vy||go(c),nt=Math.sqrt(J*J+G*G),nt=(nt-s[N])/nt*k*r[N],J*=nt,G*=nt,it.vx-=J*(mt=l[N]),it.vy-=G*mt,j.vx+=J*(mt=1-mt),j.vy+=G*mt}function f(){if(a){var k,y=a.length,x=t.length,N=new Map(a.map((j,it)=>[e(j,it,a),j])),L;for(k=0,o=new Array(y);k<x;++k)L=t[k],L.index=k,typeof L.source!="object"&&(L.source=Nm(N,L.source)),typeof L.target!="object"&&(L.target=Nm(N,L.target)),o[L.source.index]=(o[L.source.index]||0)+1,o[L.target.index]=(o[L.target.index]||0)+1;for(k=0,l=new Array(x);k<x;++k)L=t[k],l[k]=o[L.source.index]/(o[L.source.index]+o[L.target.index]);r=new Array(x),w(),s=new Array(x),v()}}function w(){if(a)for(var k=0,y=t.length;k<y;++k)r[k]=+n(t[k],k,t)}function v(){if(a)for(var k=0,y=t.length;k<y;++k)s[k]=+i(t[k],k,t)}return p.initialize=function(k,y){a=k,c=y,f()},p.links=function(k){return arguments.length?(t=k,f(),p):t},p.id=function(k){return arguments.length?(e=k,p):e},p.iterations=function(k){return arguments.length?(u=+k,p):u},p.strength=function(k){return arguments.length?(n=typeof k=="function"?k:_r(+k),w(),p):n},p.distance=function(k){return arguments.length?(i=typeof k=="function"?k:_r(+k),v(),p):i},p}const I_=1664525,F_=1013904223,Mm=4294967296;function O_(){let t=1;return()=>(t=(I_*t+F_)%Mm)/Mm}function R_(t){return t.x}function j_(t){return t.y}var B_=10,z_=Math.PI*(3-Math.sqrt(5));function q_(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,a=.6,o=new Map,l=f1(d),c=vc("tick","end"),u=O_();t==null&&(t=[]);function d(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(v){var k,y=t.length,x;v===void 0&&(v=1);for(var N=0;N<v;++N)for(n+=(s-n)*i,o.forEach(function(L){L(n)}),k=0;k<y;++k)x=t[k],x.fx==null?x.x+=x.vx*=a:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=a:(x.y=x.fy,x.vy=0);return e}function f(){for(var v=0,k=t.length,y;v<k;++v){if(y=t[v],y.index=v,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var x=B_*Math.sqrt(.5+v),N=v*z_;y.x=x*Math.cos(N),y.y=x*Math.sin(N)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function w(v){return v.initialize&&v.initialize(t,u),v}return f(),e={tick:p,restart:function(){return l.restart(d),e},stop:function(){return l.stop(),e},nodes:function(v){return arguments.length?(t=v,f(),o.forEach(w),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(s=+v,e):s},velocityDecay:function(v){return arguments.length?(a=1-v,e):1-a},randomSource:function(v){return arguments.length?(u=v,o.forEach(w),e):u},force:function(v,k){return arguments.length>1?(k==null?o.delete(v):o.set(v,w(k)),e):o.get(v)},find:function(v,k,y){var x=0,N=t.length,L,j,it,J,G;for(y==null?y=1/0:y*=y,x=0;x<N;++x)J=t[x],L=v-J.x,j=k-J.y,it=L*L+j*j,it<y&&(G=J,y=it);return G},on:function(v,k){return arguments.length>1?(c.on(v,k),e):c.on(v)}}}function W_(){var t,e,n,r,i=_r(-30),s,a=1,o=1/0,l=.81;function c(f){var w,v=t.length,k=ov(t,R_,j_).visitAfter(d);for(r=f,w=0;w<v;++w)e=t[w],k.visit(p)}function u(){if(t){var f,w=t.length,v;for(s=new Array(w),f=0;f<w;++f)v=t[f],s[v.index]=+i(v,f,t)}}function d(f){var w=0,v,k,y=0,x,N,L;if(f.length){for(x=N=L=0;L<4;++L)(v=f[L])&&(k=Math.abs(v.value))&&(w+=v.value,y+=k,x+=k*v.x,N+=k*v.y);f.x=x/y,f.y=N/y}else{v=f,v.x=v.data.x,v.y=v.data.y;do w+=s[v.data.index];while(v=v.next)}f.value=w}function p(f,w,v,k){if(!f.value)return!0;var y=f.x-e.x,x=f.y-e.y,N=k-w,L=y*y+x*x;if(N*N/l<L)return L<o&&(y===0&&(y=go(n),L+=y*y),x===0&&(x=go(n),L+=x*x),L<a&&(L=Math.sqrt(a*L)),e.vx+=y*f.value*r/L,e.vy+=x*f.value*r/L),!0;if(f.length||L>=o)return;(f.data!==e||f.next)&&(y===0&&(y=go(n),L+=y*y),x===0&&(x=go(n),L+=x*x),L<a&&(L=Math.sqrt(a*L)));do f.data!==e&&(N=s[f.data.index]*r/L,e.vx+=y*N,e.vy+=x*N);while(f=f.next)}return c.initialize=function(f,w){t=f,n=w,u()},c.strength=function(f){return arguments.length?(i=typeof f=="function"?f:_r(+f),u(),c):i},c.distanceMin=function(f){return arguments.length?(a=f*f,c):Math.sqrt(a)},c.distanceMax=function(f){return arguments.length?(o=f*f,c):Math.sqrt(o)},c.theta=function(f){return arguments.length?(l=f*f,c):Math.sqrt(l)},c}function U_(t){var e=_r(.1),n,r,i;typeof t!="function"&&(t=_r(t==null?0:+t));function s(o){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*o}function a(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(e=typeof o=="function"?o:_r(+o),a(),s):e},s.x=function(o){return arguments.length?(t=typeof o=="function"?o:_r(+o),a(),s):t},s}function $_(t){var e=_r(.1),n,r,i;typeof t!="function"&&(t=_r(t==null?0:+t));function s(o){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*o}function a(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(e=typeof o=="function"?o:_r(+o),a(),s):e},s.y=function(o){return arguments.length?(t=typeof o=="function"?o:_r(+o),a(),s):t},s}function H_(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function V_(){return this.eachAfter(H_)}function G_(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Y_(t,e){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function K_(t,e){for(var n=this,r=[n],i=[],s,a,o,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function X_(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function J_(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Q_(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Z_(t){for(var e=this,n=t8(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function t8(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function e8(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function n8(){return Array.from(this)}function r8(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function i8(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*s8(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function sc(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=l8)):e===void 0&&(e=o8);for(var n=new ac(t),r,i=[n],s,a,o,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,o=l-1;o>=0;--o)i.push(s=a[o]=new ac(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(u8)}function a8(){return sc(this).eachBefore(c8)}function o8(t){return t.children}function l8(t){return Array.isArray(t)?t[1]:null}function c8(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function u8(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ac(t){this.data=t,this.depth=this.height=0,this.parent=null}ac.prototype=sc.prototype={constructor:ac,count:V_,each:G_,eachAfter:K_,eachBefore:Y_,find:X_,sum:J_,sort:Q_,path:Z_,ancestors:e8,descendants:n8,leaves:r8,links:i8,copy:a8,[Symbol.iterator]:s8};function h8(t,e){return t.parent===e.parent?1:2}function id(t){var e=t.children;return e?e[0]:t.t}function sd(t){var e=t.children;return e?e[e.length-1]:t.t}function f8(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function d8(t){for(var e=0,n=0,r=t.children,i=r.length,s;--i>=0;)s=r[i],s.z+=e,s.m+=e,e+=s.s+(n+=s.c)}function p8(t,e,n){return t.a.parent===e.parent?t.a:n}function $u(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}$u.prototype=Object.create(ac.prototype);function m8(t){for(var e=new $u(t,0),n,r=[e],i,s,a,o;n=r.pop();)if(s=n._.children)for(n.children=new Array(o=s.length),a=o-1;a>=0;--a)r.push(i=n.children[a]=new $u(s[a],a)),i.parent=n;return(e.parent=new $u(null,0)).children=[e],e}function g8(){var t=h8,e=1,n=1,r=null;function i(c){var u=m8(c);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(a),r)c.eachBefore(l);else{var d=c,p=c,f=c;c.eachBefore(function(x){x.x<d.x&&(d=x),x.x>p.x&&(p=x),x.depth>f.depth&&(f=x)});var w=d===p?1:t(d,p)/2,v=w-d.x,k=e/(p.x+w+v),y=n/(f.depth||1);c.eachBefore(function(x){x.x=(x.x+v)*k,x.y=x.depth*y})}return c}function s(c){var u=c.children,d=c.parent.children,p=c.i?d[c.i-1]:null;if(u){d8(c);var f=(u[0].z+u[u.length-1].z)/2;p?(c.z=p.z+t(c._,p._),c.m=c.z-f):c.z=f}else p&&(c.z=p.z+t(c._,p._));c.parent.A=o(c,p,c.parent.A||d[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function o(c,u,d){if(u){for(var p=c,f=c,w=u,v=p.parent.children[0],k=p.m,y=f.m,x=w.m,N=v.m,L;w=sd(w),p=id(p),w&&p;)v=id(v),f=sd(f),f.a=c,L=w.z+x-p.z-k+t(w._,p._),L>0&&(f8(p8(w,c,d),c,L),k+=L,y+=L),x+=w.m,k+=p.m,N+=v.m,y+=f.m;w&&!sd(f)&&(f.t=w,f.m+=x-y),p&&!id(v)&&(v.t=p,v.m+=k-N,d=c)}return d}function l(c){c.x*=e,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,e=+c[0],n=+c[1],i):r?null:[e,n]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],n=+c[1],i):r?[e,n]:null},i}const Cu=t=>()=>t;function v8(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ns(t,e,n){this.k=t,this.x=e,this.y=n}ns.prototype={constructor:ns,scale:function(t){return t===1?this:new ns(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ns(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var oc=new ns(1,0,0);lv.prototype=ns.prototype;function lv(t){for(;!t.__zoom;)if(!(t=t.parentNode))return oc;return t.__zoom}function ad(t){t.stopImmediatePropagation()}function Cl(t){t.preventDefault(),t.stopImmediatePropagation()}function y8(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function b8(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Dm(){return this.__zoom||oc}function w8(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function x8(){return navigator.maxTouchPoints||"ontouchstart"in this}function k8(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function S8(){var t=y8,e=b8,n=k8,r=w8,i=x8,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=iS,c=vc("start","zoom","end"),u,d,p,f=500,w=150,v=0,k=10;function y(M){M.property("__zoom",Dm).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",nt).on("dblclick.zoom",mt).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(M,ot,Y,rt){var Z=M.selection?M.selection():M;Z.property("__zoom",Dm),M!==Z?j(M,ot,Y,rt):Z.interrupt().each(function(){it(this,arguments).event(rt).start().zoom(null,typeof ot=="function"?ot.apply(this,arguments):ot).end()})},y.scaleBy=function(M,ot,Y,rt){y.scaleTo(M,function(){var Z=this.__zoom.k,lt=typeof ot=="function"?ot.apply(this,arguments):ot;return Z*lt},Y,rt)},y.scaleTo=function(M,ot,Y,rt){y.transform(M,function(){var Z=e.apply(this,arguments),lt=this.__zoom,ft=Y==null?L(Z):typeof Y=="function"?Y.apply(this,arguments):Y,It=lt.invert(ft),P=typeof ot=="function"?ot.apply(this,arguments):ot;return n(N(x(lt,P),ft,It),Z,a)},Y,rt)},y.translateBy=function(M,ot,Y,rt){y.transform(M,function(){return n(this.__zoom.translate(typeof ot=="function"?ot.apply(this,arguments):ot,typeof Y=="function"?Y.apply(this,arguments):Y),e.apply(this,arguments),a)},null,rt)},y.translateTo=function(M,ot,Y,rt,Z){y.transform(M,function(){var lt=e.apply(this,arguments),ft=this.__zoom,It=rt==null?L(lt):typeof rt=="function"?rt.apply(this,arguments):rt;return n(oc.translate(It[0],It[1]).scale(ft.k).translate(typeof ot=="function"?-ot.apply(this,arguments):-ot,typeof Y=="function"?-Y.apply(this,arguments):-Y),lt,a)},rt,Z)};function x(M,ot){return ot=Math.max(s[0],Math.min(s[1],ot)),ot===M.k?M:new ns(ot,M.x,M.y)}function N(M,ot,Y){var rt=ot[0]-Y[0]*M.k,Z=ot[1]-Y[1]*M.k;return rt===M.x&&Z===M.y?M:new ns(M.k,rt,Z)}function L(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function j(M,ot,Y,rt){M.on("start.zoom",function(){it(this,arguments).event(rt).start()}).on("interrupt.zoom end.zoom",function(){it(this,arguments).event(rt).end()}).tween("zoom",function(){var Z=this,lt=arguments,ft=it(Z,lt).event(rt),It=e.apply(Z,lt),P=Y==null?L(It):typeof Y=="function"?Y.apply(Z,lt):Y,W=Math.max(It[1][0]-It[0][0],It[1][1]-It[0][1]),H=Z.__zoom,et=typeof ot=="function"?ot.apply(Z,lt):ot,st=l(H.invert(P).concat(W/H.k),et.invert(P).concat(W/et.k));return function($){if($===1)$=et;else{var z=st($),U=W/z[2];$=new ns(U,P[0]-z[0]*U,P[1]-z[1]*U)}ft.zoom(null,$)}})}function it(M,ot,Y){return!Y&&M.__zooming||new J(M,ot)}function J(M,ot){this.that=M,this.args=ot,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,ot),this.taps=0}J.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,ot){return this.mouse&&M!=="mouse"&&(this.mouse[1]=ot.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=ot.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=ot.invert(this.touch1[0])),this.that.__zoom=ot,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var ot=kr(this.that).datum();c.call(M,this.that,new v8(M,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),ot)}};function G(M,...ot){if(!t.apply(this,arguments))return;var Y=it(this,ot).event(M),rt=this.__zoom,Z=Math.max(s[0],Math.min(s[1],rt.k*Math.pow(2,r.apply(this,arguments)))),lt=Ji(M);if(Y.wheel)(Y.mouse[0][0]!==lt[0]||Y.mouse[0][1]!==lt[1])&&(Y.mouse[1]=rt.invert(Y.mouse[0]=lt)),clearTimeout(Y.wheel);else{if(rt.k===Z)return;Y.mouse=[lt,rt.invert(lt)],Uu(this),Y.start()}Cl(M),Y.wheel=setTimeout(ft,w),Y.zoom("mouse",n(N(x(rt,Z),Y.mouse[0],Y.mouse[1]),Y.extent,a));function ft(){Y.wheel=null,Y.end()}}function nt(M,...ot){if(p||!t.apply(this,arguments))return;var Y=M.currentTarget,rt=it(this,ot,!0).event(M),Z=kr(M.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",W,!0),lt=Ji(M,Y),ft=M.clientX,It=M.clientY;V5(M.view),ad(M),rt.mouse=[lt,this.__zoom.invert(lt)],Uu(this),rt.start();function P(H){if(Cl(H),!rt.moved){var et=H.clientX-ft,st=H.clientY-It;rt.moved=et*et+st*st>v}rt.event(H).zoom("mouse",n(N(rt.that.__zoom,rt.mouse[0]=Ji(H,Y),rt.mouse[1]),rt.extent,a))}function W(H){Z.on("mousemove.zoom mouseup.zoom",null),G5(H.view,rt.moved),Cl(H),rt.event(H).end()}}function mt(M,...ot){if(t.apply(this,arguments)){var Y=this.__zoom,rt=Ji(M.changedTouches?M.changedTouches[0]:M,this),Z=Y.invert(rt),lt=Y.k*(M.shiftKey?.5:2),ft=n(N(x(Y,lt),rt,Z),e.apply(this,ot),a);Cl(M),o>0?kr(this).transition().duration(o).call(j,ft,rt,M):kr(this).call(y.transform,ft,rt,M)}}function E(M,...ot){if(t.apply(this,arguments)){var Y=M.touches,rt=Y.length,Z=it(this,ot,M.changedTouches.length===rt).event(M),lt,ft,It,P;for(ad(M),ft=0;ft<rt;++ft)It=Y[ft],P=Ji(It,this),P=[P,this.__zoom.invert(P),It.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==P[2]&&(Z.touch1=P,Z.taps=0):(Z.touch0=P,lt=!0,Z.taps=1+!!u);u&&(u=clearTimeout(u)),lt&&(Z.taps<2&&(d=P[0],u=setTimeout(function(){u=null},f)),Uu(this),Z.start())}}function B(M,...ot){if(this.__zooming){var Y=it(this,ot).event(M),rt=M.changedTouches,Z=rt.length,lt,ft,It,P;for(Cl(M),lt=0;lt<Z;++lt)ft=rt[lt],It=Ji(ft,this),Y.touch0&&Y.touch0[2]===ft.identifier?Y.touch0[0]=It:Y.touch1&&Y.touch1[2]===ft.identifier&&(Y.touch1[0]=It);if(ft=Y.that.__zoom,Y.touch1){var W=Y.touch0[0],H=Y.touch0[1],et=Y.touch1[0],st=Y.touch1[1],$=($=et[0]-W[0])*$+($=et[1]-W[1])*$,z=(z=st[0]-H[0])*z+(z=st[1]-H[1])*z;ft=x(ft,Math.sqrt($/z)),It=[(W[0]+et[0])/2,(W[1]+et[1])/2],P=[(H[0]+st[0])/2,(H[1]+st[1])/2]}else if(Y.touch0)It=Y.touch0[0],P=Y.touch0[1];else return;Y.zoom("touch",n(N(ft,It,P),Y.extent,a))}}function Q(M,...ot){if(this.__zooming){var Y=it(this,ot).event(M),rt=M.changedTouches,Z=rt.length,lt,ft;for(ad(M),p&&clearTimeout(p),p=setTimeout(function(){p=null},f),lt=0;lt<Z;++lt)ft=rt[lt],Y.touch0&&Y.touch0[2]===ft.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===ft.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(ft=Ji(ft,this),Math.hypot(d[0]-ft[0],d[1]-ft[1])<k)){var It=kr(this).on("dblclick.zoom");It&&It.apply(this,arguments)}}}return y.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Cu(+M),y):r},y.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Cu(!!M),y):t},y.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:Cu(!!M),y):i},y.extent=function(M){return arguments.length?(e=typeof M=="function"?M:Cu([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),y):e},y.scaleExtent=function(M){return arguments.length?(s[0]=+M[0],s[1]=+M[1],y):[s[0],s[1]]},y.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(M){return arguments.length?(n=M,y):n},y.duration=function(M){return arguments.length?(o=+M,y):o},y.interpolate=function(M){return arguments.length?(l=M,y):l},y.on=function(){var M=c.on.apply(c,arguments);return M===c?y:M},y.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,y):Math.sqrt(v)},y.tapDistance=function(M){return arguments.length?(k=+M,y):k},y}const _8={name:"PreloadWrapper",props:{character:{type:String,required:!0},delay:{type:Number,default:150},preferDedicatedPage:{type:Boolean,default:!1},showBubbles:{type:Boolean,default:!1}},data(){return{hoverTimer:null,isHovering:!1,bubbleData:null,lastMouseEvent:null}},methods:{...s1({showCardModal:"cardModal/showCardModal",preloadCardDataAction:"cardModal/preloadCardData",preloadDecompDataAction:"cardModal/fetchDecompositionDataOnly",showBubble:"bubbleTooltip/showBubble",hideBubble:"bubbleTooltip/hideBubble"}),startHoverTimer(t){this.isHovering=!0,this.lastMouseEvent=t,this.clearHoverTimer(),this.hoverTimer=setTimeout(()=>{this.isHovering&&this.lastMouseEvent&&(this.preloadCardData(),this.showBubbles&&this.showBubbleTooltip(this.lastMouseEvent))},this.delay)},clearHoverTimer(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null)},handleMouseLeave(){this.isHovering=!1,this.lastMouseEvent=null,this.clearHoverTimer(),this.$emit("unhover",this.character),this.showBubbles&&this.hideBubble()},handleMouseMove(t){this.lastMouseEvent=t,this.isHovering&&this.bubbleData&&this.showBubbles&&this.showBubbleTooltip(t)},showBubbleTooltip(t){if(!this.showBubbles||!t)return;const e=this.$store.getters.getDictionaryData||{};let n="",r="";for(const[i,s]of Object.entries(e))if(!(!s.chars||Array.isArray(s.chars))&&s.chars[this.character]){const a=s.chars[this.character];n=a.pinyin?this.$toAccentedPinyin(a.pinyin[0]):"",r=a.english?a.english[0].split("/")[0]:"";break}this.bubbleData={character:this.character,pinyin:n,english:r,position:{x:t.clientX,y:t.clientY},fontFamily:"Noto Sans SC"},this.showBubble(this.bubbleData)},async preloadCardData(){try{await this.preloadCardDataAction(this.character)}catch(t){console.error("Error preloading card data:",t)}},handleClick(t){this.openPopup()},handleAuxClick(t){t.button},openPopup(){this.showCardModal(this.character)},navigateToDedicatedPage(){this.$router.push({name:"WordPage",params:{word:this.character}})}}},A8={class:"preload-wrapper"};function C8(t,e,n,r,i,s){return dt(),wt("div",A8,[_("div",{onMouseenter:e[0]||(e[0]=a=>s.startHoverTimer(a)),onMouseleave:e[1]||(e[1]=(...a)=>s.handleMouseLeave&&s.handleMouseLeave(...a)),onMousemove:e[2]||(e[2]=(...a)=>s.handleMouseMove&&s.handleMouseMove(...a)),onClick:e[3]||(e[3]=(...a)=>s.handleClick&&s.handleClick(...a)),onAuxclick:e[4]||(e[4]=(...a)=>s.handleAuxClick&&s.handleAuxClick(...a)),class:"preload-wrapper"},[rh(t.$slots,"default",{},void 0,!0)],32)])}const Xs=tn(_8,[["render",C8],["__scopeId","data-v-de37ce0a"]]);function L8(t){const e=Object.keys(t)[0];function n(r,i){return{name:r,children:Object.entries(i).map(([s,a])=>n(s,a))}}return n(e,t[e])}const Tm={light:{linkStroke:"#8885",linkStrokeWidth:1.5,linkCurve:!0,rootColor:"#666",firstChildColor:"#111",nodeColor:"#999"},dark:{linkStroke:"#eee3",linkStrokeWidth:1.5,linkCurve:!0,rootColor:"#777",firstChildColor:"#fff",nodeColor:"#555"},theme1:{linkStroke:"#b48f3c88",linkStrokeWidth:2,linkCurve:!0,rootColor:"#924422aa",firstChildColor:"#924422",nodeColor:"#92442288"},theme2:{linkStroke:"#bbbbff22",linkStrokeWidth:2,linkCurve:!1,rootColor:"#bbbbff",firstChildColor:"#bbffbb",nodeColor:"#bbffbb55"}},P8={name:"RecursiveDecomposition",props:{data:{type:Object,required:!0},maxDepth:{type:Number,default:1/0}},components:{PreloadWrapper:Xs},setup(){const t=Ws(),e=Ce(()=>t.getters["theme/getCurrentTheme"]),n=Ce(()=>Tm[e.value]||Tm.theme1),r=te({}),i=te(!1);return{currentTheme:e,styleParams:n,charInfoCache:r,isLoadingCharInfo:i}},data(){return{width:400,height:100,margin:{top:30,right:30,bottom:30,left:30},nodeSize:48,nodeRadius:24,nodes:[],links:[],lastFetchedData:null}},watch:{data:{handler(t){this.renderTree(),JSON.stringify(t)!==JSON.stringify(this.lastFetchedData)&&(this.lastFetchedData=JSON.parse(JSON.stringify(t)),this.fetchCharInfo())},immediate:!0,deep:!0}},mounted(){this.renderTree(),this.fetchCharInfo()},methods:{renderTree(){var l;if(!this.data||Object.keys(this.data).length===0)return;const t=L8(this.data),e=((l=this.$refs.svgContainer)==null?void 0:l.offsetWidth)||400,n=Math.min(this.maxDepth,sc(t).height||1),r=100*Math.max(n,2);let i=30;this.width=e,this.height=r;const s=sc(t);g8().size([e-this.margin.left-this.margin.right,r-this.margin.top-i])(s);const o=s.descendants().filter(c=>c.depth<=this.maxDepth);this.nodes=o,this.links=s.links().filter(c=>c.source.depth<this.maxDepth&&c.target.depth<=this.maxDepth)},async fetchCharInfo(){if(this.isLoadingCharInfo||!this.nodes||this.nodes.length===0)return;this.isLoadingCharInfo=!0;const t=this.nodes.map(n=>n.data.name),e=this.$store||Ws();try{const n=await e.dispatch("fetchSimpleCharInfo",t);this.charInfoCache=n}catch(n){console.error("Error fetching character info for decomposition:",n)}finally{this.isLoadingCharInfo=!1}},getFirstPinyin(t){return!t||!t.pinyin||t.pinyin.length===0||t.pinyin[0]==="N/A"?"":this.$toAccentedPinyin(t.pinyin[0])}}},N8={ref:"svgContainer",class:"d3-tree-container"},M8=["width","height"],D8=["transform"],T8=["d","stroke","stroke-width"],E8=["transform"],I8=["width","height"],F8={class:"node-container"},O8={key:0,class:"d3-tree-pinyin"};function R8(t,e,n,r,i,s){const a=_e("PreloadWrapper");return dt(),wt("div",N8,[(dt(),wt("svg",{width:i.width,height:i.height,style:{background:"transparent",width:"100%",height:"auto",display:"block"}},[_("g",{transform:`translate(${i.margin.left},${i.margin.top})`},[_("g",null,[(dt(!0),wt(re,null,Je(i.links,(o,l)=>(dt(),wt("path",{key:l,d:`M${o.source.x},${o.source.y+i.nodeRadius} C${o.source.x},${(o.source.y+o.target.y)/2} ${o.target.x},${(o.source.y+o.target.y)/2} ${o.target.x},${o.target.y-i.nodeRadius}`,stroke:r.styleParams.linkStroke,"stroke-width":r.styleParams.linkStrokeWidth,fill:"none"},null,8,T8))),128))]),_("g",null,[(dt(!0),wt(re,null,Je(i.nodes,(o,l)=>(dt(),wt("g",{key:l,transform:`translate(${o.x},${o.y})`},[(dt(),wt("foreignObject",{width:i.nodeSize+70,height:i.nodeSize,x:"-20",y:"-20"},[Vt(a,{character:o.data.name},{default:ke(()=>[_("div",F8,[_("span",{class:"d3-tree-char",style:xr({color:o.depth===0?r.styleParams.rootColor:o.depth===1?r.styleParams.firstChildColor:r.styleParams.nodeColor})},Wt(o.data.name),5),r.charInfoCache[o.data.name]&&s.getFirstPinyin(r.charInfoCache[o.data.name])?(dt(),wt("span",O8,Wt(s.getFirstPinyin(r.charInfoCache[o.data.name])),1)):Xt("",!0)])]),_:2},1032,["character"])],8,I8))],8,E8))),128))])],8,D8)],8,M8))],512)}const j8=tn(P8,[["render",R8],["__scopeId","data-v-5980823b"]]),B8={components:{ExpandableExamples:bx,ClickableRow:kx,AnimatedHanzi:zx,ToastNotification:E5,RecursiveDecomposition:j8,PreloadWrapper:Xs},name:"GlobalCardModal",props:{pageMode:{type:Boolean,default:!1},forcedCharacter:{type:String,default:null}},data(){return{activeChar:null,hoverTimer:null,hoverWord:null,showWordlistDropdown:!1,addingToList:!1,notificationMessage:"",notificationVisible:!1,notificationType:"success",showRelatedConcepts:!1,showOppositeConcepts:!1,showCreateListModal:!1,newListName:"",presentInChunkIndex:0,isLoadingMoreChars:!1,loadedPresentInChars:{},displayedPresentInChars:{},isTypingEffect:!1}},provide(){return{updatePopupData:this.updateModalContent,preloadCardDataForWord:this.preloadCardData}},computed:{...l4({isLoggedIn:"isLoggedIn",customWordlists:"getCustomDecks",isVisible:"cardModal/isCardModalVisible",isLoading:"cardModal/isCardModalLoading",cardData:"cardModal/getCardData",decompositionData:"cardModal/getDecompositionData",currentCharacter:"cardModal/getCurrentCharacter"}),validChars(){return!this.cardData||!this.cardData.character?[]:Array.from(new Set(this.cardData.character.split("").filter(t=>new RegExp("\\p{Script=Han}","u").test(t))))},formattedSimilars(){if(!this.cardData||!this.cardData.similars)return[];const t=[],e=this.cardData.similars;if(Array.isArray(e)){for(let n of e)if(typeof n=="string")t.push({character:n,pinyin:[],english:[]});else if(typeof n=="object"){const r=Object.keys(n);for(let i of r)n[i]&&t.push({character:i,pinyin:n[i].pinyin||[],english:n[i].english||[]})}}return t},formattedOpposites(){if(!this.cardData||!this.cardData.opposites)return[];const t=[],e=this.cardData.opposites;if(Array.isArray(e)){for(let n of e)if(typeof n=="string")t.push({character:n,pinyin:[],english:[]});else if(typeof n=="object"){const r=Object.keys(n);for(let i of r)n[i]&&t.push({character:i,pinyin:n[i].pinyin||[],english:n[i].english||[]})}}return t},activeCharData(){var i,s,a,o,l;if(!this.cardData||!this.cardData.chars_breakdown)return null;const t=this.activeChar||this.validChars[0],e=this.cardData.chars_breakdown[t],n=[],r=[];return e!=null&&e.example_words&&e.example_words.forEach((c,u)=>{c.length>1&&n.push(u),c.length===1&&r.push(u)}),e?{...e,example_words:((i=e.example_words)==null?void 0:i.filter((c,u)=>n.includes(u)))||[],pinyin:((s=e.pinyin)==null?void 0:s.filter((c,u)=>n.includes(u)))||[],english:((a=e.english)==null?void 0:a.filter((c,u)=>n.includes(u)))||[],main_word_pinyin:((o=e.pinyin)==null?void 0:o.filter((c,u)=>r.includes(u)))||[],main_word_english:((l=e.english)==null?void 0:l.filter((c,u)=>r.includes(u)))||[]}:null},limitedPresentInChars(){return!this.activeChar||!this.decompositionData||!this.decompositionData[this.activeChar]||!this.decompositionData[this.activeChar].present_in?[]:this.loadedPresentInChars[this.activeChar]?this.loadedPresentInChars[this.activeChar]:this.decompositionData[this.activeChar].present_in},hasMorePresentInChars(){return!this.activeChar||!this.decompositionData||!this.decompositionData[this.activeChar]||!this.decompositionData[this.activeChar].present_in?!1:this.loadedPresentInChars[this.activeChar]?this._presentInHasMore===!0:this.decompositionData[this.activeChar].present_in.length===50},presentInHasMore(){return this._presentInHasMore||!1}},watch:{isVisible:{handler(t){t?(document.body.classList.add("modal-open"),this.cardData&&this.validChars.length>0&&(this.activeChar=this.validChars[0])):(document.body.classList.remove("modal-open"),this.notificationVisible=!1,this.notificationMessage="")},immediate:!0},cardData:{handler(t){t&&this.validChars.length>0&&(this.activeChar=this.validChars[0],this.showRelatedConcepts=!1,this.showOppositeConcepts=!1,this.$refs.examplesComponent&&this.$refs.examplesComponent.resetExpandedState())}},currentCharacter:{handler(t){t&&this.validChars.includes(t)&&(this.activeChar=t)}},decompositionData:{handler(t){t&&this.activeChar&&this.$forceUpdate()},deep:!0},activeChar:{handler(t){t&&(this.presentInChunkIndex=0,this.$refs.examplesComponent&&this.$refs.examplesComponent.resetExpandedState())}}},mounted(){this.pageMode&&this.forcedCharacter&&this.showCardModal(this.forcedCharacter),window.addEventListener("keydown",this.handleEscKey),window.addEventListener("keydown",this.handleDebugKey),document.addEventListener("click",this.handleOutsideClick)},beforeUnmount(){window.removeEventListener("keydown",this.handleEscKey),window.removeEventListener("keydown",this.handleDebugKey),document.removeEventListener("click",this.handleOutsideClick),this.isVisible&&document.body.classList.remove("modal-open")},methods:{...s1({hideCardModal:"cardModal/hideCardModal",showCardModal:"cardModal/showCardModal",fetchCardData:"cardModal/fetchCardData"}),getToneClass(t){return t?t.includes("1")?"pinyin-first":t.includes("2")?"pinyin-second":t.includes("3")?"pinyin-third":t.includes("4")?"pinyin-fourth":"pinyin-neutral":"pinyin-neutral"},closeModal(){this.hideCardModal(),this.showWordlistDropdown=!1,this.loadedPresentInChars={},this.presentInChunkIndex=0},setActiveChar(t){this.validChars.includes(t)&&this.activeChar!==t&&(this.activeChar=t,this.loadedPresentInChars={},this.presentInChunkIndex=0)},createNewListAndAddWord(){if(!this.newListName.trim()){this.showNotification("Please enter a valid list name.","error");return}const t=this.newListName.trim(),e=this.cardData.character;this.$store.dispatch("createWordlist",{name:t}),this.closeCreateListModal(),fetch("./api/create_wordlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}).then(n=>{if(!n.ok)throw new Error("Failed to create wordlist");return fetch("./api/add_word_to_learning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({word:e,set_name:t})})}).then(n=>{if(!n.ok)throw new Error("Failed to add word to list");this.$store.dispatch("addWordToCustomDeck",{word:e,setName:t,wordData:{pinyin:this.cardData.pinyin,english:this.cardData.english,character:this.cardData.character}}),this.showNotification(`Added "${e}" to new list "${t}"`,"success"),this.$store.dispatch("fetchCustomDictionaryData")}).catch(n=>{console.error("Error:",n),this.showNotification(`Error: ${n.message}`,"error"),this.$store.dispatch("fetchUserData").then(()=>this.$store.dispatch("fetchCustomDictionaryData"))})},handleEscKey(t){t.key==="Escape"&&this.isVisible&&this.closeModal()},handleDebugKey(t){t.key},debugCardData(){this.showNotification("Card data logged to console. Press F12 to view.","info")},startHoverTimer(t){this.clearHoverTimer(),this.hoverWord=t,this.hoverTimer=setTimeout(()=>{this.hoverWord===t&&this.$store.dispatch("cardModal/preloadCardData",t)},300)},clearHoverTimer(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.hoverWord=null},async preloadCardData(t){try{await this.$store.dispatch("cardModal/preloadCardData",t)}catch(e){console.error("Error preloading card data:",e)}},updateModalContent(t){if(this.clearHoverTimer(),this.isVisible&&this.cardData&&this.cardData.character===t){this.validChars.includes(t)&&this.activeChar!==t&&(this.activeChar=t);return}this.showCardModal(t)},toggleWordlistDropdown(){this.isLoggedIn&&(!this.customWordlists||this.customWordlists.length===0)&&this.$store.dispatch("fetchUserData").then(()=>this.$store.dispatch("fetchCustomDictionaryData")),this.showWordlistDropdown=!this.showWordlistDropdown},addWordToList(t){this.addingToList=!0,this.showWordlistDropdown=!1;const e=this.cardData.character;fetch("/api/add_word_to_learning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({word:e,set_name:t})}).then(n=>n.json()).then(n=>{this.addingToList=!1,this.$store.dispatch("addWordToCustomDeck",{word:e,setName:t,wordData:{pinyin:this.cardData.pinyin,english:this.cardData.english,character:this.cardData.character}}),this.showNotification(`Added "${e}" to "${t}" list`,"success")}).catch(n=>{console.error("Error:",n),this.addingToList=!1,this.showNotification(`Error adding word: ${n.message}`,"error")})},showNotification(t,e="success"){this.notificationMessage=t,this.notificationType=e,this.notificationVisible=!0},handleOutsideClick(t){if(this.showWordlistDropdown){const e=this.$refs.dropdownButton,n=this.$refs.dropdownContent;(!e||!e.contains(t.target))&&(!n||!n.contains(t.target))&&(this.showWordlistDropdown=!1)}},handleModalClick(t){const e=this.$refs.dropdownButton,n=this.$refs.dropdownContent;this.showWordlistDropdown&&e&&!e.contains(t.target)&&n&&!n.contains(t.target)&&(this.showWordlistDropdown=!1)},getCharacterComponents(t){if(!this.decompositionData)return[];const e=[];return this.decompositionData[t]?Object.keys(this.decompositionData[t]):e},toggleConcepts(t){t==="related"?(this.showRelatedConcepts=!this.showRelatedConcepts,this.showOppositeConcepts=!1):t==="opposite"&&(this.showOppositeConcepts=!this.showOppositeConcepts,this.showRelatedConcepts=!1)},loadMorePresentInChars(){this.isLoadingMoreChars||!this.activeChar||this.isTypingEffect||(this.isLoadingMoreChars=!0,this.presentInChunkIndex++,fetch(`/api/get_present_in_chunk?character=${encodeURIComponent(this.activeChar)}&chunk_index=${this.presentInChunkIndex}`).then(t=>{if(!t.ok)throw new Error("Failed to load more characters");return t.json()}).then(t=>{if(!this.loadedPresentInChars[this.activeChar]){const e=this.decompositionData[this.activeChar].present_in||[];this.loadedPresentInChars[this.activeChar]=[...e]}if([...this.loadedPresentInChars[this.activeChar]],t.characters&&t.characters.length>0){this.isTypingEffect=!0;let e=0;const n=()=>{e<t.characters.length?(this.loadedPresentInChars[this.activeChar]=[...this.loadedPresentInChars[this.activeChar],t.characters[e]],e++,setTimeout(n,50)):this.isTypingEffect=!1};n()}this._presentInHasMore=t.has_more,!t.has_more&&t.total_count&&this.showNotification(`Loaded all ${t.total_count} characters`,"info")}).catch(t=>{console.error("Error loading more characters:",t),this.showNotification("Failed to load more characters","error"),this.presentInChunkIndex--,this.isTypingEffect=!1}).finally(()=>{this.isLoadingMoreChars=!1}))}}},z8={key:0,class:"loading-state"},q8={class:"wordlist-dropdown"},W8={key:0,class:"no-lists"},U8={key:1,class:"no-lists"},$8={key:2},H8=["onClick"],V8={class:"main-word-section"},G8={class:"main-word"},Y8=["onClick"],K8={class:"minor-character"},X8={class:"main-pinyin"},J8={class:"main-english"},Q8={class:"concepts-container"},Z8={key:0,class:"concept-content related-content"},tA={key:0,class:"no-concepts"},eA={key:1,class:"concept-items"},nA=["onClick"],rA={class:"concept-character"},iA={class:"concept-pinyin"},sA={class:"concept-english"},aA={key:1,class:"concept-content opposite-content"},oA={key:0,class:"no-concepts"},lA={key:1,class:"concept-items"},cA=["onClick"],uA={class:"concept-character"},hA={class:"concept-pinyin"},fA={class:"concept-english"},dA={key:0,class:"breakdown-section"},pA={key:0,class:"tabs"},mA=["onClick"],gA={key:1,class:"tab-content"},vA={class:"char-details"},yA={class:"freq-trad-anim"},bA={class:"freq-trad"},wA={class:"detail-group pinyin-meaning-group"},xA={class:"pinyin-meaning-pairs"},kA={class:"pinyinshadow"},SA={class:"pm-meaning"},_A={key:0,class:"no-pinyin-meaning"},AA={key:0,class:"detail-group"},CA={key:1,class:"detail-group"},LA={key:0,class:"hanzi-anim"},PA={class:"example-chinese-pinyin"},NA={class:"example-chinese"},MA={class:"example-pinyin"},DA={class:"example-meaning"},TA={class:"example-words rest-words"},EA={class:"example-chinese-pinyin"},IA={class:"example-chinese"},FA={class:"example-pinyin"},OA={class:"example-meaning"},RA={key:1,class:"present-in-section"},jA={class:"medium-label"},BA={class:"present-in-chars",style:{display:"flex","flex-wrap":"wrap",gap:"0.5rem"}},zA={key:2},qA={class:"decomp-section"},WA={class:"create-list-form"},UA={class:"create-list-buttons"};function $A(t,e,n,r,i,s){const a=_e("router-link"),o=_e("PreloadWrapper"),l=_e("AnimatedHanzi"),c=_e("ClickableRow"),u=_e("ExpandableExamples"),d=_e("RecursiveDecomposition"),p=_e("ToastNotification");return dt(),wt(re,null,[t.isVisible||n.pageMode?(dt(),wt("div",{key:0,class:we(["global-modal-container",{"page-mode-container":n.pageMode}])},[_("div",{class:we(["card-modal-overlay",{"page-mode-overlay":n.pageMode}]),onClick:e[7]||(e[7]=(...f)=>s.closeModal&&s.closeModal(...f))},[t.isLoading?(dt(),wt("div",z8,e[17]||(e[17]=[_("div",{class:"spinner"},null,-1),_("div",null,"Loading...",-1)]))):(dt(),wt("div",{key:1,class:"modal card-modal",onClick:e[6]||(e[6]=Be((...f)=>s.handleModalClick&&s.handleModalClick(...f),["stop"]))},[_("div",q8,[_("button",{onClick:e[0]||(e[0]=Be((...f)=>s.toggleWordlistDropdown&&s.toggleWordlistDropdown(...f),["stop"])),class:"wordlist-btn",ref:"dropdownButton"},e[18]||(e[18]=[_("span",{class:"plus-icon"},"+",-1)]),512),i.showWordlistDropdown?(dt(),wt("div",{key:0,class:"dropdown-content",ref:"dropdownContent",onClick:e[2]||(e[2]=Be(()=>{},["stop"]))},[t.isLoggedIn?t.customWordlists&&t.customWordlists.length===0?(dt(),wt("div",U8,"No custom wordlists available")):(dt(),wt("div",$8,[(dt(!0),wt(re,null,Je(t.customWordlists,f=>(dt(),wt("div",{key:f.name,class:"wordlist-item",onClick:Be(w=>s.addWordToList(f.name),["stop"])},Wt(f.name),9,H8))),128)),_("div",{class:"wordlist-item create-list-item",onClick:e[1]||(e[1]=Be(f=>i.showCreateListModal=!0,["stop"]))},e[24]||(e[24]=[_("span",{class:"create-icon"},"+",-1),le(" Create New List ")]))])):(dt(),wt("div",W8,[e[21]||(e[21]=le(" Adding to custom wordlists is possible only upon ")),Vt(a,{to:"/register",class:"register-link"},{default:ke(()=>e[19]||(e[19]=[le("registration")])),_:1,__:[19]}),e[22]||(e[22]=le(" or ")),Vt(a,{to:"/login",class:"register-link"},{default:ke(()=>e[20]||(e[20]=[le("login")])),_:1,__:[20]}),e[23]||(e[23]=le(". "))]))],512)):Xt("",!0)]),_("div",V8,[_("div",G8,[(dt(!0),wt(re,null,Je(t.cardData.character.split(""),(f,w)=>(dt(),wt("span",{key:w,class:"main-word-char",onClick:v=>s.setActiveChar(f)},Wt(f),9,Y8))),128))]),_("div",K8,Wt(t.cardData.character),1),_("div",X8,Wt(t.$toAccentedPinyin(t.cardData.pinyin[0])),1),_("div",J8,Wt(t.cardData.english[0]),1),_("div",Q8,[_("div",{class:we(["concept-toggle",{active:i.showRelatedConcepts}]),onClick:e[3]||(e[3]=f=>s.toggleConcepts("related"))},e[25]||(e[25]=[_("span",{class:"concept-label"},"related concepts",-1)]),2),_("div",{class:we(["concept-toggle",{active:i.showOppositeConcepts}]),onClick:e[4]||(e[4]=f=>s.toggleConcepts("opposite"))},e[26]||(e[26]=[_("span",{class:"concept-label"},"opposite concepts",-1)]),2)]),i.showRelatedConcepts?(dt(),wt("div",Z8,[s.formattedSimilars.length===0?(dt(),wt("div",tA," No related concepts available ")):(dt(),wt("div",eA,[(dt(!0),wt(re,null,Je(s.formattedSimilars,(f,w)=>(dt(),wt("div",{key:w,class:"concept-item",onClick:v=>s.updateModalContent(f.character)},[_("div",rA,Wt(f.character),1),_("div",iA,Wt(f.pinyin&&f.pinyin.length>0?t.$toAccentedPinyin(f.pinyin[0]):""),1),_("div",sA,Wt(f.english&&f.english.length>0?f.english[0].split("/")[0]:""),1)],8,nA))),128))]))])):Xt("",!0),i.showOppositeConcepts?(dt(),wt("div",aA,[s.formattedOpposites.length===0?(dt(),wt("div",oA," No opposite concepts available ")):(dt(),wt("div",lA,[(dt(!0),wt(re,null,Je(s.formattedOpposites,(f,w)=>(dt(),wt("div",{key:w,class:"concept-item",onClick:v=>s.updateModalContent(f.character)},[_("div",uA,Wt(f.character),1),_("div",hA,Wt(f.pinyin&&f.pinyin.length>0?t.$toAccentedPinyin(f.pinyin[0]):""),1),_("div",fA,Wt(f.english&&f.english.length>0?f.english[0].split("/")[0]:""),1)],8,cA))),128))]))])):Xt("",!0)]),t.cardData.chars_breakdown?(dt(),wt("div",dA,[e[31]||(e[31]=_("h3",{class:"char-breakdown"},"Character Breakdown ",-1)),s.validChars.length>1?(dt(),wt("div",pA,[(dt(!0),wt(re,null,Je(s.validChars,f=>(dt(),wt("button",{key:f,class:we(["tab-btn",{active:i.activeChar===f}]),onClick:w=>i.activeChar=f},Wt(f),11,mA))),128))])):Xt("",!0),s.activeCharData?(dt(),wt("div",gA,[_("div",vA,[_("div",yA,[_("div",bA,[_("div",wA,[e[27]||(e[27]=_("span",{class:"basic-label"},"Pronunciation & Meaning:",-1)),_("div",xA,[(dt(!0),wt(re,null,Je(s.activeCharData.main_word_pinyin,(f,w)=>(dt(),wt("div",{key:w,class:"pinyin-meaning-pair"},[_("div",{class:we(["pm-pinyin",s.getToneClass(f)])},[_("span",kA,Wt(t.$toAccentedPinyin(f)),1)],2),_("div",SA,Wt(s.activeCharData.main_word_english[w]||""),1)]))),128)),s.activeCharData.main_word_pinyin.length===0?(dt(),wt("div",_A," No pronunciation data available ")):Xt("",!0)])]),i.activeChar!==s.activeCharData.traditional?(dt(),wt("div",AA,[e[28]||(e[28]=_("span",{class:"basic-label"},"Traditional: ",-1)),Vt(o,{character:s.activeCharData.traditional,showBubbles:!1,class:"trad-simple"},{default:ke(()=>[le(Wt(s.activeCharData.traditional),1)]),_:1},8,["character"])])):Xt("",!0),i.activeChar!==s.activeCharData.simplified?(dt(),wt("div",CA,[e[29]||(e[29]=_("span",{class:"basic-label"},"Simplified: ",-1)),Vt(o,{character:s.activeCharData.simplified,showBubbles:!1,class:"trad-simple"},{default:ke(()=>[le(Wt(s.activeCharData.simplified),1)]),_:1},8,["character"])])):Xt("",!0)]),s.activeCharData.strokes&&s.activeCharData.strokes.medians&&s.activeCharData.strokes.strokes?(dt(),wt("div",LA,[Vt(l,{character:s.activeCharData.character,strokes:s.activeCharData.strokes,animatable:!0,drawThin:!1,animSpeed:.1},null,8,["character","strokes"])])):Xt("",!0)]),s.activeCharData.example_words&&s.activeCharData.example_words.length>0?(dt(),ln(u,{key:0,title:"Words containing this character",itemCount:s.activeCharData.example_words.length,thresholdForExpand:3,ref:"examplesComponent"},{afew:ke(f=>[_("div",{class:we(["example-words first-words",{"collapsed-words":!f.isExpanded}])},[(dt(!0),wt(re,null,Je(s.activeCharData.example_words.slice(0,3),(w,v)=>(dt(),ln(c,{key:v,word:w,class:we({therest:!f.isExpanded})},{default:ke(()=>[_("div",PA,[_("span",NA,Wt(w),1),_("span",MA,Wt(t.$toAccentedPinyin(s.activeCharData.pinyin[v])),1)]),_("span",DA,Wt(s.activeCharData.english[v]),1)]),_:2},1032,["word","class"]))),128))],2)]),therest:ke(f=>[_("div",TA,[(dt(!0),wt(re,null,Je(s.activeCharData.example_words.slice(3),(w,v)=>(dt(),ln(c,{key:v+3,word:w,class:"therest"},{default:ke(()=>[_("div",EA,[_("span",IA,Wt(w),1),_("span",FA,Wt(t.$toAccentedPinyin(s.activeCharData.pinyin[v+3])),1)]),_("span",OA,Wt(s.activeCharData.english[v+3]),1)]),_:2},1032,["word"]))),128))])]),_:1},8,["itemCount"])):Xt("",!0),i.activeChar&&t.decompositionData&&t.decompositionData[i.activeChar]&&t.decompositionData[i.activeChar].present_in&&t.decompositionData[i.activeChar].present_in.length>0?(dt(),wt("div",RA,[_("div",jA,Wt(i.activeChar)+" Present in:",1),_("div",BA,[(dt(!0),wt(re,null,Je(s.limitedPresentInChars,f=>(dt(),ln(o,{key:f,character:f,showBubbles:!1,class:"present-in-char"},{default:ke(()=>[le(Wt(f),1)]),_:2},1032,["character"]))),128)),s.hasMorePresentInChars?(dt(),wt("span",{key:0,class:we(["more-chars",{loading:i.isLoadingMoreChars}]),onClick:e[5]||(e[5]=(...f)=>s.loadMorePresentInChars&&s.loadMorePresentInChars(...f))}," + ",2)):Xt("",!0)])])):Xt("",!0),i.activeChar&&t.decompositionData&&t.decompositionData[i.activeChar]&&t.decompositionData[i.activeChar].recursive&&Object.keys(t.decompositionData[i.activeChar].recursive).length>0?(dt(),wt("div",zA,[e[30]||(e[30]=_("div",{class:"medium-label"},"Decomposition",-1)),_("div",qA,[Vt(d,{data:{[i.activeChar]:t.decompositionData[i.activeChar].recursive}},null,8,["data"])])])):Xt("",!0)])])):Xt("",!0)])):Xt("",!0)]))],2),n.pageMode?Xt("",!0):(dt(),wt("button",{key:0,onClick:e[8]||(e[8]=(...f)=>s.closeModal&&s.closeModal(...f)),class:"close-btn fixed-close"},e[32]||(e[32]=[_("span",{class:"x-centered"},"",-1)]))),Vt(p,{visible:i.notificationVisible,"onUpdate:visible":e[9]||(e[9]=f=>i.notificationVisible=f),message:i.notificationMessage,type:i.notificationType,position:"bottom-right"},null,8,["visible","message","type"])],2)):Xt("",!0),i.showCreateListModal?(dt(),wt("div",{key:1,class:"create-list-modal-overlay",onClick:e[16]||(e[16]=(...f)=>t.closeCreateListModal&&t.closeCreateListModal(...f))},[_("div",{class:"create-list-modal-container",onClick:e[15]||(e[15]=Be(()=>{},["stop"]))},[e[34]||(e[34]=_("h3",null,"Create New List",-1)),_("div",WA,[e[33]||(e[33]=_("label",{for:"new-list-name"},"List Name:",-1)),Ke(_("input",{id:"new-list-name","onUpdate:modelValue":e[10]||(e[10]=f=>i.newListName=f),placeholder:"Enter list name",onKeyup:[e[11]||(e[11]=kn((...f)=>s.createNewListAndAddWord&&s.createNewListAndAddWord(...f),["enter"])),e[12]||(e[12]=kn((...f)=>t.closeCreateListModal&&t.closeCreateListModal(...f),["esc"]))],ref:"createListInput",autocomplete:"off"},null,544),[[fn,i.newListName]])]),_("div",UA,[_("button",{onClick:e[13]||(e[13]=(...f)=>t.closeCreateListModal&&t.closeCreateListModal(...f)),class:"cancel-button"},"Cancel"),_("button",{onClick:e[14]||(e[14]=(...f)=>s.createNewListAndAddWord&&s.createNewListAndAddWord(...f)),class:"confirm-button"},"Create & Add Word")])])])):Xt("",!0)],64)}const cv=tn(B8,[["render",$A],["__scopeId","data-v-2cd4dd1d"]]),HA={name:"BubbleTooltip",props:{visible:{type:Boolean,required:!0},character:{type:String,default:""},pinyin:{type:String,default:""},english:{type:String,default:""},position:{type:Object,default:()=>({x:0,y:0})},fontFamily:{type:String,default:"Noto Sans SC"}}},VA={class:"bubble-content"},GA={class:"bubble-pinyin"},YA={class:"bubble-english"};function KA(t,e,n,r,i,s){return n.visible?(dt(),wt("div",{key:0,class:"bubble-tooltip",style:xr({top:`${n.position.y}px`,left:`${n.position.x}px`})},[_("div",VA,[_("div",{class:"bubble-hanzi",style:xr({fontFamily:`'${n.fontFamily}'`})},Wt(n.character),5),_("div",GA,Wt(n.pinyin),1),_("div",YA,Wt(n.english),1)])],4)):Xt("",!0)}const XA=tn(HA,[["render",KA],["__scopeId","data-v-b83e9f37"]]),JA=["data-theme"],QA={__name:"App",setup(t){const e=Ws(),n=Uo(),r=Ce(()=>e.getters["theme/getCurrentTheme"]),i=Ce(()=>e.getters["bubbleTooltip/getBubbleData"]);zr(()=>n.currentRoute.value.path,(l,c)=>{l!==c&&(e.getters["cardModal/isCardModalVisible"]&&e.dispatch("cardModal/hideCardModal"),e.getters["bubbleTooltip/isBubbleVisible"]&&e.dispatch("bubbleTooltip/hideBubble"))});const s=async()=>{if(e.getters.isLoggedIn)try{if(!await a()){console.warn("Backend unavailable during verification, logging out"),e.dispatch("logout");return}await e.dispatch("fetchUserData"),e.getters.getAuthStatus||(console.warn("User session invalid, logging out after verification"),e.dispatch("logout"))}catch(l){console.error("Error verifying user:",l),e.dispatch("logout")}},a=async()=>{try{const l=new AbortController,c=setTimeout(()=>l.abort(),2e3),u=await fetch("/version",{method:"GET",signal:l.signal});return clearTimeout(c),!!u.ok}catch(l){return console.error("Error connecting to backend:",l),!1}},o=()=>{e.dispatch("theme/toggleTheme");const l=document.querySelector(".theme-toggle");l.classList.add("spin"),setTimeout(()=>{l.classList.remove("spin")},200)};return mc(async()=>{e.dispatch("theme/initTheme"),await s(),await Promise.all([e.dispatch("fetchDictionaryData"),e.dispatch("fetchCustomDictionaryData")]),Or(()=>{n.currentRoute.value.path.startsWith("/word/")||e.dispatch("cardModal/checkForWordParameter")})}),(l,c)=>{const u=_e("font-awesome-icon"),d=_e("router-view");return dt(),wt("div",{id:"app","data-theme":r.value},[_("button",{class:"theme-toggle",onClick:o},[r.value==="dark"?(dt(),ln(u,{key:0,icon:["fas","moon"]})):r.value==="theme1"?(dt(),ln(u,{key:1,icon:["fas","sun"]})):r.value==="theme2"?(dt(),ln(u,{key:2,icon:["fas","moon"]})):(dt(),ln(u,{key:3,icon:["fas","sun"]}))]),Vt(d),Vt(cv),Vt(XA,{visible:l.$store.getters["bubbleTooltip/isBubbleVisible"],character:i.value.character,pinyin:i.value.pinyin,english:i.value.english,position:i.value.position,fontFamily:i.value.fontFamily},null,8,["visible","character","pinyin","english","position","fontFamily"])],8,JA)}}},ZA=["disabled"],tC={key:0},eC={key:1},nC={__name:"LogoutButton",setup(t){const e=Ws(),n=Uo(),r=te(!1);async function i(){r.value=!0;try{await fetch("/api/logout",{method:"GET",credentials:"include"})}catch{}e.dispatch("logout"),n.push("/")}return(s,a)=>(dt(),wt("button",{class:"logout-btn",onClick:i,disabled:r.value},[r.value?(dt(),wt("span",tC,"Logging out")):(dt(),wt("span",eC,"Logout"))],8,ZA))}},uv=tn(nC,[["__scopeId","data-v-8b31a2f8"]]),rC={name:"SideBar",components:{LogoutButton:uv},data(){return{isOpen:!1,scrollPosition:0,topbarOpacity:1}},computed:{authStatus(){return this.$store.getters.getAuthStatus}},methods:{toggleSidebar(){this.isOpen=!this.isOpen,this.isOpen&&document.dispatchEvent(new CustomEvent("sidebar-opened"))},closeSidebar(){this.isOpen=!1},handleScroll(){const t=window.pageYOffset||document.documentElement.scrollTop;t<50?this.topbarOpacity=1:t>150?this.topbarOpacity=0:this.topbarOpacity=1-(t-50)/100,this.scrollPosition=t}},mounted(){document.addEventListener("click",this.closeSidebar),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){document.removeEventListener("click",this.closeSidebar),window.removeEventListener("scroll",this.handleScroll)}},iC={class:"sidebar-nav"},sC={class:"top-nav"};function aC(t,e,n,r,i,s){const a=_e("font-awesome-icon"),o=_e("RouterLink");return dt(),wt("div",null,[_("div",{class:we(["sidebar-container",{"sidebar-open":i.isOpen}])},[i.isOpen?Xt("",!0):(dt(),wt("button",{key:0,class:"sidebar-toggle",onClick:e[0]||(e[0]=Be((...l)=>s.toggleSidebar&&s.toggleSidebar(...l),["stop"]))},[Vt(a,{icon:["fas","bars"]})])),i.isOpen?(dt(),wt("div",{key:1,class:"sidebar",onClick:e[1]||(e[1]=Be(()=>{},["stop"]))},[_("nav",iC,[Vt(o,{to:"/",class:"top-link"},{default:ke(()=>e[3]||(e[3]=[le("Home")])),_:1,__:[3]}),s.authStatus?(dt(),ln(o,{key:0,to:"/my-lists",class:"top-link"},{default:ke(()=>e[4]||(e[4]=[le("My words")])),_:1,__:[4]})):Xt("",!0),Vt(o,{to:"/grid",class:"top-link"},{default:ke(()=>e[5]||(e[5]=[le("Explorer")])),_:1,__:[5]}),Vt(o,{to:"/flashcards",class:"top-link"},{default:ke(()=>e[6]||(e[6]=[le("Flashcards")])),_:1,__:[6]}),Vt(o,{to:"/practice",class:"top-link"},{default:ke(()=>e[7]||(e[7]=[le("Strokes")])),_:1,__:[7]}),Vt(o,{to:"/search",class:"top-link"},{default:ke(()=>e[8]||(e[8]=[le("Search")])),_:1,__:[8]}),Vt(o,{to:"/sketch-lookup",class:"top-link"},{default:ke(()=>e[9]||(e[9]=[le("Sketch Search")])),_:1,__:[9]}),Vt(o,{to:"/about",class:"top-link"},{default:ke(()=>e[10]||(e[10]=[le("About")])),_:1,__:[10]}),Vt(o,{to:"/account",class:"top-link"},{default:ke(()=>e[11]||(e[11]=[le("Settings")])),_:1,__:[11]}),s.authStatus?Xt("",!0):(dt(),ln(o,{key:1,to:"/login",class:"top-link"},{default:ke(()=>e[12]||(e[12]=[le("Login")])),_:1,__:[12]}))])])):Xt("",!0)],2),i.isOpen?(dt(),wt("div",{key:0,class:"overlay",onClick:e[2]||(e[2]=Be((...l)=>s.closeSidebar&&s.closeSidebar(...l),["stop"]))})):Xt("",!0),_("div",{class:"topbar",style:xr({opacity:i.topbarOpacity})},[_("div",sC,[Vt(o,{to:"/",class:"top-link"},{default:ke(()=>e[13]||(e[13]=[le("Home")])),_:1,__:[13]}),s.authStatus?(dt(),ln(o,{key:0,to:"/my-lists",class:"top-link"},{default:ke(()=>e[14]||(e[14]=[le("My words")])),_:1,__:[14]})):Xt("",!0),Vt(o,{to:"/grid",class:"top-link"},{default:ke(()=>e[15]||(e[15]=[le("Explorer")])),_:1,__:[15]}),Vt(o,{to:"/flashcards",class:"top-link"},{default:ke(()=>e[16]||(e[16]=[le("Flashcards")])),_:1,__:[16]}),Vt(o,{to:"/practice",class:"top-link"},{default:ke(()=>e[17]||(e[17]=[le("Strokes")])),_:1,__:[17]}),Vt(o,{to:"/search",class:"top-link"},{default:ke(()=>e[18]||(e[18]=[le("Search")])),_:1,__:[18]}),Vt(o,{to:"/sketch-lookup",class:"top-link"},{default:ke(()=>e[19]||(e[19]=[le("Sketch Search")])),_:1,__:[19]}),Vt(o,{to:"/about",class:"top-link"},{default:ke(()=>e[20]||(e[20]=[le("About")])),_:1,__:[20]}),Vt(o,{to:"/account",class:"top-link"},{default:ke(()=>e[21]||(e[21]=[le("Settings")])),_:1,__:[21]}),s.authStatus?Xt("",!0):(dt(),ln(o,{key:1,to:"/login",class:"top-link"},{default:ke(()=>e[22]||(e[22]=[le("Login")])),_:1,__:[22]}))])],4)])}const oC=tn(rC,[["render",aC],["__scopeId","data-v-0709820d"]]),lC={components:{SideBar:oC},props:{page_title:{type:String,required:!0}}},cC={id:"maintitle"};function uC(t,e,n,r,i,s){const a=_e("SideBar");return dt(),wt(re,null,[e[0]||(e[0]=_("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1)),Vt(a,{id:"mainsidebar"}),_("div",cC,Wt(n.page_title),1)],64)}const dr=tn(lC,[["render",uC],["__scopeId","data-v-ed0e37c5"]]),hC={name:"PageInfoView",components:{PreloadWrapper:Xs,BasePage:dr},data(){return{searchQuery:"",randomWords:[],numRandomWords:3,loading:!0,fetchInProgress:!1}},computed:{storeDecks(){const t=this.$store.getters.getDictionaryData||{},e=this.$store.getters.getCustomDictionaryData||{};return this.$store.getters.isDictionaryLoading,{...t,...e}},isDictionaryLoading(){return this.$store.getters.isDictionaryLoading},dictionaryPromises(){return this.$store.getters.getDictionaryPromises}},watch:{storeDecks:{handler(t){Object.keys(t).length>0&&(this.loading=!1,this.getRandomWords())},deep:!0,immediate:!0}},mounted(){if(this.isDictionaryLoading){this.loading=!0;const t=[];this.dictionaryPromises.static&&t.push(this.dictionaryPromises.static),this.dictionaryPromises.custom&&t.push(this.dictionaryPromises.custom),Promise.all(t).then(()=>{this.loading=!1,this.getRandomWords()}).catch(e=>{console.error("Error waiting for dictionary data:",e),this.loading=!1})}else Object.keys(this.storeDecks).length>0?(this.loading=!1,this.getRandomWords()):(this.loading=!0,Promise.all([this.$store.dispatch("fetchDictionaryData"),this.$store.dispatch("fetchCustomDictionaryData")]).then(()=>{this.loading=!1,this.getRandomWords()}).catch(t=>{console.error("Error loading dictionary data:",t),this.loading=!1}))},methods:{goToSearch(){const t=fetch("/api/search_results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:this.searchQuery})});window.pendingSearchPromise=t,this.$router.push({name:"SearchPage",query:{q:this.searchQuery}})},getRandomWords(){try{let t=[],e=[];const n=this.$store.getters.getCustomDictionaryData||{},r=this.$store.getters.getDictionaryData||{};for(const[s,a]of Object.entries(n)){const o=Array.isArray(a.chars)?a.chars:Object.keys(a.chars);t=[...t,...o]}if(r.hsk1&&r.hsk1.chars){const s=Array.isArray(r.hsk1.chars)?r.hsk1.chars:Object.keys(r.hsk1.chars);e=[...e,...s]}if(r.hsk2&&r.hsk2.chars){const s=Array.isArray(r.hsk2.chars)?r.hsk2.chars:Object.keys(r.hsk2.chars);e=[...e,...s]}t=this.shuffleArray(t),t.length<this.numRandomWords&&(e=this.shuffleArray(e),t=[...t,...e.slice(0,this.numRandomWords-t.length)]);const i=t.slice(0,this.numRandomWords);this.randomWords=i.map(s=>this.getWordInfoFromStore(s))}catch(t){console.error("Error getting random words:",t),this.randomWords=[{character:"",pinyin:"n ho",meaning:"Hello"},{character:"",pinyin:"xixie",meaning:"Thank you"},{character:"",pinyin:"zijin",meaning:"Goodbye"}]}},getWordInfoFromStore(t){const e=this.$store.getters.getCustomDictionaryData||{};for(const[r,i]of Object.entries(e))if(!Array.isArray(i.chars)&&i.chars&&i.chars[t]){const s=i.chars[t];return{character:t,pinyin:this.$toAccentedPinyin(s.pinyin?s.pinyin[0]:""),meaning:s.english?s.english[0].split("/").slice(0,3).join("/"):""}}const n=this.$store.getters.getDictionaryData||{};for(const[r,i]of Object.entries(n))if(!Array.isArray(i.chars)&&i.chars&&i.chars[t]){const s=i.chars[t];return{character:t,pinyin:this.$toAccentedPinyin(s.pinyin?s.pinyin[0]:""),meaning:s.english?s.english[0].split("/").slice(0,3).join("/"):""}}return{character:t,pinyin:"",meaning:""}},shuffleArray(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}}},fC={class:"page-info"},dC={class:"content"},pC={class:"example-section"},mC={key:0,class:"loading-indicator"},gC={key:1,class:"word-grid"},vC={class:"chinese-word"},yC={class:"mpinyin"},bC={class:"meaning"};function wC(t,e,n,r,i,s){const a=_e("BasePage"),o=_e("PreloadWrapper");return dt(),wt(re,null,[Vt(a,{page_title:"HanziLab"}),_("div",fC,[_("form",{onSubmit:e[1]||(e[1]=Be((...l)=>s.goToSearch&&s.goToSearch(...l),["prevent"])),class:"search-form"},[Ke(_("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>i.searchQuery=l),type:"text",placeholder:"search for words or characters...",class:"search-input"},null,512),[[fn,i.searchQuery]]),e[2]||(e[2]=_("button",{type:"submit",class:"search-button"},"search",-1))],32),_("div",dC,[_("div",pC,[e[3]||(e[3]=_("h2",null,"Random pick",-1)),i.loading?(dt(),wt("div",mC," Loading random words... ")):(dt(),wt("div",gC,[(dt(!0),wt(re,null,Je(i.randomWords,(l,c)=>(dt(),wt("div",{key:c,class:"home-word-item"},[Vt(o,{character:l.character,class:"chinese-word-wrapper"},{default:ke(()=>[_("span",vC,Wt(l.character),1)]),_:2},1032,["character"]),_("span",yC,Wt(l.pinyin),1),_("span",bC,Wt(l.meaning),1)]))),128))]))])])])],64)}const Em=tn(hC,[["render",wC],["__scopeId","data-v-7f1843c8"]]),xC={class:"loginregister-container"},kC=["disabled"],SC={class:"register-link"},_C={key:0,class:"error"},AC={__name:"LoginView",setup(t){const e=Ws(),n=Uo(),r=te(""),i=te(""),s=te(""),a=te(!1),o=async()=>{s.value="",a.value=!0;try{const c=await fetch("/api/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.value,password:i.value})});if(!c.ok){const d=await c.json();throw new Error(d.error||"Invalid credentials")}const u=await c.json();e.commit("setUserData",u),await e.dispatch("saveUserDataToStorage"),await e.dispatch("fetchUserData"),await e.dispatch("fetchCustomDictionaryData"),n.push("/")}catch(c){s.value=c.message||"Login failed"}finally{a.value=!1}},l=()=>{window.location.href="/api/google_auth/login"};return(c,u)=>{const d=_e("RouterLink");return dt(),wt(re,null,[Vt(dr,{page_title:"Login"}),_("div",xC,[_("form",{onSubmit:Be(o,["prevent"])},[_("div",null,[u[2]||(u[2]=_("label",{for:"username"},"Username:",-1)),Ke(_("input",{id:"username","onUpdate:modelValue":u[0]||(u[0]=p=>r.value=p),required:"",autocomplete:"username"},null,512),[[fn,r.value]])]),_("div",null,[u[3]||(u[3]=_("label",{for:"password"},"Password:",-1)),Ke(_("input",{id:"password","onUpdate:modelValue":u[1]||(u[1]=p=>i.value=p),required:"",type:"password",autocomplete:"current-password"},null,512),[[fn,i.value]])])],32),_("button",{onClick:o,disabled:a.value,class:"login-button"}," Login ",8,kC),_("div",SC,[u[5]||(u[5]=le(" Don't have an account? ")),Vt(d,{to:"/register"},{default:ke(()=>u[4]||(u[4]=[le("Register")])),_:1,__:[4]})]),u[7]||(u[7]=_("div",{class:"google-divider"},[_("span",null,"or")],-1)),_("button",{onClick:l,class:"google-login"},u[6]||(u[6]=[_("img",{class:"google-logo",src:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/google.svg",alt:"Google",width:"20",style:{"vertical-align":"middle","margin-right":"8px"}},null,-1),le(" Continue with Google ")])),s.value?(dt(),wt("div",_C,Wt(s.value),1)):Xt("",!0)])],64)}}},CC=tn(AC,[["__scopeId","data-v-431cc1ef"]]),LC={class:"loginregister-container"},PC=["disabled"],NC={key:0,class:"error"},MC={__name:"RegisterView",setup(t){const e=Ws(),n=Uo(),r=te(""),i=te(""),s=te(""),a=te(""),o=te(""),l=te(!1);async function c(){if(o.value="",l.value=!0,s.value!==a.value){o.value="Passwords don't match",l.value=!1;return}try{const d=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.value,email:i.value||"",password:s.value,confirm_password:a.value})}),p=await d.json();if(!d.ok){o.value=p.error||"Failed to register",l.value=!1;return}e.commit("setUserData",p),await e.dispatch("saveUserDataToStorage"),await e.dispatch("fetchUserData"),n.push("/account")}catch(d){o.value=d.message||"Registration failed"}finally{l.value=!1}}const u=()=>{window.location.href="/api/google_auth/login"};return(d,p)=>(dt(),wt(re,null,[Vt(dr,{page_title:"Register"}),_("div",LC,[_("form",{onSubmit:Be(c,["prevent"])},[_("div",null,[p[4]||(p[4]=_("label",{for:"username"},"Username:",-1)),Ke(_("input",{id:"username","onUpdate:modelValue":p[0]||(p[0]=f=>r.value=f),required:"",autocomplete:"username"},null,512),[[fn,r.value]])]),_("div",null,[p[5]||(p[5]=_("label",{for:"email"},[le("Email "),_("span",{style:{"font-size":".8em"}},"(optional, used for recovery):")],-1)),Ke(_("input",{id:"email","onUpdate:modelValue":p[1]||(p[1]=f=>i.value=f),type:"email",autocomplete:"email"},null,512),[[fn,i.value]])]),_("div",null,[p[6]||(p[6]=_("label",{for:"password"},"Password:",-1)),Ke(_("input",{id:"password","onUpdate:modelValue":p[2]||(p[2]=f=>s.value=f),required:"",type:"password",autocomplete:"new-password"},null,512),[[fn,s.value]])]),_("div",null,[p[7]||(p[7]=_("label",{for:"confirm_password"},"Confirm Password:",-1)),Ke(_("input",{id:"confirm_password","onUpdate:modelValue":p[3]||(p[3]=f=>a.value=f),required:"",type:"password",autocomplete:"new-password"},null,512),[[fn,a.value]])])],32),_("button",{onClick:c,disabled:l.value,class:"register-button"}," Register ",8,PC),p[9]||(p[9]=_("div",{class:"google-divider"},[_("span",null,"or")],-1)),_("button",{onClick:u,class:"google-login"},p[8]||(p[8]=[_("img",{class:"google-logo",src:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/google.svg",alt:"Google",width:"20",style:{"vertical-align":"middle","margin-right":"8px"}},null,-1),le(" Continue with Google ")])),o.value?(dt(),wt("div",NC,Wt(o.value),1)):Xt("",!0)])],64))}},DC=tn(MC,[["__scopeId","data-v-fd7ae0b1"]]),TC={class:"account-container"},EC={class:"settings-section theme-settings"},IC={class:"theme-selection"},FC={class:"theme-buttons"},OC={key:0,class:"account-container"},RC={class:"profile-info-grid"},jC={class:"profile-row"},BC={class:"profile-value"},zC={class:"profile-row"},qC={class:"profile-value"},WC={class:"profile-row"},UC={class:"profile-value"},$C=["src"],HC={key:1},VC={class:"profile-row"},GC={class:"profile-value"},YC={class:"account-actions"},KC={key:0},XC={class:"modal-form"},JC={key:1,class:"modal-error"},QC={class:"modal-buttons"},ZC=["disabled"],t7={class:"modal-form"},e7={key:0,for:"current-password-input"},n7={key:0,class:"modal-error"},r7={class:"modal-buttons"},i7=["disabled"],s7={class:"modal-form"},a7={key:0,class:"modal-error"},o7={class:"modal-buttons"},l7=["disabled"],c7={class:"modal-message"},u7={key:0,class:"modal-error"},h7={class:"modal-buttons"},f7=["disabled"],d7={class:"modal-form"},p7={key:0,class:"modal-error"},m7={class:"modal-buttons"},g7=["disabled"],v7={__name:"AccountView",setup(t){const e=Ws(),n=Uo(),r=M5();Ce(()=>e.getters["theme/getCurrentTheme"]);const i=Ce(()=>e.getters["theme/isDefaultThemeSystem"]);Ce(()=>e.getters["theme/getCurrentThemeName"]);function s(Tt){const xt=e.getters["theme/getCurrentTheme"];xt==="light"?(e.dispatch("theme/setTheme","theme1"),M("Switched to Tooney dark theme")):xt==="theme2"?(e.dispatch("theme/setTheme","dark"),M("Switched to Classic light theme")):xt==="dark"?(e.dispatch("theme/setTheme","theme2"),M("Switched to Tooney dark theme")):xt==="theme1"&&(e.dispatch("theme/setTheme","light"),M("Switched to Classic light theme"))}const a=te(!1),o=te(!1),l=te(!1),c=te(!1),u=te(!1),d=te("add"),p=te("add"),f=te(!1),w=te(""),v=te(""),k=te(""),y=te(""),x=te(""),N=te(""),L=te(null),j=te(null),it=te(null),J=te(null),G=te(null),nt=te(!1),mt=te(""),E=te("info"),B=te(null),Q=te({firstConfirmed:!1,message:"Are you sure you want to permanently delete your account?"});function M(Tt){nt.value=!0,mt.value=Tt,E.value="success",B.value&&clearTimeout(B.value),B.value=setTimeout(Y,4e3)}function ot(Tt){nt.value=!0,mt.value=Tt,E.value="error",B.value&&clearTimeout(B.value),B.value=setTimeout(Y,6e3)}function Y(){nt.value=!1,B.value&&(clearTimeout(B.value),B.value=null)}function rt(){Y()}const Z=Ce(()=>e.getters.getAuthStatus),lt=Ce(()=>e.getters.getUsername),ft=Ce(()=>e.getters.getProfile),It=Ce(()=>e.getters.getImage),P=Ce(()=>{var Tt;return((Tt=ft.value)==null?void 0:Tt.email)||""}),W=Ce(()=>{var Tt;return((Tt=ft.value)==null?void 0:Tt.email_verified)||!1}),H=Ce(()=>e.getters.getGoogleLinked),et=Ce(()=>e.getters.getHasPassword),st=Ce(()=>e.getters.getAuthStatus);zr(()=>r.path,Tt=>{Tt==="/account"&&e.dispatch("fetchUserData")}),zr(ft,Tt=>{},{immediate:!0,deep:!0}),mc(()=>{ft.value||e.dispatch("fetchUserData")});function $(){f.value=!1,w.value="",v.value="",k.value="",y.value="",x.value="",N.value="",Q.value.firstConfirmed=!1,Q.value.message="Are you sure you want to permanently delete your account?"}function z(Tt){$(),d.value=Tt,v.value=Tt==="change"?P.value:"",a.value=!0,Or(()=>{var xt;return(xt=L.value)==null?void 0:xt.focus()})}function U(){a.value=!1}function at(Tt){$(),p.value=Tt,o.value=!0,Or(()=>{var xt;return(xt=j.value)==null?void 0:xt.focus()})}function Lt(){o.value=!1}function R(){$(),l.value=!0,Or(()=>{var Tt;return(Tt=J.value)==null?void 0:Tt.focus()})}function O(){l.value=!1}function tt(){$(),c.value=!0}function K(){c.value=!1}function I(){$(),N.value=lt.value,u.value=!0,Or(()=>{var Tt;return(Tt=G.value)==null?void 0:Tt.focus()})}function St(){u.value=!1}async function Pt(Tt,xt,$t){f.value=!0,w.value="";try{const Yt=await fetch(Tt,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(xt.body)}),ee=await Yt.json();if(!Yt.ok)throw new Error(ee.message||`HTTP error ${Yt.status}`);return await e.dispatch("fetchUserData"),!0}catch(Yt){return console.error(`Error during API call to ${Tt}:`,Yt),w.value=Yt.message||"An unexpected error occurred.",!1}finally{f.value=!1}}async function bt(){await Pt("/api/email-management",{body:{email:v.value}})&&(U(),d.value==="add"||!W.value?M("Verification email sent. Please check your inbox for the verification link."):M("Email updated successfully."))}async function _t(){await Pt("/api/email-management",{body:{email:P.value}})&&M("Verification email resent. Please check your inbox.")}async function vt(){if(y.value!==x.value){w.value="New passwords do not match.";return}if(y.value.length<6){w.value="Password must be at least 6 characters.";return}const Tt=p.value==="add"?"/api/add-password":"/api/change-password",xt={new_password:y.value,confirm_password:x.value};p.value==="change"&&(xt.current_password=k.value),await Pt(Tt,{body:xt})&&(Lt(),M(p.value==="add"?"Password set successfully.":"Password changed successfully."))}async function Nt(){if(y.value!==x.value){w.value="Passwords do not match.";return}if(y.value.length<6){w.value="Password must be at least 6 characters.";return}await Pt("/api/google_auth/unlink_and_set_password",{body:{new_password:y.value,confirm_password:x.value}})&&(O(),M("Google account unlinked and password set successfully."))}async function Mt(){try{const Tt=document.createElement("form");Tt.method="POST",Tt.action="/api/google_auth/link_account",document.body.appendChild(Tt),Tt.submit()}catch(Tt){console.error("Error initiating Google link:",Tt),ot("An error occurred initiating Google link. Please try again.")}}async function jt(){if(!Q.value.firstConfirmed){Q.value.firstConfirmed=!0,Q.value.message="Are you ABSOLUTELY sure? This action cannot be undone!";return}await Pt("/api/delete-account",{body:{}})&&(K(),e.commit("clearUserData"),n.push("/"),setTimeout(()=>{M("Your account has been successfully deleted.")},100))}async function pt(){if(N.value.length<3){w.value="Username must be at least 3 characters.";return}if(N.value===lt.value){w.value="New username must be different from current username.";return}await Pt("/api/change-username",{body:{new_username:N.value}})&&(St(),M("Username changed successfully. Please use your new username to log in next time."))}return(Tt,xt)=>(dt(),wt(re,null,[Vt(dr,{page_title:"Settings"}),_("div",TC,[_("div",EC,[xt[20]||(xt[20]=_("h3",null,"Appearance",-1)),xt[21]||(xt[21]=_("div",{class:"section-divider"},null,-1)),_("div",IC,[xt[19]||(xt[19]=_("div",{class:"theme-option-label"},"Theme:",-1)),_("div",FC,[_("button",{class:we(["theme-button",{active:i.value}]),onClick:xt[0]||(xt[0]=$t=>s())}," Classic ",2),_("button",{class:we(["theme-button",{active:!i.value}]),onClick:xt[1]||(xt[1]=$t=>s())}," Tooney ",2)])])])]),Z.value?(dt(),wt("div",OC,[xt[29]||(xt[29]=_("h3",null,"Account",-1)),xt[30]||(xt[30]=_("div",{class:"section-divider"},null,-1)),_("div",RC,[_("div",jC,[xt[22]||(xt[22]=_("div",{class:"profile-label"},"Username:",-1)),_("div",BC,[le(Wt(lt.value)+" ",1),_("button",{onClick:I,class:"btn-small btn-change-username btn"},"Change Username")])]),_("div",zC,[xt[23]||(xt[23]=_("div",{class:"profile-label"},"Email:",-1)),_("div",qC,[le(Wt(P.value||"Not set")+" ",1),P.value?(dt(),wt("span",{key:0,class:we({"status-verified":W.value,"status-unverified":!W.value})}," ("+Wt(W.value?"Verified":"Unverified")+") ",3)):Xt("",!0),P.value&&!W.value&&!H.value?(dt(),wt("button",{key:1,onClick:_t,class:"btn-small btn-verify"},"Resend Verification")):Xt("",!0)])]),_("div",WC,[xt[24]||(xt[24]=_("div",{class:"profile-label"},"Profile Picture:",-1)),_("div",UC,[It.value?(dt(),wt("img",{key:0,src:It.value,alt:"Profile",class:"profile-pic"},null,8,$C)):(dt(),wt("span",HC,"No profile picture"))])]),_("div",VC,[xt[25]||(xt[25]=_("div",{class:"profile-label"},"Login Method:",-1)),_("div",GC,Wt(H.value?"Google Account":et.value?"Password":"Unknown"),1)])]),_("div",YC,[H.value?Xt("",!0):(dt(),wt(re,{key:0},[P.value?(dt(),wt("button",{key:1,onClick:xt[3]||(xt[3]=$t=>z("change")),class:"btn"},"Change Email")):(dt(),wt("button",{key:0,onClick:xt[2]||(xt[2]=$t=>z("add")),class:"btn"},"Add Email"))],64)),H.value?Xt("",!0):(dt(),wt(re,{key:1},[et.value?(dt(),wt("button",{key:0,onClick:xt[4]||(xt[4]=$t=>at("change")),class:"btn"},"Change Password")):(dt(),wt("button",{key:1,onClick:xt[5]||(xt[5]=$t=>at("add")),class:"btn"},"Set Password"))],64)),H.value?(dt(),wt("button",{key:3,class:"btn",onClick:R},"Unlink Google Account")):(dt(),wt("button",{key:2,class:"btn google-btn",onClick:Mt},xt[26]||(xt[26]=[_("img",{class:"google-logo",src:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/google.svg",alt:"Google",width:"20",style:{"vertical-align":"middle","margin-right":"8px"}},null,-1),le(" Link Google Account ")]))),st.value?(dt(),ln(uv,{key:4})):Xt("",!0)]),_("div",{class:"danger-zone"},[xt[27]||(xt[27]=_("h3",null,"Danger Zone",-1)),xt[28]||(xt[28]=_("p",null,"Permanently delete your account and all associated data.",-1)),_("button",{onClick:tt,class:"btn btn-danger delete-account-btn"},"Delete Account")])])):Xt("",!0),a.value?(dt(),wt("div",{key:1,class:"modal-overlay",onClick:U},[_("div",{class:"modal-content",onClick:xt[7]||(xt[7]=Be(()=>{},["stop"]))},[_("h3",null,Wt(d.value==="add"?"Add":"Change")+" Email",1),d.value==="change"?(dt(),wt("p",KC,"A verification link will be sent to the new address.")):Xt("",!0),_("div",XC,[xt[31]||(xt[31]=_("label",{for:"email-input"},"Email Address:",-1)),Ke(_("input",{id:"email-input",type:"email","onUpdate:modelValue":xt[6]||(xt[6]=$t=>v.value=$t),placeholder:"Enter email address",onKeyup:[kn(bt,["enter"]),kn(U,["esc"])],ref_key:"emailModalInput",ref:L,autocomplete:"email"},null,544),[[fn,v.value]])]),w.value?(dt(),wt("div",JC,Wt(w.value),1)):Xt("",!0),_("div",QC,[_("button",{onClick:U,class:"cancel-button"},"Cancel"),_("button",{onClick:bt,class:"confirm-button",disabled:f.value},Wt(f.value?"Sending...":"Submit"),9,ZC)])])])):Xt("",!0),o.value?(dt(),wt("div",{key:2,class:"modal-overlay",onClick:Lt},[_("div",{class:"modal-content",onClick:xt[11]||(xt[11]=Be(()=>{},["stop"]))},[_("h3",null,Wt(p.value==="add"?"Set":"Change")+" Password",1),_("div",t7,[p.value==="change"?(dt(),wt("label",e7,"Current Password:")):Xt("",!0),p.value==="change"?Ke((dt(),wt("input",{key:1,id:"current-password-input",type:"password","onUpdate:modelValue":xt[8]||(xt[8]=$t=>k.value=$t),placeholder:"Enter current password",ref_key:"currentPasswordModalInput",ref:j,autocomplete:"current-password"},null,512)),[[fn,k.value]]):Xt("",!0),xt[32]||(xt[32]=_("label",{for:"new-password-input"},"New Password:",-1)),Ke(_("input",{id:"new-password-input",type:"password","onUpdate:modelValue":xt[9]||(xt[9]=$t=>y.value=$t),placeholder:"Enter new password (min 6 chars)",onKeyup:[kn(vt,["enter"]),kn(Lt,["esc"])],ref_key:"newPasswordModalInput",ref:it,autocomplete:"new-password"},null,544),[[fn,y.value]]),xt[33]||(xt[33]=_("label",{for:"confirm-password-input"},"Confirm New Password:",-1)),Ke(_("input",{id:"confirm-password-input",type:"password","onUpdate:modelValue":xt[10]||(xt[10]=$t=>x.value=$t),placeholder:"Confirm new password",onKeyup:[kn(vt,["enter"]),kn(Lt,["esc"])],autocomplete:"new-password"},null,544),[[fn,x.value]])]),w.value?(dt(),wt("div",n7,Wt(w.value),1)):Xt("",!0),_("div",r7,[_("button",{onClick:Lt,class:"cancel-button"},"Cancel"),_("button",{onClick:vt,class:"confirm-button",disabled:f.value},Wt(f.value?"Saving...":"Save Password"),9,i7)])])])):Xt("",!0),l.value?(dt(),wt("div",{key:3,class:"modal-overlay",onClick:O},[_("div",{class:"modal-content",onClick:xt[14]||(xt[14]=Be(()=>{},["stop"]))},[xt[36]||(xt[36]=_("h3",null,"Set Password to Unlink Google",-1)),xt[37]||(xt[37]=_("p",null,"To unlink your Google account, please set a password for standard login.",-1)),_("div",s7,[xt[34]||(xt[34]=_("label",{for:"unlink-new-password-input"},"New Password:",-1)),Ke(_("input",{id:"unlink-new-password-input",type:"password","onUpdate:modelValue":xt[12]||(xt[12]=$t=>y.value=$t),placeholder:"Enter new password (min 6 chars)",onKeyup:[kn(Nt,["enter"]),kn(O,["esc"])],ref_key:"unlinkModalInput",ref:J,autocomplete:"new-password"},null,544),[[fn,y.value]]),xt[35]||(xt[35]=_("label",{for:"unlink-confirm-password-input"},"Confirm New Password:",-1)),Ke(_("input",{id:"unlink-confirm-password-input",type:"password","onUpdate:modelValue":xt[13]||(xt[13]=$t=>x.value=$t),placeholder:"Confirm new password",onKeyup:[kn(Nt,["enter"]),kn(O,["esc"])],autocomplete:"new-password"},null,544),[[fn,x.value]])]),w.value?(dt(),wt("div",a7,Wt(w.value),1)):Xt("",!0),_("div",o7,[_("button",{onClick:O,class:"cancel-button"},"Cancel"),_("button",{onClick:Nt,class:"confirm-button",disabled:f.value},Wt(f.value?"Processing...":"Set Password & Unlink"),9,l7)])])])):Xt("",!0),c.value?(dt(),wt("div",{key:4,class:"modal-overlay",onClick:K},[_("div",{class:"modal-content",onClick:xt[15]||(xt[15]=Be(()=>{},["stop"]))},[xt[40]||(xt[40]=_("h3",null,"Confirm Account Deletion",-1)),_("div",c7,[_("p",null,[xt[38]||(xt[38]=_("strong",null,"Warning:",-1)),le(" "+Wt(Q.value.message),1)]),xt[39]||(xt[39]=_("p",null,"All your data, including wordlists and progress, will be lost. This action cannot be undone.",-1))]),w.value?(dt(),wt("div",u7,Wt(w.value),1)):Xt("",!0),_("div",h7,[_("button",{onClick:K,class:"cancel-button"},"Cancel"),_("button",{onClick:jt,class:"confirm-button delete-confirm-button",disabled:f.value},Wt(f.value?"Deleting...":"Delete My Account"),9,f7)])])])):Xt("",!0),u.value?(dt(),wt("div",{key:5,class:"modal-overlay",onClick:St},[_("div",{class:"modal-content",onClick:xt[17]||(xt[17]=Be(()=>{},["stop"]))},[xt[42]||(xt[42]=_("h3",null,"Change Username",-1)),xt[43]||(xt[43]=_("p",null,"This will change your username and you'll need to use the new username to log in.",-1)),_("div",d7,[xt[41]||(xt[41]=_("label",{for:"username-input"},"New Username:",-1)),Ke(_("input",{id:"username-input",type:"text","onUpdate:modelValue":xt[16]||(xt[16]=$t=>N.value=$t),placeholder:"Enter new username (min 3 chars)",onKeyup:[kn(pt,["enter"]),kn(St,["esc"])],ref_key:"usernameModalInput",ref:G,autocomplete:"username"},null,544),[[fn,N.value]])]),w.value?(dt(),wt("div",p7,Wt(w.value),1)):Xt("",!0),_("div",m7,[_("button",{onClick:St,class:"cancel-button"},"Cancel"),_("button",{onClick:pt,class:"confirm-button",disabled:f.value},Wt(f.value?"Updating...":"Update Username"),9,g7)])])])):Xt("",!0),Vt(E5,{visible:nt.value,"onUpdate:visible":xt[18]||(xt[18]=$t=>nt.value=$t),message:mt.value,type:E.value,duration:E.value==="error"?6e3:4e3,onHidden:rt},null,8,["visible","message","type","duration"])],64))}},y7=tn(v7,[["__scopeId","data-v-55baae93"]]),b7={name:"AboutView",components:{BasePage:dr},mounted(){document.body.classList.add("about-page")},beforeUnmount(){document.body.classList.remove("about-page")}};function w7(t,e,n,r,i,s){const a=_e("BasePage");return dt(),wt(re,null,[Vt(a,{page_title:"About"}),e[0]||(e[0]=Xw('<div class="container" data-v-50352ded><div class="about-section" data-v-50352ded><div data-v-50352ded> HanziLab is a personal learning tool I&#39;m developing alongside my Mandarin Chinese studies. I&#39;ve made it public hoping others might find it useful too, but please keep in mind that this is a work in progress and may contain errors or incomplete features. <br data-v-50352ded> Your feedback, suggestions and contributions are welcome! </div><br data-v-50352ded><a href="https://ko-fi.com/U7U01BB9OI" target="_blank" data-v-50352ded><img height="36" style="border:0px;height:36px;" src="https://storage.ko-fi.com/cdn/brandasset/v2/kofi_symbol.png" border="0" alt="contribute" data-v-50352ded></a><br data-v-50352ded><br data-v-50352ded><div class="contact-info" data-v-50352ded><div data-v-50352ded>Contact:</div><ul data-v-50352ded><li data-v-50352ded>Email: <a class="links" href="mailto:paolo@patakk.xyz" data-v-50352ded>paolo@patakk.xyz</a></li><li style="padding-top:5px;" data-v-50352ded>Twitter: <a class="links" href="https://twitter.com/patakk" target="_blank" data-v-50352ded>@patakk</a></li></ul></div></div><div class="attribution-section" data-v-50352ded><div class="licensing" data-v-50352ded>Licensing and Attribution</div><ul data-v-50352ded><li data-v-50352ded><div class="about-section" data-v-50352ded><div data-v-50352ded><span class="smallh" data-v-50352ded>Chinese-English translations:</span><br data-v-50352ded><p style="margin-left:20px;" data-v-50352ded> CC-CEDICT database, licensed under a <a class="links" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" data-v-50352ded> Creative Commons Attribution-ShareAlike 4.0 International License </a>. <br data-v-50352ded> Dictionary operations performed using a modified version of the <a class="links" href="https://github.com/Synkied/hanzipy" target="_blank" data-v-50352ded>hanzipy</a> library. </p><br data-v-50352ded><span class="smallh" data-v-50352ded>Character animations and Hanzi writing:</span><p style="margin-left:20px;" data-v-50352ded> Custom implementation using data from <a class="links" href="https://github.com/chanind/hanzi-writer-data" target="_blank" data-v-50352ded>hanzi-writer-data</a> and the <a class="links" href="https://github.com/skishore/makemeahanzi" target="_blank" data-v-50352ded>Make Me A Hanzi project</a>, using Arphic Technology fonts under the <a class="links" href="/licenses/ARPHICPL.TXT" target="_blank" data-v-50352ded>Arphic Public License</a>. </p><p style="margin-left:20px;" data-v-50352ded> For character recognition, <a class="links" href="https://github.com/gugray/HanziLookupJS/tree/master" data-v-50352ded>HanziLookupJS</a> by <a class="links" href="https://github.com/gugray" data-v-50352ded>gugray</a> is used. It is based on Jordan Kiang&#39;s <a class="links" href="https://kiang.org/jordan/software/hanzilookup/" data-v-50352ded>HanziLookup</a>, which is under <a class="links" href="https://www.gnu.org/licenses/gpl-3.0.html" data-v-50352ded>GNU GPL</a>. </p><br data-v-50352ded><span class="smallh" data-v-50352ded>Chinese-English examples:</span><br data-v-50352ded><p style="margin-left:20px;" data-v-50352ded> Provided by <a class="links" href="https://tatoeba.org" target="_blank" data-v-50352ded>Tatoeba.org</a>, licensed under <a class="links" href="https://creativecommons.org/licenses/by/2.0/fr/" target="_blank" data-v-50352ded>Creative Commons Attribution 2.0 FR</a>. </p></div></div></li></ul></div></div>',1))],64)}const x7=tn(b7,[["render",w7],["__scopeId","data-v-50352ded"]]),pa=180,k7={data(){return{selectedCategory:null,localPageTitle:"Grid",visibleCount:pa,hoveredItem:null,selectedFont:"Noto Sans SC",fontScale:1,tempFontScale:1,isListView:!1,reloading:!1,leftbarVisible:!1,waitingForDictData:!0,attemptedCategory:null,gridGapSize:"0.25em",showGridBorders:!0,currentHoveredCharacter:null,hoverTimer:null,preloadedCharacters:new Set,showScrollTop:!1}},components:{PreloadWrapper:Xs,BasePage:dr},computed:{dictionaryData(){var n,r;const t=this.$store.getters.getDictionaryData,e=this.$store.getters.getCustomDictionaryData;if(t)if(this.waitingForDictData=!1,this.selectedCategory)this.selectedCategory&&(t[this.selectedCategory]?this.localPageTitle=t[this.selectedCategory].name||this.selectedCategory:e&&e[this.selectedCategory]&&(this.localPageTitle=e[this.selectedCategory].name||this.selectedCategory));else{const i=this.$route.query.wordlist;i&&t[i]?(this.selectedCategory=i,this.localPageTitle=t[i].name||i,this.attemptedCategory=null):this.attemptedCategory&&e&&e[this.attemptedCategory]?(this.selectedCategory=this.attemptedCategory,this.localPageTitle=e[this.attemptedCategory].name||this.attemptedCategory,this.attemptedCategory=null):i&&!t[i]?(this.attemptedCategory=i,e&&Object.keys(e).length>0&&(this.selectedCategory="hsk1",this.localPageTitle=((n=t.hsk1)==null?void 0:n.name)||"HSK1")):i||(this.selectedCategory="hsk1",this.localPageTitle=((r=t.hsk1)==null?void 0:r.name)||"HSK1")}return t||{}},customDictionaryData(){const t=this.$store.getters.getCustomDictionaryData;return t&&this.attemptedCategory&&t[this.attemptedCategory]&&(this.selectedCategory=this.attemptedCategory,this.localPageTitle=t[this.attemptedCategory].name||this.attemptedCategory,this.attemptedCategory=null,this.waitingForDictData=!1),t||{}},slicedChars(){var n,r;if(!this.selectedCategory)return[];const t=((n=this.dictionaryData[this.selectedCategory])==null?void 0:n.chars)||{},e=((r=this.customDictionaryData[this.selectedCategory])==null?void 0:r.chars)||{};return Object.keys(t).length>0?Object.values(t):Object.keys(e).length>0?Object.values(e):[]},visibleChars(){return this.slicedChars.slice(0,this.visibleCount)}},methods:{showBubble(t,e){const n=t.clientX,r=t.clientY;this.$store.dispatch("bubbleTooltip/showBubble",{character:e.character,pinyin:this.$toAccentedPinyin(e.pinyin.join(", ")),english:e.english.join(", "),position:{x:n,y:r},fontFamily:this.selectedFont})},hideBubble(){this.$store.dispatch("bubbleTooltip/hideBubble")},handleBasepageClick(){this.toggleLeftbar()},applyFontScale(){this.fontScale=this.tempFontScale},setFontSize(t){this.reloading=!0,this.visibleCount=pa,this.fontScale=t,this.tempFontScale=t,this.$nextTick(()=>{this.loadMore()})},loadMore(){this.visibleCount+=pa,this.visibleCount>=this.slicedChars.length&&(this.visibleCount=this.slicedChars.length,this.reloading=!1),this.$nextTick(()=>{this.visibleCount<this.slicedChars.length&&setTimeout(this.loadMore,100)})},toggleView(){this.reloading=!0,this.visibleCount=pa,this.isListView=!this.isListView,this.$nextTick(()=>{this.loadMore()})},openCharacterModal(t){t&&this.$store.dispatch("cardModal/showCardModal",t)},handleGridItemMouseEnter(t,e){if(window.matchMedia("(hover: hover)").matches){const n=t.target.closest(".grid-item");if(!n)return;this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.currentHoveredCharacter=e.character;const r=n.getBoundingClientRect(),i=r.left+r.width/2,s=r.top;this.showBubble({clientX:i,clientY:s},e),this.hoverTimer=setTimeout(()=>{this.preloadedCharacters.has(e.character)||(this.$store.dispatch("cardModal/preloadCardData",e.character),this.preloadedCharacters.add(e.character))},150)}},handleGridItemMouseLeave(){this.hideBubble(),this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null)},handleGridMouseMove(t){if(window.matchMedia("(hover: hover)").matches){const r=t.target.closest(".grid-item");if(!r)return;const i=r.dataset.character;if(!i||this.currentHoveredCharacter===i)return;this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.currentHoveredCharacter=i;const s=this.visibleChars.find(c=>c.character===i);if(!s)return;const a=r.getBoundingClientRect(),o=a.left+a.width/2,l=a.top;this.showBubble({clientX:o,clientY:l},s)}const e=t.target.closest(".grid-item");if(!e)return;const n=e.dataset.character;n&&(this.currentHoveredCharacter=n,this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.hoverTimer=setTimeout(()=>{this.preloadedCharacters.has(n)||(this.$store.dispatch("cardModal/preloadCardData",n),this.preloadedCharacters.add(n))},150))},handleGridMouseLeave(){this.$store.dispatch("bubbleTooltip/hideBubble"),this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.currentHoveredCharacter=null},handleGridItemClick(t){t&&this.$store.dispatch("cardModal/showCardModal",t)},checkQueryParams(){const t=this.$route.query.wordlist;t&&this.dictionaryData&&this.dictionaryData[t]&&(this.selectedCategory=t,this.localPageTitle=this.dictionaryData[t].name||t)},updateUrlWithCategory(t){this.$router.replace({query:{...this.$route.query,wordlist:t}}).catch(e=>{if(e.name!=="NavigationDuplicated")throw e})},toggleLeftbar(){this.leftbarVisible=!this.leftbarVisible},closeLeftbar(){this.leftbarVisible&&window.innerWidth<=1024&&(this.leftbarVisible=!1)},setGridGapSize(t){this.reloading=!0,this.visibleCount=pa,this.gridGapSize=t,this.$nextTick(()=>{this.loadMore()})},toggleGridBorders(){this.reloading=!0,this.visibleCount=pa,this.showGridBorders=!this.showGridBorders,this.$nextTick(()=>{this.loadMore()})},handleKeyDown(t){t.key==="Tab"&&(t.preventDefault(),this.toggleLeftbar())},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){const t=window.pageYOffset||document.documentElement.scrollTop;this.showScrollTop=t>200}},watch:{selectedCategory(){this.visibleCount=pa,this.updateUrlWithCategory(this.selectedCategory),this.$nextTick(this.loadMore)},"$route.query":{handler(){this.checkQueryParams()},immediate:!0},dictionaryData:{handler(){this.checkQueryParams()},immediate:!0}},mounted(){this.checkQueryParams(),this.$nextTick(this.loadMore),window.addEventListener("keydown",this.handleKeyDown),document.addEventListener("sidebar-opened",this.closeLeftbar),window.addEventListener("scroll",this.handleScroll),this.handleScroll()},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("sidebar-opened",this.closeLeftbar),window.removeEventListener("scroll",this.handleScroll)}},S7={class:"leftbar-header"},_7=["value"],A7={class:"font-size-buttons"},C7={class:"font-size-buttons"},L7={class:"gap-icon"},P7={class:"gap-icon"},N7={class:"gap-icon"},M7={key:1},D7={class:"dictionary-category"},T7=["data-character","onClick","onMouseenter"],E7={class:"list-item"},I7={class:"hanzipinyin"},F7={class:"list-pinyin"},O7={class:"list-english"},R7={key:2};function j7(t,e,n,r,i,s){const a=_e("BasePage"),o=_e("font-awesome-icon"),l=_e("PreloadWrapper");return dt(),wt(re,null,[_("div",{onClick:e[0]||(e[0]=(...c)=>s.toggleView&&s.toggleView(...c)),class:"grid-header"},[Vt(a,{page_title:i.localPageTitle},null,8,["page_title"])]),_("button",{class:we(["leftbar-toggle",{"leftbar-toggle-active":i.leftbarVisible}]),onClick:e[1]||(e[1]=(...c)=>s.toggleLeftbar&&s.toggleLeftbar(...c))},[Vt(o,{icon:["fas","gear"]})],2),_("div",{class:we(["leftbar",{"leftbar-hidden":!i.leftbarVisible}])},[e[29]||(e[29]=_("div",{class:"tab-keyboard-shortcut"},"[Tab]",-1)),_("div",S7,[e[20]||(e[20]=_("div",{class:"leftbar-header-label"},"Settings",-1)),_("button",{class:"close-button",onClick:e[2]||(e[2]=(...c)=>s.toggleLeftbar&&s.toggleLeftbar(...c))},"")]),e[30]||(e[30]=_("label",{for:"dictionary-select"},"Choose a Dictionary:",-1)),Ke(_("select",{"onUpdate:modelValue":e[3]||(e[3]=c=>i.selectedCategory=c),id:"dictionary-select",onChange:e[4]||(e[4]=c=>i.localPageTitle=s.dictionaryData[i.selectedCategory].name||i.selectedCategory)},[(dt(!0),wt(re,null,Je(s.dictionaryData,(c,u)=>(dt(),wt("option",{key:u,value:u},Wt(c.name||u),9,_7))),128))],544),[[q0,i.selectedCategory]]),e[31]||(e[31]=_("label",{for:"view-toggle"},"Display Mode:",-1)),_("button",{class:"single-toggle-button",onClick:e[5]||(e[5]=(...c)=>s.toggleView&&s.toggleView(...c))},Wt(i.isListView?"Show Grid":"Show List"),1),e[32]||(e[32]=_("label",{for:"font-select"},"Font:",-1)),Ke(_("select",{"onUpdate:modelValue":e[6]||(e[6]=c=>i.selectedFont=c),id:"font-select"},e[21]||(e[21]=[_("option",{value:"Kaiti"},"Kaiti",-1),_("option",{value:"Noto Sans SC"},"Noto Sans",-1),_("option",{value:"Noto Serif SC"},"Noto Serif",-1)]),512),[[q0,i.selectedFont]]),e[33]||(e[33]=_("label",null,"Font Size:",-1)),_("div",A7,[_("button",{class:we(["size-button",{active:i.fontScale===.6}]),onClick:e[7]||(e[7]=c=>s.setFontSize(.6))},e[22]||(e[22]=[_("span",{class:"size-icon"},"",-1)]),2),_("button",{class:we(["size-button",{active:i.fontScale===1}]),onClick:e[8]||(e[8]=c=>s.setFontSize(1))},e[23]||(e[23]=[_("span",{class:"size-icon"},"",-1)]),2),_("button",{class:we(["size-button",{active:i.fontScale===2}]),onClick:e[9]||(e[9]=c=>s.setFontSize(2))},e[24]||(e[24]=[_("span",{class:"size-icon"},"",-1)]),2)]),i.isListView?Xt("",!0):(dt(),wt(re,{key:0},[e[27]||(e[27]=_("label",null,"Grid Gap Size:",-1)),_("div",C7,[_("button",{class:we(["size-button",{active:i.gridGapSize==="0.25em"}]),onClick:e[10]||(e[10]=c=>s.setGridGapSize("0.25em"))},[_("span",L7,[Vt(o,{icon:["fas","square"],class:"gap-icon-item"}),Vt(o,{icon:["fas","square"],class:"gap-icon-item"})])],2),_("button",{class:we(["size-button",{active:i.gridGapSize==="1em"}]),onClick:e[11]||(e[11]=c=>s.setGridGapSize("1em"))},[_("span",P7,[Vt(o,{icon:["fas","square"],class:"gap-icon-item"}),e[25]||(e[25]=le("")),Vt(o,{icon:["fas","square"],class:"gap-icon-item"})])],2),_("button",{class:we(["size-button",{active:i.gridGapSize==="3em"}]),onClick:e[12]||(e[12]=c=>s.setGridGapSize("3em"))},[_("span",N7,[Vt(o,{icon:["fas","square"],class:"gap-icon-item"}),e[26]||(e[26]=le("")),Vt(o,{icon:["fas","square"],class:"gap-icon-item"})])],2)]),e[28]||(e[28]=_("label",null,"Grid Borders:",-1)),_("button",{class:"single-toggle-button",onClick:e[13]||(e[13]=(...c)=>s.toggleGridBorders&&s.toggleGridBorders(...c))},Wt(i.showGridBorders?"Hide Borders":"Show Borders"),1)],64))],2),i.leftbarVisible?(dt(),wt("div",{key:0,class:"overlay",onClick:e[14]||(e[14]=(...c)=>s.closeLeftbar&&s.closeLeftbar(...c))})):Xt("",!0),_("div",{class:"main-content",ref:"mainContent",onScroll:e[19]||(e[19]=(...c)=>s.handleScroll&&s.handleScroll(...c))},[i.showScrollTop?(dt(),wt("button",{key:0,onClick:e[15]||(e[15]=(...c)=>s.scrollToTop&&s.scrollToTop(...c)),class:"scroll-to-top-button","aria-label":"Scroll to top"},"  ")):Xt("",!0),i.selectedCategory?(dt(),wt("div",M7,[_("div",D7,[i.isListView?(dt(),wt("div",{key:1,class:"list-container",style:xr({fontSize:`${i.fontScale*1.1}em`})},[(dt(!0),wt(re,null,Je(s.visibleChars,(c,u)=>(dt(),ln(l,{key:c.character,character:c.character,showBubbles:!1},{default:ke(()=>[_("div",E7,[_("div",I7,[_("div",{class:"list-hanzi",style:xr({fontFamily:`'${i.selectedFont}'`,transform:i.selectedFont==="Kaiti"?"scale(1.15)":"none",fontWeight:i.selectedFont==="Noto Serif SC"?600:400})},Wt(c.character),5),_("div",F7,Wt(t.$toAccentedPinyin(c.pinyin.join(", "))),1)]),_("div",O7,Wt(c.english.join(", ")),1)])]),_:2},1032,["character"]))),128))],4)):(dt(),wt("div",{key:0,class:"grid-container",style:xr({gridTemplateColumns:`repeat(auto-fill, minmax(${i.fontScale*1.1*100}px, 1fr))`,fontSize:`${i.fontScale*1.1}em`,gap:i.gridGapSize}),onMousemove:e[17]||(e[17]=(...c)=>s.handleGridMouseMove&&s.handleGridMouseMove(...c)),onMouseleave:e[18]||(e[18]=(...c)=>s.handleGridMouseLeave&&s.handleGridMouseLeave(...c))},[(dt(!0),wt(re,null,Je(s.visibleChars,(c,u)=>(dt(),wt("div",{key:c.character,class:"grid-item","data-character":c.character,onClick:d=>s.handleGridItemClick(c.character),onMouseenter:d=>s.handleGridItemMouseEnter(d,c),onMouseleave:e[16]||(e[16]=(...d)=>s.handleGridItemMouseLeave&&s.handleGridItemMouseLeave(...d)),style:xr({border:i.showGridBorders?"var(--grid-item-border)":"var(--grid-item-border-transparent)"})},[_("div",{class:"hanzi",style:xr({fontFamily:`'${i.selectedFont}'`,transform:i.selectedFont==="Kaiti"?"scale(1.15)":"none",fontWeight:i.selectedFont==="Noto Serif SC"?500:400})},Wt(c.character),5)],44,T7))),128))],36))])])):(dt(),wt("div",R7,e[34]||(e[34]=[_("p",null,"Please select a dictionary to view the characters.",-1)])))],544)],64)}const B7=tn(k7,[["render",j7],["__scopeId","data-v-29f9a557"]]),z7={components:{BasePage:dr,PreloadWrapper:Xs},data(){return{query:"",results:[],isLoading:!1,isSearching:!1,showScrollTop:!1,searchTimeout:null,latestQuery:""}},created(){const t=this.$route.query.q;t&&(this.query=t,window.pendingSearchPromise?(this.isLoading=!0,window.pendingSearchPromise.then(e=>e.json()).then(e=>{this.results=e.results,this.isLoading=!1}).catch(e=>{console.error("Error processing search results:",e),this.isLoading=!1,this.doSearch()}).finally(()=>{window.pendingSearchPromise=null})):this.debouncedSearch())},mounted(){window.addEventListener("scroll",this.handleScroll),this.handleScroll()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll),this.searchTimeout&&clearTimeout(this.searchTimeout)},methods:{handleInput(){this.latestQuery=this.query,this.searchTimeout&&clearTimeout(this.searchTimeout),this.query.length>=2?(this.isLoading=!0,this.searchTimeout=setTimeout(()=>{this.isSearching=!0,this.query=this.latestQuery,this.doSearch()},366)):(this.results=[],this.isLoading=!1,this.isSearching=!1)},debouncedSearch(){this.query.length>=2&&(this.latestQuery=this.query,this.doSearch())},async doSearch(){this.isLoading=!0;try{const t=encodeURIComponent(this.latestQuery),n=await(await fetch(`/api/search_results?query=${t}`)).json();this.results=n.results}catch(t){console.error("Error during search:",t)}finally{this.isLoading=!1,this.isSearching=!1}},highlightMatch(t){if(!this.query)return t;const e=l=>l.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),n=e(t),r=e(this.query);if(!r)return t;const i=[];let s=0;for(;s<n.length;){const l=n.indexOf(r,s);if(l===-1)break;i.push([l,l+r.length]),s=l+r.length}if(!i.length)return t;let a="",o=0;for(const[l,c]of i)a+=t.slice(o,l),a+=t.slice(l,c),o=c;return a+=t.slice(o),a},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){const t=window.pageYOffset||document.documentElement.scrollTop;this.showScrollTop=t>200}}},q7={class:"search-view"},W7={key:0,class:"loading-indicator"},U7={key:1,class:"results"},$7={class:"result-cell"},H7={class:"result-number"},V7={class:"hanzipinyin"},G7={class:"rhanzi"},Y7=["innerHTML"],K7=["innerHTML"];function X7(t,e,n,r,i,s){const a=_e("BasePage"),o=_e("PreloadWrapper");return dt(),wt(re,null,[Vt(a,{page_title:"Search"}),_("div",q7,[_("form",{onSubmit:e[2]||(e[2]=Be((...l)=>s.doSearch&&s.doSearch(...l),["prevent"])),class:"search-form"},[Ke(_("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>i.query=l),type:"text",placeholder:"enter search term",class:"search-input",onInput:e[1]||(e[1]=(...l)=>s.handleInput&&s.handleInput(...l))},null,544),[[fn,i.query]]),e[4]||(e[4]=_("button",{type:"submit",class:"search-button",style:{display:"none"}},"Search",-1))],32),i.isSearching?(dt(),wt("div",W7," searching... ")):Xt("",!0),i.isLoading?Xt("",!0):(dt(),wt("div",U7,[(dt(!0),wt(re,null,Je(i.results,(l,c)=>(dt(),ln(o,{key:c,character:l.hanzi,showBubbles:!1},{default:ke(()=>[_("div",$7,[_("div",H7,Wt(c+1),1),_("div",V7,[_("div",G7,Wt(l.hanzi),1),_("div",{class:"rpinyin",innerHTML:s.highlightMatch(t.$toAccentedPinyin(l.pinyin))},null,8,Y7)]),_("div",{class:"renglish",innerHTML:s.highlightMatch(t.$toAccentedPinyin(l.english))},null,8,K7)])]),_:2},1032,["character"]))),128))])),i.showScrollTop?(dt(),wt("button",{key:2,onClick:e[3]||(e[3]=(...l)=>s.scrollToTop&&s.scrollToTop(...l)),class:"scroll-to-top-button","aria-label":"Scroll to top"},"  ")):Xt("",!0)])],64)}const J7=tn(z7,[["render",X7],["__scopeId","data-v-a4b086fb"]]),Q7={components:{BasePage:dr,PreloadWrapper:Xs},data(){return{canvas:null,ctx:null,isDrawing:!1,lastX:0,lastY:0,results:[],isLoading:!1,hanzilookupReady:!1,scriptLoaded:!1,isDarkMode:!1,strokes:[],currentStroke:[]}},mounted(){this.initCanvas(),this.loadHanziLookupScript(),this.setupThemeObserver(),this.isDarkMode=["dark","theme2"].includes(document.documentElement.getAttribute("data-theme")),this.drawCanvasBg(),this.setupTouchEvents()},methods:{setupTouchEvents(){const t=this.$refs.drawingCanvas;t.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),t.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),t.addEventListener("touchend",this.stopDrawing,{passive:!0})},setupThemeObserver(){this.themeObserver=new MutationObserver(t=>{t.forEach(e=>{e.attributeName==="data-theme"&&(this.isDarkMode=["dark","theme2"].includes(document.documentElement.getAttribute("data-theme")),this.updateStrokeStyle(),this.redrawCanvas())})}),this.themeObserver.observe(document.documentElement,{attributes:!0})},updateStrokeStyle(){this.ctx&&(this.ctx.strokeStyle=this.isDarkMode?"#fff":"#000")},loadHanziLookupScript(){const t=document.createElement("script");t.src="https://assets.hanzi.abcrgb.xyz/hanzilookup/hanzilookup.min.js",t.async=!0,t.onload=()=>{this.scriptLoaded=!0,this.initHanziLookup()},t.onerror=()=>{console.error("Failed to load HanziLookup script")},document.head.appendChild(t)},initHanziLookup(){if(window.HanziLookup){let t=0;const e=n=>{n?(t++,t===2&&(this.hanzilookupReady=!0)):console.error("Failed to load HanziLookup data file")};window.HanziLookup.init("mmah","https://assets.hanzi.abcrgb.xyz/hanzilookup/mmah.json",e),window.HanziLookup.init("orig","https://assets.hanzi.abcrgb.xyz/hanzilookup/orig.json",e)}else console.error("HanziLookup library not found")},initCanvas(){this.canvas=this.$refs.drawingCanvas,this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas),this.ctx.lineJoin="round",this.ctx.lineCap="round",this.ctx.lineWidth=this.canvas.width/25,this.isDarkMode=["dark","theme2"].includes(document.documentElement.getAttribute("data-theme")),this.ctx.strokeStyle=this.isDarkMode?"#fff":"#000"},resizeCanvas(){const t=this.canvas.parentElement;this.canvas.width=t.clientWidth,this.canvas.height=t.clientWidth},startDrawing(t){this.isDrawing=!0;const e=t.offsetX||t.clientX-this.canvas.offsetLeft,n=t.offsetY||t.clientY-this.canvas.offsetTop;[this.lastX,this.lastY]=[e,n],this.currentStroke=[{x:e,y:n}]},draw(t){if(!this.isDrawing)return;this.ctx.beginPath(),this.ctx.moveTo(this.lastX,this.lastY);const e=t.offsetX||t.clientX-this.canvas.offsetLeft,n=t.offsetY||t.clientY-this.canvas.offsetTop;this.ctx.lineTo(e,n),this.ctx.stroke(),[this.lastX,this.lastY]=[e,n],this.currentStroke.push({x:e,y:n})},stopDrawing(){this.isDrawing&&(this.isDrawing=!1,this.currentStroke.length>0&&(this.strokes.push([...this.currentStroke]),this.currentStroke=[],this.searchByDrawing()))},handleTouchStart(t){t.preventDefault();const e=t.touches[0],n=this.canvas.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;this.isDrawing=!0,[this.lastX,this.lastY]=[r,i],this.currentStroke=[{x:r,y:i}]},handleTouchMove(t){if(t.preventDefault(),!this.isDrawing)return;const e=t.touches[0],n=this.canvas.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;this.ctx.beginPath(),this.ctx.moveTo(this.lastX,this.lastY),this.ctx.lineTo(r,i),this.ctx.stroke(),[this.lastX,this.lastY]=[r,i],this.currentStroke.push({x:r,y:i})},drawCanvasBg(){this.ctx.save(),this.ctx.strokeStyle=this.isDarkMode?"#fff5":"#0005",this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.moveTo(this.canvas.width,0),this.ctx.lineTo(0,this.canvas.height),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()},clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawCanvasBg(),this.strokes=[],this.currentStroke=[],this.results=[]},undoStroke(){this.strokes.length>0&&(this.strokes.pop(),this.redrawCanvas(),this.strokes.length>0?this.searchByDrawing():this.results=[])},redrawCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawCanvasBg(),this.updateStrokeStyle();for(const t of this.strokes)if(!(t.length<2)){this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++)this.ctx.lineTo(t[e].x,t[e].y);this.ctx.stroke()}},convertStrokesToHanziLookupFormat(){return this.strokes.map(t=>t.map(e=>[e.x,e.y]))},searchByDrawing(){if(this.isLoading=!0,this.hanzilookupReady&&window.HanziLookup){const t=this.convertStrokesToHanziLookupFormat();try{const e=new window.HanziLookup.AnalyzedCharacter(t);new window.HanziLookup.Matcher("mmah").match(e,8,r=>{r&&r.length>0?this.processHanziLookupResults(r):new window.HanziLookup.Matcher("orig").match(e,8,s=>{this.processHanziLookupResults(s)})})}catch(e){console.error("Error in HanziLookup processing:",e),this.showNoResults()}}else this.isLoading=!0,setTimeout(()=>{this.hanzilookupReady||this.showNoResults()},2e3)},processHanziLookupResults(t){t&&t.length>0?this.results=t.map(e=>({character:e.character})):this.showNoResults(),this.isLoading=!1},showNoResults(){this.results=[],this.isLoading=!1}},beforeUnmount(){window.removeEventListener("resize",this.resizeCanvas);const t=this.$refs.drawingCanvas;t&&(t.removeEventListener("touchstart",this.handleTouchStart),t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.stopDrawing)),this.themeObserver&&this.themeObserver.disconnect(),window.HanziLookup&&window.HanziLookup._data&&(window.HanziLookup._data.mmah&&delete window.HanziLookup._data.mmah,window.HanziLookup._data.orig&&delete window.HanziLookup._data.orig)}},Z7={class:"drawing-view"},tL={class:"drawing-container"},eL={class:"drawing-controls"},nL={key:0,class:"loading-indicator"},rL={key:1,class:"results-container"},iL={class:"result-cell"},sL={class:"rhanzi"};function aL(t,e,n,r,i,s){const a=_e("BasePage"),o=_e("PreloadWrapper");return dt(),wt(re,null,[Vt(a,{page_title:"Handwritten Character Search"}),_("div",Z7,[_("div",tL,[_("canvas",{ref:"drawingCanvas",class:"drawing-canvas",onMousedown:e[0]||(e[0]=(...l)=>s.startDrawing&&s.startDrawing(...l)),onMousemove:e[1]||(e[1]=(...l)=>s.draw&&s.draw(...l)),onMouseup:e[2]||(e[2]=(...l)=>s.stopDrawing&&s.stopDrawing(...l)),onMouseleave:e[3]||(e[3]=(...l)=>s.stopDrawing&&s.stopDrawing(...l))},null,544),_("div",eL,[_("button",{onClick:e[4]||(e[4]=(...l)=>s.clearCanvas&&s.clearCanvas(...l)),class:"control-button clear-button"},"Clear"),_("button",{onClick:e[5]||(e[5]=(...l)=>s.undoStroke&&s.undoStroke(...l)),class:"control-button undo-button"},"Undo")])]),i.isLoading?(dt(),wt("div",nL," searching... ")):(dt(),wt("div",rL,[(dt(!0),wt(re,null,Je(i.results,(l,c)=>(dt(),ln(o,{key:c,character:l.character,class:"result-wrapper"},{default:ke(()=>[_("div",iL,[_("div",sL,Wt(l.character),1)])]),_:2},1032,["character"]))),128))]))])],64)}const oL=tn(Q7,[["render",aL],["__scopeId","data-v-c9ba1af3"]]),lL={components:{BasePage:dr},data(){const e=new URLSearchParams(window.location.search).get("wordlist");return{canvas:null,ctx:null,revealed:!1,currentWord:"",nextWord:"",currentWordInfo:{character:"",pinyin:[],english:[],strokes:[]},nextWordInfo:{character:"",pinyin:[],english:[],strokes:[]},prevWordInfo:{character:"",pinyin:[],english:[],strokes:[]},currentIndexInDeck:0,currentDeck:e||"hsk1",currentFont:"Noto Sans",isSubmenuOpen:!1,lineWidth:6,lineType:"round",isDarkMode:!1,decks:{}}},computed:{currentDeckName(){var t;return((t=this.decks[this.currentDeck])==null?void 0:t.name)||""},singlePinyin(){try{return this.$toAccentedPinyin(this.currentWordInfo.pinyin[0])||""}catch{return""}},singleEnglish(){try{return console.log(this.currentWordInfo.english[0]),this.$toAccentedPinyin(this.currentWordInfo.english[0])||""}catch{return""}},storeDecks(){const t=this.$store.getters.getDictionaryData||{},e=this.$store.getters.getCustomDictionaryData||{};return{...t,...e}}},watch:{storeDecks:{handler(t){if(this.decks=t,Object.keys(this.decks).length>0&&this.currentWord===""){const n=new URLSearchParams(window.location.search).get("wordlist");n&&this.decks[n]&&(this.currentDeck=n),this.shuffleDeck(),this.getNewWord()}},deep:!0},currentDeck(t){this.updateUrlParam("wordlist",t)}},mounted(){this.setupCanvas(),this.isDarkMode=document.documentElement.getAttribute("data-theme")==="dark"||document.documentElement.getAttribute("data-theme")==="theme2",this.setupThemeObserver(),document.addEventListener("click",this.handleOutsideClick),window.addEventListener("resize",this.handleResize),document.addEventListener("keydown",this.handleKeydown),this.loadDecksFromStore();const e=new URLSearchParams(window.location.search).get("wordlist");e&&this.decks[e]?this.currentDeck=e:this.updateUrlParam("wordlist",this.currentDeck),Object.keys(this.decks).length>0&&(this.shuffleDeck(),this.getNewWord())},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeydown)},methods:{loadDecksFromStore(){this.decks=this.storeDecks,Object.keys(this.decks).length===0&&Object.keys(this.storeDecks).length>0&&(this.decks=this.storeDecks)},async loadDecks(){this.loadDecksFromStore()},setupCanvas(){const t=this.$refs.flashcard;if(!t)return;if(!this.canvas){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d");const r=t.querySelector(".hanzi");r&&r.appendChild(this.canvas)}let n=t.offsetWidth*.8;this.canvas.width=n*2,this.canvas.height=n/2*2,this.canvas.style.width="100%",this.canvas.style.width=n+"px",this.canvas.style.height=n/2+"px",this.canvas.style.left="0",this.canvas.className="plotter",this.lineWidth=n*.025},setupThemeObserver(){this.themeObserver=new MutationObserver(t=>{t.forEach(e=>{e.attributeName==="data-theme"&&(this.isDarkMode=document.documentElement.getAttribute("data-theme")==="dark"||document.documentElement.getAttribute("data-theme")==="theme2",this.redrawCurrentCard())})}),this.themeObserver.observe(document.documentElement,{attributes:!0})},async getPinyinEnglishFor(t){var e,n;try{const r=fetch(`/api/get_characters_simple_info?characters=${encodeURIComponent(t)}`).then(o=>o.json()),i=[];for(const o of t)this.isHanzi(o)&&i.push(this.loadStrokeData(o));const s=await Promise.all([r,...i]);return[{pinyin:((e=s[0][t])==null?void 0:e.pinyin)||[],english:((n=s[0][t])==null?void 0:n.english)||[]},...s.slice(1)]}catch(r){return console.error("Error fetching character data:",r),[{pinyin:[],english:[]},[]]}},isHanzi(t){return/[\u4E00-\u9FFF]/.test(t)},async loadStrokesAll(t){const e=[];for(const n of t)this.isHanzi(n)&&e.push(this.loadStrokeData(n));return Promise.all(e)},async loadStrokeData(t){try{const e=await fetch(`/api/getStrokes/${t}`);if(!e.ok)return{strokes:{fstrokes:[],offsetX:0,offsetY:0},masks:[],character:t};const n=await e.json();return{strokes:this.processStrokes(n.medians),masks:n.strokes,character:t}}catch(e){throw console.error("Error loading character data:",e),e}},processStrokes(t){t.forEach(l=>{l.forEach(c=>{c.x=c[0],c.y=1e3-c[1]})});let e=1/0,n=1/0,r=-1/0,i=-1/0;t.forEach(l=>{l.forEach(c=>{e=Math.min(e,c.x),n=Math.min(n,c.y),r=Math.max(r,c.x),i=Math.max(i,c.y)})});const s=0,a=(1e3-(i-n))/2-n;return t=t.map(l=>l.map(c=>({x:c.x+s,y:c.y+a}))),{fstrokes:this.fixStrokes(t),offsetX:s,offsetY:a}},fixStrokes(t){return t.map(e=>(e=this.removeShortSegments(e,30),e=this.subdivideCurve(e,4),e=this.smoothCurve(e,.5),e.forEach(n=>{n.x=n.x/1e3,n.y=n.y/1e3}),e))},subdivideCurve(t,e){if(t.length<2)return t;const n=[];for(let r=0;r<t.length-1;r++){const i=t[r],s=t[r+1];n.push(i);for(let a=1;a<e;a++){const o=a/e;n.push({x:i.x+(s.x-i.x)*o,y:i.y+(s.y-i.y)*o})}}return n.push(t[t.length-1]),n},smoothCurve(t,e){if(t.length<3)return t;const n=[t[0]];for(let r=1;r<t.length-1;r++){const i=t[r-1],s=t[r],a=t[r+1];n.push({x:s.x*(1-e)+(i.x+a.x)/2*e,y:s.y*(1-e)+(i.y+a.y)/2*e})}return n.push(t[t.length-1]),n},removeShortSegments(t,e=5){if(t.length<3)return t;const n=[t[0]];for(let r=1;r<t.length-1;r++){const i=n[n.length-1],s=t[r],a=t[r+1],o=Math.hypot(s.x-i.x,s.y-i.y),l=Math.hypot(a.x-s.x,a.y-s.y);(o>=e||l>=e)&&n.push(s)}return n.push(t[t.length-1]),n},calculatePolylineLength(t){let e=0,n=[];for(let r=0;r<t.length-1;r++){let i=t[r],s=t[r+1],a=s.x-i.x,o=s.y-i.y,l=Math.sqrt(a*a+o*o);e+=l,n.push(l)}return{totalLength:e,segmentLengths:n}},getPointAtPercentage(t,e){const n=this.calculatePolylineLength(t),r=n.totalLength,i=n.segmentLengths,s=r*e;let a=0;for(let o=0;o<i.length;o++)if(a+=i[o],a>=s){const l=t[o],c=t[o+1],d=(s-(a-i[o]))/i[o];return{x:l.x+d*(c.x-l.x),y:l.y+d*(c.y-l.y)}}return t[t.length-1]},resamplePolyline(t,e){const n=[];for(let r=0;r<e;r++){const i=r/(e-1),s=this.getPointAtPercentage(t,i);n.push(s)}return n},drawMask(t,e,n=0,r=0,i=800){e=e.replace(/([A-Za-z])/g," $1 ").replace(/\s+/g," ").trim();const s=e.split(" ");let a=0,o=0,l=0,c=0,u=0;for(;u<s.length;){const d=s[u++];if(d)switch(d.toUpperCase()){case"M":for(l=a=parseFloat(s[u++]),c=o=parseFloat(s[u++]),a=a/1e3*i+n*i/1e3,o=i-o/1e3*i+r*i/1e3,t.moveTo(a,o);u<s.length&&!isNaN(parseFloat(s[u]));)a=parseFloat(s[u++]),o=parseFloat(s[u++]),a=a/1e3*i+n*i/1e3,o=i-o/1e3*i+r*i/1e3,t.lineTo(a,o);break;case"L":for(;u<s.length&&!isNaN(parseFloat(s[u]));)a=parseFloat(s[u++]),o=parseFloat(s[u++]),a=a/1e3*i+n*i/1e3,o=i-o/1e3*i+r*i/1e3,t.lineTo(a,o);break;case"Q":for(;u+3<s.length&&!isNaN(parseFloat(s[u]));){const p=parseFloat(s[u++]),f=parseFloat(s[u++]);a=parseFloat(s[u++]),o=parseFloat(s[u++]);const w=p/1e3*i+n*i/1e3,v=i-f/1e3*i+r*i/1e3,k=a/1e3*i+n*i/1e3,y=i-o/1e3*i+r*i/1e3;t.quadraticCurveTo(w,v,k,y)}break;case"C":for(;u+5<s.length&&!isNaN(parseFloat(s[u]));){const p=parseFloat(s[u++]),f=parseFloat(s[u++]),w=parseFloat(s[u++]),v=parseFloat(s[u++]);a=parseFloat(s[u++]),o=parseFloat(s[u++]);const k=p/1e3*i+n*i/1e3,y=i-f/1e3*i+r*i/1e3,x=w/1e3*i+n*i/1e3,N=i-v/1e3*i+r*i/1e3,L=a/1e3*i+n*i/1e3,j=i-o/1e3*i+r*i/1e3;t.bezierCurveTo(k,y,x,N,L,j)}break;case"Z":t.closePath(),a=l,o=c;break;default:console.warn(`Unrecognized SVG path command: ${d}`);break}}},cross(t,e,n,r,i=1){const s=i*.5,a=i*.75,o=i*.35;this.ctx.strokeStyle=this.isDarkMode?`rgba(255,255,255,${s})`:`rgba(0,0,0,${s})`,this.ctx.strokeRect(t+1,e+1,n-1,r-1),this.ctx.strokeStyle=this.isDarkMode?`rgba(255,255,255,${a})`:`rgba(44,0,0,${a})`,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(t+n,e+r),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t+n,e),this.ctx.lineTo(t,e+r),this.ctx.stroke(),this.ctx.strokeStyle=this.isDarkMode?`rgba(255,255,255,${o})`:`rgba(0,0,0,${o})`,this.ctx.beginPath(),this.ctx.moveTo(t,e+r/2),this.ctx.lineTo(t+n,e+r/2),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t+n/2,e),this.ctx.lineTo(t+n/2,e+r),this.ctx.stroke()},drawbg(t,e,n){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.strokeStyle=this.isDarkMode?"rgba(255,255,255,0.16)":"rgba(0,0,0,0.16)",this.ctx.lineWidth=1;const r=this.canvas.width/2,i=this.canvas.height/2;let s=this.canvas.height,a=this.canvas.height,o=this.canvas.height,l=this.canvas.height;e>1&&(s=this.canvas.width/e,a=this.canvas.width/e),n>1&&(o=this.canvas.width/n,l=this.canvas.width/n);const c=1;if(e===n)for(let u=0;u<e;u++){let d=r-e*s/2+u*s,p=i-a/2;d=Math.round(d),p=Math.round(p),this.cross(d,p,s,a,c)}else{for(let u=0;u<e;u++){let d=r-e*s/2+u*s,p=i-a/2;d=Math.round(d),p=Math.round(p);let f=1-t;f*=c,this.cross(d,p,s,a,f)}for(let u=0;u<n;u++){let d=r-n*o/2+u*o,p=i-l/2;d=Math.round(d),p=Math.round(p);let f=t;f*=c,this.cross(d,p,o,l,f)}}this.ctx.fillStyle=this.isDarkMode?"#2a2a2a":"white"},drawStrokes(){if(!this.currentWordInfo.strokes||!this.currentWordInfo.strokes.length)return;const t=this.currentWordInfo.strokes.length;this.drawbg(0,t,t);let e=this.canvas.height,n=this.canvas.height;t>1&&(e=this.canvas.width/t,n=this.canvas.width/t),this.currentWordInfo.strokes.forEach((r,i)=>{const s=this.canvas.width/2-t*e/2+i*e,a=this.canvas.height/2-n/2;r.strokes.fstrokes.forEach(o=>{const l=s+o[0].x*e,c=a+o[0].y*n;this.ctx.moveTo(l,c),this.ctx.beginPath();for(let u=1;u<o.length;u++){const d=s+o[u].x*e,p=a+o[u].y*n;this.ctx.lineTo(d,p)}this.ctx.lineWidth=this.lineWidth*4,this.ctx.strokeStyle=this.isDarkMode?"white":"black",this.ctx.lineCap=this.lineType,this.ctx.lineJoin=this.lineType,this.ctx.stroke()})})},drawMasks(){if(!this.currentWordInfo.strokes||!this.currentWordInfo.strokes.length)return;const t=this.currentWordInfo.strokes.length;let e=this.canvas.height,n=this.canvas.height;t>1&&(e=this.canvas.width/t,n=this.canvas.width/t),this.currentWordInfo.strokes.forEach((r,i)=>{const s=this.canvas.width/2-t*e/2+i*e,a=this.canvas.height/2-n/2;r.masks.forEach(o=>{const l=new Path2D;this.drawMask(l,o,s/n*1e3+r.strokes.offsetX,a/n*1e3+r.strokes.offsetY,n),this.ctx.fillStyle=this.isDarkMode?"rgba(255,255,255,1)":"rgba(0,0,0,1)",this.ctx.fill(l)})})},power(t,e){return t<.5?.5*Math.pow(2*t,e):1-.5*Math.pow(2*(1-t),e)},interpolateCards(){if(!this.prevWordInfo.strokes||!this.currentWordInfo.strokes){this.redrawCurrentCard();return}let t=0;const e=()=>{t+=.04,t>=1&&(t=1);const n=this.power(t,2.5)*1.3,r=this.prevWordInfo.strokes.length,i=this.currentWordInfo.strokes.length;this.drawbg(t,r,i);const s=Math.max(r,i);let a=this.canvas.height,o=this.canvas.height,l=this.canvas.height,c=this.canvas.height;r>1&&(a=this.canvas.width/r,o=this.canvas.width/r),i>1&&(l=this.canvas.width/i,c=this.canvas.width/i);for(let u=0;u<s;u++){const d=this.canvas.width/2-r*a/2+Math.min(u,r-1)*a,p=this.canvas.height/2-o/2,f=this.canvas.width/2-i*l/2+Math.min(u,i-1)*l,w=this.canvas.height/2-c/2,v=this.prevWordInfo.strokes[Math.min(u,r-1)].strokes.fstrokes,k=this.currentWordInfo.strokes[Math.min(u,i-1)].strokes.fstrokes,y=Math.max(v.length,k.length);for(let x=0;x<y;x++){const N=v[x%v.length],L=k[x%k.length],j=this.resamplePolyline(N,L.length),it=d+j[0].x*a+(f+L[0].x*l-j[0].x*a-d)*n,J=p+j[0].y*o+(w+L[0].y*c-j[0].y*o-p)*n;this.ctx.moveTo(it,J),this.ctx.beginPath();for(let mt=1;mt<j.length;mt++){const E=this.power(mt/j.length,2.5)*.3,B=d+j[mt].x*a+(f+L[mt].x*l-j[mt].x*a-d)*Math.min(1,Math.max(0,n-E)),Q=p+j[mt].y*o+(w+L[mt].y*c-j[mt].y*o-p)*Math.min(1,Math.max(0,n-E));this.ctx.lineTo(B,Q)}const G=1-2*Math.abs(.5-t);this.lineWidth=Math.sqrt(o)*(.7+.3*G*G*G)*1.4;let nt=this.isDarkMode?1:0;this.isDarkMode?nt=nt-.2*G:nt=nt+.15*G,this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=`rgba(${nt*255},${nt*255},${nt*255},1)`,this.ctx.lineCap="mitter",this.ctx.lineJoin="mitter",this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.stroke()}}t<1-.035*8?requestAnimationFrame(e):this.redrawCurrentCard()};e()},redrawCurrentCard(){const t=this.currentWordInfo.strokes.length;this.drawbg(0,t,t),this.drawMasks()},handleFont(){const t=this.$refs.flashcard.querySelector(".hanzi");t&&t.style.fontFamily!==this.currentFont&&(t.style.fontFamily=`"${this.currentFont}"`,t.style.fontSize=this.currentFont.includes("Kai")?"5em":"6em")},revealOrNew(){this.revealed?(this.getNewWord(),this.revealed=!1):(this.revealed=!0,this.redrawCurrentCard())},async getNewWord(){const t=this.decks[this.currentDeck];if(!t||!t.chars)return;let e=Array.isArray(t.chars)?t.chars:Object.keys(t.chars);if(!e.length)return;const n=()=>{const i=Math.floor(Math.random()*e.length);return e[i]};if(this.currentWord===""){this.currentWord=n();const i=await this.getPinyinEnglishFor(this.currentWord);console.log("1"),console.log(this.currentWordInfo),console.log(i),this.currentWordInfo.character=this.currentWord,this.currentWordInfo.pinyin=i[0].pinyin,this.currentWordInfo.english=i[0].english,this.currentWordInfo.strokes=i.slice(1),this.redrawCurrentCard()}else this.currentWord=this.nextWord,this.prevWordInfo=this.cloneWordInfo(this.currentWordInfo),this.currentWordInfo=this.cloneWordInfo(this.nextWordInfo),this.revealed=!1,this.interpolateCards(),console.log("2");for(this.nextWord=n();this.nextWord===this.currentWord&&e.length>1;)this.nextWord=n();const r=await this.getPinyinEnglishFor(this.nextWord);this.nextWordInfo.character=this.nextWord,this.nextWordInfo.pinyin=r[0].pinyin,this.nextWordInfo.english=r[0].english,this.nextWordInfo.strokes=r.slice(1)},cloneWordInfo(t){return{character:t.character,pinyin:[...t.pinyin||[]],english:[...t.english||[]],strokes:[...t.strokes||[]]}},shuffleDeck(){const t=this.decks[this.currentDeck];if(!(!t||!t.chars))if(Array.isArray(t.chars)){const e=[...t.chars];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}this.decks[this.currentDeck].chars=e}else{const e=Object.keys(t.chars);for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}this.decks[this.currentDeck]._shuffledKeys=e}},changeDeck(t){this.currentDeck=t,this.isSubmenuOpen=!1,this.currentIndexInDeck=0,this.shuffleDeck(),this.updateUrlParam("wordlist",t),this.currentWord="",this.getNewWord()},updateUrlParam(t,e){const n=new URL(window.location);n.searchParams.set(t,e),history.pushState({},"",n)},handleOutsideClick(t){t.target.closest("#deckMenu")||(this.isSubmenuOpen=!1)},handleResize(){this.setupCanvas(),this.redrawCurrentCard()},handleKeydown(t){(t.key==="a"||t.key==="d"||t.key===" "||t.key==="Enter"||t.key==="r")&&this.revealOrNew()},isMobileOrTablet(){const t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}}},cL={class:"flashcards-view"},uL={id:"flashcard_container"},hL={class:"top-buttons"},fL=["onClick"],dL={class:"pinyin"},pL={class:"english"};function mL(t,e,n,r,i,s){const a=_e("BasePage");return dt(),wt(re,null,[Vt(a,{page_title:"Flashcards"}),_("div",cL,[_("div",uL,[_("div",{id:"flashcard",ref:"flashcard",onClick:e[2]||(e[2]=(...o)=>s.revealOrNew&&s.revealOrNew(...o))},[_("div",hL,[_("div",{class:"custom-dropdown",onClick:e[1]||(e[1]=Be(()=>{},["stop"]))},[_("div",{id:"selected-deck",onClick:e[0]||(e[0]=Be(o=>i.isSubmenuOpen=!i.isSubmenuOpen,["stop"]))},Wt(s.currentDeckName),1),_("div",{id:"deck-options",class:we({show:i.isSubmenuOpen})},[(dt(!0),wt(re,null,Je(i.decks,(o,l)=>(dt(),wt("div",{key:l,class:we(["option",{selected:i.currentDeck===l}]),onClick:Be(c=>s.changeDeck(l),["stop"])},Wt(o.name),11,fL))),128))],2)])]),e[3]||(e[3]=_("div",{class:"hanzi"},null,-1)),_("div",{class:we(["answer",{inactive:!i.revealed}])},[_("div",dL,Wt(s.singlePinyin),1),_("div",pL,Wt(s.singleEnglish.split("/")[0]),1)],2)],512)])])],64)}const gL=tn(lL,[["render",mL],["__scopeId","data-v-db024f68"]]),vL=pc({name:"HanziPracticeView",components:{BasePage:dr},data(){return{currentDeck:new URLSearchParams(window.location.search).get("wordlist")||"hsk1",isDropdownOpen:!1,currentWord:"",currentCharacter:"",currentEnglish:[],currentPinyin:"",charIterator:0,shuffledWords:[],strokeData:{medians:[],strokes:[]},cachedStrokes:null,strokeCache:{},charInfoCache:{},isLoading:!0,skipState:0,showPinyin:!1,totalAnswered:0,totalCorrect:0,totalStrokeCount:0,totalMistakeCount:0,wordTotalStrokeCount:0,wordTotalMistakeCount:0,streakCount:0,streakIncrement:20,streakCheckpoint:20,currentIndex:0,plotter:null,isDarkMode:!1,themeObserver:null,quizOrder:[],currentQuizItem:null}},computed:{currentDeckName(){var t;return((t=this.storeDecks[this.currentDeck])==null?void 0:t.name)||"Loading..."},storeDecks(){const t=this.$store.getters.getDictionaryData||{},e=this.$store.getters.getCustomDictionaryData||{};return{...t,...e}},actionIcon(){return this.skipState?"fa-forward-step":"fa-eye"},actionText(){return this.skipState?"Next":"Reveal"},navIcon(){return this.skipState?"fa-rotate":"fa-backward-step"}},watch:{storeDecks:{handler(t){if(Object.keys(t).length>0&&this.currentWord===""){const n=new URLSearchParams(window.location.search).get("wordlist");n&&t[n]&&(this.currentDeck=n),this.loadNewWords()}},deep:!0},currentDeck(t){this.updateUrlParam("wordlist",t)},isDarkMode(){if(this.plotter){const t=this.getThemeColors(document.documentElement.getAttribute("data-theme"));this.plotter.setColors(t)}}},mounted(){this.isDarkMode=["dark","theme2"].includes(document.documentElement.getAttribute("data-theme")),this.setupThemeObserver(),this.loadDecksFromStore();const e=new URLSearchParams(window.location.search).get("wordlist");e&&this.storeDecks[e]?this.currentDeck=e:this.updateUrlParam("wordlist",this.currentDeck),document.addEventListener("click",this.handleOutsideClick),document.addEventListener("keydown",this.handleKeydown),Object.keys(this.storeDecks).length>0&&this.loadNewWords()},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("keydown",this.handleKeydown),this.plotter&&(this.plotter.destroyy(),this.plotter=null)},methods:{getThemeColors(t){if(t==="dark")return["#ffffffee","#ffffff77","#cdb3dfdd","#151515"];if(t==="light")return["#000000ee","#00000077","#cdb3dfdd","#f3f3f3"];if(t==="theme1")return["#000000ee","#00000077","#cdb3dfdd","#f3f3f3"];if(t==="theme2")return["#ffffffee","#ffffff77","#cdb3dfdd","#151515"]},initPlotter(){this.plotter&&(this.plotter.destroyy(),this.plotter=null);const t=this.$refs.plotterCanvas;t&&(t.width=800,t.height=800,this.plotter=new Jd({character:this.currentCharacter,dimension:800,speed:.075,lineThickness:8*800/200,gridThickness:1,jitterAmp:0,colors:this.getThemeColors(document.documentElement.getAttribute("data-theme")),showDiagonals:!0,showGrid:!1,clickAnimation:!1,clearBackground:!0,useMask:!0,blendMode:"normal",canvas:t,dontLoadIfMissing:!0}),this.strokeData&&this.strokeData.medians&&this.strokeData.strokes&&this.plotter.replaceStrokes(this.currentCharacter,this.strokeData.medians,this.strokeData.strokes),this.setupQuizMode())},initPlotterWithExistingData(){const t=this.$refs.plotterCanvas;t&&(t.width=800,t.height=800,this.plotter?this.plotter.replaceStrokes(this.currentCharacter,this.strokeData.medians,this.strokeData.strokes):(this.plotter=new Jd({character:"",dimension:800,speed:.075,lineThickness:8*800/200,gridThickness:1,jitterAmp:0,colors:this.getThemeColors(document.documentElement.getAttribute("data-theme")),showDiagonals:!0,showGrid:!1,clickAnimation:!1,clearBackground:!0,useMask:!0,blendMode:"normal",canvas:t,dontLoadIfMissing:!0}),this.plotter.replaceStrokes(this.currentCharacter,this.strokeData.medians,this.strokeData.strokes)),this.setupQuizMode())},loadDecksFromStore(){},toggleDeckOptions(){this.isDropdownOpen=!this.isDropdownOpen},handleOutsideClick(t){t.target.closest(".custom-dropdown")||(this.isDropdownOpen=!1)},handleKeydown(t){t.key==="h"?this.showHelp():t.key==="r"?this.restartQuestion():t.key==="s"?this.skipOrNext():t.key==="p"&&this.previousCharacter()},selectDeck(t){this.currentDeck=t,this.isDropdownOpen=!1,this.resetPractice(),this.loadNewWords()},updateUrlParam(t,e){const n=new URL(window.location);n.searchParams.set(t,e),history.pushState({},"",n)},resetPractice(){this.currentIndex=0,this.totalCorrect=0,this.totalAnswered=0,this.wordTotalMistakeCount=0,this.totalStrokeCount=0,this.totalMistakeCount=0,this.skipState=0,this.streakCount=0,this.streakCheckpoint=this.streakIncrement,this.charIterator=0,this.shuffledWords=[]},flattenAndShuffleWords(t){const e=this.shuffleArray(t),n=[];for(const r of e)for(let i=0;i<r.length;i++)n.push({word:r,char:r[i],charIndex:i});return n},shuffleArray(t){const e=this.$store.getters.getPracticeCharCache,n=[...t],r=n.find(i=>e.strokeData[i]);if(r){const i=n.indexOf(r);i>0&&(n.splice(i,1),n.unshift(r));const s=n[0],a=n.slice(1);for(let o=a.length-1;o>0;o--){const l=Math.floor(Math.random()*(o+1));[a[o],a[l]]=[a[l],a[o]]}return[s,...a]}for(let i=n.length-1;i>0;i--){const s=Math.floor(Math.random()*(i+1));[n[i],n[s]]=[n[s],n[i]]}return n},loadNewWords(){const t=this.storeDecks[this.currentDeck];if(!t||!t.chars)return;console.log("Loading new words from deck:",this.currentDeck);let e;Array.isArray(t.chars)?e=t.chars:e=Object.keys(t.chars),this.quizOrder=this.flattenAndShuffleWords(e),this.currentIndex=0,this.skipState=0,this.cachedStrokes=null,this.showWord()},async showWord(){if(this.showPinyin=!1,this.currentIndex<this.quizOrder.length){const t=this.quizOrder[this.currentIndex];this.currentQuizItem=t,this.currentWord=t.word,this.currentCharacter=t.char,this.wordTotalMistakeCount=0,this.wordTotalStrokeCount=0,this.skipState=0,this.$store.getters.getPracticeCharCache.strokeData[this.currentCharacter]?this.isLoading=!1:this.isLoading=!0;const{strokeData:r,infoData:i}=await this.preloadCharacterData(t.char,t.word);r&&(this.strokeData=r,this.$refs.plotterCanvas&&this.initPlotterWithExistingData()),console.log("Stroke data and info data loaded for character:",t.char,i),i&&(this.currentPinyin=i.pinyin[0]||"",this.currentEnglish=i.english||[""],this.currentEnglish[0]=this.currentEnglish[0].split("/").slice(0,5).map(o=>o.length>40?o.slice(0,40)+"...":o).join(" / ")),this.isLoading=!1;const s=(this.currentIndex+1)%this.quizOrder.length,a=this.quizOrder[s];a&&a.char!==t.char&&this.preloadCharacterData(a.char,a.word)}},async preloadCharacterData(t,e){try{const n=this.$store.getters.getPracticeCharCache,r=n.strokeData[t],i=n.infoData[t],s=this.storeDecks||{};let a=null;for(const c in s){const u=s[c];if(u&&u.chars){const d=u.chars;if(Array.isArray(d)){const p=d.find(f=>f.character===e);if(p){a=p;break}}else if(typeof d=="object"&&d[e]){a=d[e];break}}}a&&!i&&this.$store.commit("SET_PRACTICE_CHARACTER_INFO_DATA",{character:t,data:a});const l=await(r?Promise.resolve(n.strokeData[t]):this.strokeCache[t]?Promise.resolve(this.strokeCache[t]):fetch(`/api/getStrokes/${t}`).then(c=>c.ok?c.json():(console.error("Network response was not ok for character:",t),null)));return l&&!this.strokeCache[t]&&(l.character=t,this.strokeCache[t]=l,r||this.$store.commit("SET_PRACTICE_CHARACTER_STROKE_DATA",{character:t,data:l})),{strokeData:l,infoData:a}}catch(n){return console.error("Error preloading character data:",n),{strokeData:null,infoData:null}}},setupQuizMode(){this.plotter&&(this.plotter.quiz({onComplete:t=>{this.handleQuizComplete(t)}}),this.wordTotalStrokeCount=this.strokeData.medians.length,this.totalStrokeCount+=this.wordTotalStrokeCount)},handleQuizComplete(t){this.totalCorrect++,this.totalAnswered++,this.skipState=1,this.showPinyin=!0,this.streakCount++,this.streakCount>=this.streakCheckpoint&&(this.triggerConfetti(this.streakCount),this.streakCheckpoint+=this.streakIncrement)},handleMistake(){this.wordTotalMistakeCount++,this.totalMistakeCount++,this.streakCount=0,this.streakCheckpoint=this.streakIncrement},saveUserStrokeData(t){const e=t.strokes.map(n=>n.map(r=>({x:r.x/800,y:r.y/800}))).filter(n=>n.length>1);fetch("/api/save_stroke_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({character:t.character,strokes:e})}).then(n=>{if(!n.ok)throw new Error("Network response was not ok")}).catch(n=>{console.error("There was a problem saving the data:",n)})},showHelp(){this.plotter&&this.plotter.helpMode()},restartQuestion(){this.skipState=0,this.showPinyin=!1,this.plotter&&(this.plotter.stopAnimation(),this.plotter.restartQuiz())},skipOrNext(){this.plotter&&this.plotter.loadPromise&&this.plotter.loadPromise instanceof Promise&&this.plotter.loadPromise.isPending||(this.skipState===0?(this.skipState=1,this.showPinyin=!0,this.totalAnswered++,this.plotter&&(this.plotter.quizComplete=!0,this.plotter.giveUp()),this.streakCount=0,this.streakCheckpoint=this.streakIncrement):(this.skipState=0,this.currentIndex++,this.currentIndex>=this.quizOrder.length&&(this.currentIndex=0),this.plotter&&(this.plotter.stopAnimation(),this.plotter.demoMode=!1,this.plotter.isQuizing=!1,this.plotter.quizComplete=!1,this.plotter.isAnimating=!1,this.plotter.isAnimatingStroke=!1,this.plotter.isAnimatingInterp=!1,this.plotter.animationFrame&&(cancelAnimationFrame(this.plotter.animationFrame),this.plotter.animationFrame=null),this.plotter.strokeAnimationFrame&&(cancelAnimationFrame(this.plotter.strokeAnimationFrame),this.plotter.strokeAnimationFrame=null),this.plotter.interpAnimFrame&&(cancelAnimationFrame(this.plotter.interpAnimFrame),this.plotter.interpAnimFrame=null),this.plotter.demoAnimationFrame&&(cancelAnimationFrame(this.plotter.demoAnimationFrame),this.plotter.demoAnimationFrame=null)),this.showWord()))},previousCharacter(){this.currentIndex>0&&(this.currentIndex--,this.showWord())},contextAction(){this.skipState===0&&this.plotter&&this.plotter.demoMode&&(this.plotter.demoMode=!1,this.plotter.demoAnimationFrame&&(cancelAnimationFrame(this.plotter.demoAnimationFrame),this.plotter.demoAnimationFrame=null),this.plotter.clearBg()),this.skipOrNext()},setupThemeObserver(){this.themeObserver=new MutationObserver(t=>{t.forEach(e=>{if(e.attributeName==="data-theme"&&(this.isDarkMode=["dark","theme2"].includes(document.documentElement.getAttribute("data-theme")),this.plotter)){const n=this.getThemeColors(document.documentElement.getAttribute("data-theme"));this.plotter.setColors(n),this.plotter.isQuizing&&!this.plotter.quizComplete?(this.plotter.clearBg(),this.plotter.drawUserStrokes()):(this.plotter.clearBg(),this.plotter.draw())}})}),this.themeObserver.observe(document.documentElement,{attributes:!0})},triggerConfetti(t){const e=document.getElementById("confetti-container");e.innerHTML="";const n=document.createElement("div");n.className="congrats",n.textContent=`Streak: ${t}! Great job!`,e.appendChild(n);const r=["#ff4405","#4CAF50","#2196F3","#FFEB3B","#9C27B0","#FF9800"],i=Math.min(100,t*5);for(let s=0;s<i;s++){const a=document.createElement("div");a.className="confetti";const o=Math.random()*10+5,l=r[Math.floor(Math.random()*r.length)],c=Math.random()*100,u=Math.random()*3+2,d=Math.random()*1.5;Object.assign(a.style,{width:`${o}px`,height:`${o}px`,backgroundColor:l,left:`${c}vw`,animationDuration:`${u}s`,animationDelay:`${d}s`}),e.appendChild(a)}setTimeout(()=>{e.innerHTML=""},6e3)}}}),yL={class:"practice-view"},bL={class:"practice-container"},wL={class:"deck-selector"},xL={class:"custom-dropdown"},kL=["onClick"],SL={class:"practice-area"},_L={class:"word-display"},AL={class:"full-word"},CL={key:0,class:"word-character current-character"},LL={key:0},PL={class:"english-display"},NL={key:0},ML={class:"drawing-area",ref:"drawingArea"},DL={id:"plotter-canvas",ref:"plotterCanvas"},TL={class:"control-buttons"},EL={key:0},IL={key:1},FL={key:2},OL={key:3},RL={class:"progress-info"},jL={key:0},BL={key:1};function zL(t,e,n,r,i,s){var o;const a=_e("BasePage");return dt(),wt(re,null,[Vt(a,{page_title:"Strokes Practice"}),_("div",yL,[_("div",bL,[_("div",wL,[_("div",xL,[_("div",{id:"selected-deck",onClick:e[0]||(e[0]=(...l)=>t.toggleDeckOptions&&t.toggleDeckOptions(...l))},Wt(t.currentDeckName),1),_("div",{id:"deck-options",class:we({show:t.isDropdownOpen})},[(dt(!0),wt(re,null,Je(t.decks,(l,c)=>(dt(),wt("div",{key:c,class:we(["option",{selected:t.currentDeck===c}]),onClick:u=>t.selectDeck(c)},Wt(l.name),11,kL))),128))],2)])]),_("div",SL,[_("div",_L,[_("div",AL,[t.skipState?(dt(),wt("span",CL,Wt(t.currentWord[(o=t.currentQuizItem)==null?void 0:o.charIndex]),1)):Xt("",!0)]),_("div",{class:we(["pinyin-label",{active:t.showPinyin}])},[(dt(!0),wt(re,null,Je(t.currentPinyin.split(" "),(l,c)=>{var u;return dt(),wt("span",{key:c,class:we({dimmed:c!==((u=t.currentQuizItem)==null?void 0:u.charIndex)})},[le(Wt(t.$toAccentedPinyin(l))+" ",1),c<t.currentWord.length-1?(dt(),wt("span",LL)):Xt("",!0)],2)}),128))],2),_("div",PL,[(dt(!0),wt(re,null,Je(t.currentEnglish,(l,c)=>{var u;return dt(),wt("span",{key:c,class:we({dimmed:t.currentWord.length>1&&c!==((u=t.currentQuizItem)==null?void 0:u.charIndex)})},[le(Wt(l)+" ",1),c<t.currentWord.length-1?(dt(),wt("span",NL,"/")):Xt("",!0)],2)}),128))])]),_("div",ML,[_("canvas",DL,null,512)],512),_("div",TL,[t.skipState?(dt(),wt("div",IL,[_("button",{class:we([{greyed:t.skipState},"btn nav-help"]),onClick:e[2]||(e[2]=(...l)=>t.showHelp&&t.showHelp(...l))}," Help ",2)])):(dt(),wt("div",EL,[_("button",{class:we([{greyed:t.skipState},"btn nav-help"]),onClick:e[1]||(e[1]=(...l)=>t.showHelp&&t.showHelp(...l))}," Help ",2)])),t.skipState?(dt(),wt("div",OL,[_("button",{onClick:e[4]||(e[4]=(...l)=>t.previousCharacter&&t.previousCharacter(...l)),class:"btn nav-previous"}," Previous ")])):(dt(),wt("div",FL,[_("button",{onClick:e[3]||(e[3]=(...l)=>t.previousCharacter&&t.previousCharacter(...l)),class:"btn nav-previous"}," Previous ")])),_("button",{id:"action-btn",onClick:e[5]||(e[5]=(...l)=>t.contextAction&&t.contextAction(...l)),class:we(["btn primary-action",{"action-reveal":!t.skipState,"action-next":t.skipState}])},Wt(t.actionText),3),_("button",{onClick:e[6]||(e[6]=(...l)=>t.restartQuestion&&t.restartQuestion(...l)),class:"btn nav-restart"}," Clear ")]),_("div",RL,[_("div",null,"Streak: "+Wt(t.streakCount),1),t.totalAnswered>0?(dt(),wt("div",jL," Accuracy: "+Wt((t.totalCorrect/t.totalAnswered*100).toFixed(1))+"% ",1)):Xt("",!0),t.totalStrokeCount>0?(dt(),wt("div",BL," Stroke Accuracy: "+Wt(((t.totalStrokeCount-t.totalMistakeCount)/t.totalStrokeCount*100).toFixed(1))+"% ",1)):Xt("",!0)])])]),e[7]||(e[7]=_("div",{id:"confetti-container"},null,-1))])],64)}const qL=tn(vL,[["render",zL],["__scopeId","data-v-0766464e"]]),WL={name:"PageInfoView",components:{PreloadWrapper:Xs,BasePage:dr}};function UL(t,e,n,r,i,s){const a=_e("BasePage");return dt(),wt(re,null,[Vt(a,{page_title:"Info"}),e[0]||(e[0]=_("div",{class:"content"},"hell",-1))],64)}const $L=tn(WL,[["render",UL],["__scopeId","data-v-8f11c4ce"]]),HL="modulepreload",VL=function(t){return"/"+t},Im={},ap=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=VL(c),c in Im)return;Im[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":HL,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((f,w)=>{p.addEventListener("load",f),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Re(t){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(t)}var Hn=Uint8Array,Ar=Uint16Array,g1=Int32Array,zh=new Hn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qh=new Hn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),op=new Hn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hv=function(t,e){for(var n=new Ar(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new g1(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},fv=hv(zh,2),dv=fv.b,lp=fv.r;dv[28]=258,lp[258]=28;var pv=hv(qh,0),GL=pv.b,Fm=pv.r,cp=new Ar(32768);for(var Qe=0;Qe<32768;++Qe){var Ps=(Qe&43690)>>1|(Qe&21845)<<1;Ps=(Ps&52428)>>2|(Ps&13107)<<2,Ps=(Ps&61680)>>4|(Ps&3855)<<4,cp[Qe]=((Ps&65280)>>8|(Ps&255)<<8)>>1}var Di=function(t,e,n){for(var r=t.length,i=0,s=new Ar(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Ar(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Ar(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=a[t[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[cp[d]>>l]=c}else for(o=new Ar(r),i=0;i<r;++i)t[i]&&(o[i]=cp[a[t[i]-1]++]>>15-t[i]);return o},Us=new Hn(288);for(var Qe=0;Qe<144;++Qe)Us[Qe]=8;for(var Qe=144;Qe<256;++Qe)Us[Qe]=9;for(var Qe=256;Qe<280;++Qe)Us[Qe]=7;for(var Qe=280;Qe<288;++Qe)Us[Qe]=8;var lc=new Hn(32);for(var Qe=0;Qe<32;++Qe)lc[Qe]=5;var YL=Di(Us,9,0),KL=Di(Us,9,1),XL=Di(lc,5,0),JL=Di(lc,5,1),od=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Zr=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},ld=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},v1=function(t){return(t+7)/8|0},mv=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Hn(t.subarray(e,n))},QL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ei=function(t,e,n){var r=new Error(e||QL[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ei),!n)throw r;return r},ZL=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Hn(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new Hn(i*3));var c=function(Lt){var R=n.length;if(Lt>R){var O=new Hn(Math.max(R*2,Lt));O.set(n),n=O}},u=e.f||0,d=e.p||0,p=e.b||0,f=e.l,w=e.d,v=e.m,k=e.n,y=i*8;do{if(!f){u=Zr(t,d,1);var x=Zr(t,d+1,3);if(d+=3,x)if(x==1)f=KL,w=JL,v=9,k=5;else if(x==2){var it=Zr(t,d,31)+257,J=Zr(t,d+10,15)+4,G=it+Zr(t,d+5,31)+1;d+=14;for(var nt=new Hn(G),mt=new Hn(19),E=0;E<J;++E)mt[op[E]]=Zr(t,d+E*3,7);d+=J*3;for(var B=od(mt),Q=(1<<B)-1,M=Di(mt,B,1),E=0;E<G;){var ot=M[Zr(t,d,Q)];d+=ot&15;var N=ot>>4;if(N<16)nt[E++]=N;else{var Y=0,rt=0;for(N==16?(rt=3+Zr(t,d,3),d+=2,Y=nt[E-1]):N==17?(rt=3+Zr(t,d,7),d+=3):N==18&&(rt=11+Zr(t,d,127),d+=7);rt--;)nt[E++]=Y}}var Z=nt.subarray(0,it),lt=nt.subarray(it);v=od(Z),k=od(lt),f=Di(Z,v,1),w=Di(lt,k,1)}else ei(1);else{var N=v1(d)+4,L=t[N-4]|t[N-3]<<8,j=N+L;if(j>i){l&&ei(0);break}o&&c(p+L),n.set(t.subarray(N,j),p),e.b=p+=L,e.p=d=j*8,e.f=u;continue}if(d>y){l&&ei(0);break}}o&&c(p+131072);for(var ft=(1<<v)-1,It=(1<<k)-1,P=d;;P=d){var Y=f[ld(t,d)&ft],W=Y>>4;if(d+=Y&15,d>y){l&&ei(0);break}if(Y||ei(2),W<256)n[p++]=W;else if(W==256){P=d,f=null;break}else{var H=W-254;if(W>264){var E=W-257,et=zh[E];H=Zr(t,d,(1<<et)-1)+dv[E],d+=et}var st=w[ld(t,d)&It],$=st>>4;st||ei(3),d+=st&15;var lt=GL[$];if($>3){var et=qh[$];lt+=ld(t,d)&(1<<et)-1,d+=et}if(d>y){l&&ei(0);break}o&&c(p+131072);var z=p+H;if(p<lt){var U=s-lt,at=Math.min(lt,z);for(U+p<0&&ei(3);p<at;++p)n[p]=r[U+p]}for(;p<z;++p)n[p]=n[p-lt]}}e.l=f,e.p=P,e.b=p,e.f=u,f&&(u=1,e.m=v,e.d=w,e.n=k)}while(!u);return p!=n.length&&a?mv(n,0,p):n.subarray(0,p)},Ki=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Ll=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},cd=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:vv,l:0};if(i==1){var a=new Hn(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(j,it){return j.f-it.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new Ar(p+1),w=up(n[u-1],f,0);if(w>e){var r=0,v=0,k=w-e,y=1<<k;for(s.sort(function(it,J){return f[J.s]-f[it.s]||it.f-J.f});r<i;++r){var x=s[r].s;if(f[x]>e)v+=y-(1<<w-f[x]),f[x]=e;else break}for(v>>=k;v>0;){var N=s[r].s;f[N]<e?v-=1<<e-f[N]++-1:++r}for(;r>=0&&v;--r){var L=s[r].s;f[L]==e&&(--f[L],++v)}w=e}return{t:new Hn(f),l:w}},up=function(t,e,n){return t.s==-1?Math.max(up(t.l,e,n+1),up(t.r,e,n+1)):e[t.s]=n},Om=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ar(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Pl=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},gv=function(t,e,n){var r=n.length,i=v1(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Rm=function(t,e,n,r,i,s,a,o,l,c,u){Ki(e,u++,n),++i[256];for(var d=cd(i,15),p=d.t,f=d.l,w=cd(s,15),v=w.t,k=w.l,y=Om(p),x=y.c,N=y.n,L=Om(v),j=L.c,it=L.n,J=new Ar(19),G=0;G<x.length;++G)++J[x[G]&31];for(var G=0;G<j.length;++G)++J[j[G]&31];for(var nt=cd(J,7),mt=nt.t,E=nt.l,B=19;B>4&&!mt[op[B-1]];--B);var Q=c+5<<3,M=Pl(i,Us)+Pl(s,lc)+a,ot=Pl(i,p)+Pl(s,v)+a+14+3*B+Pl(J,mt)+2*J[16]+3*J[17]+7*J[18];if(l>=0&&Q<=M&&Q<=ot)return gv(e,u,t.subarray(l,l+c));var Y,rt,Z,lt;if(Ki(e,u,1+(ot<M)),u+=2,ot<M){Y=Di(p,f,0),rt=p,Z=Di(v,k,0),lt=v;var ft=Di(mt,E,0);Ki(e,u,N-257),Ki(e,u+5,it-1),Ki(e,u+10,B-4),u+=14;for(var G=0;G<B;++G)Ki(e,u+3*G,mt[op[G]]);u+=3*B;for(var It=[x,j],P=0;P<2;++P)for(var W=It[P],G=0;G<W.length;++G){var H=W[G]&31;Ki(e,u,ft[H]),u+=mt[H],H>15&&(Ki(e,u,W[G]>>5&127),u+=W[G]>>12)}}else Y=YL,rt=Us,Z=XL,lt=lc;for(var G=0;G<o;++G){var et=r[G];if(et>255){var H=et>>18&31;Ll(e,u,Y[H+257]),u+=rt[H+257],H>7&&(Ki(e,u,et>>23&31),u+=zh[H]);var st=et&31;Ll(e,u,Z[st]),u+=lt[st],st>3&&(Ll(e,u,et>>5&8191),u+=qh[st])}else Ll(e,u,Y[et]),u+=rt[et]}return Ll(e,u,Y[256]),u+rt[256]},tP=new g1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vv=new Hn(0),eP=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Hn(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=tP[e-1],p=d>>13,f=d&8191,w=(1<<n)-1,v=s.p||new Ar(32768),k=s.h||new Ar(w+1),y=Math.ceil(n/3),x=2*y,N=function(tt){return(t[tt]^t[tt+1]<<y^t[tt+2]<<x)&w},L=new g1(25e3),j=new Ar(288),it=new Ar(32),J=0,G=0,nt=s.i||0,mt=0,E=s.w||0,B=0;nt+2<a;++nt){var Q=N(nt),M=nt&32767,ot=k[Q];if(v[M]=ot,k[Q]=M,E<=nt){var Y=a-nt;if((J>7e3||mt>24576)&&(Y>423||!c)){u=Rm(t,l,0,L,j,it,G,mt,B,nt-B,u),mt=J=G=0,B=nt;for(var rt=0;rt<286;++rt)j[rt]=0;for(var rt=0;rt<30;++rt)it[rt]=0}var Z=2,lt=0,ft=f,It=M-ot&32767;if(Y>2&&Q==N(nt-It))for(var P=Math.min(p,Y)-1,W=Math.min(32767,nt),H=Math.min(258,Y);It<=W&&--ft&&M!=ot;){if(t[nt+Z]==t[nt+Z-It]){for(var et=0;et<H&&t[nt+et]==t[nt+et-It];++et);if(et>Z){if(Z=et,lt=It,et>P)break;for(var st=Math.min(It,et-2),$=0,rt=0;rt<st;++rt){var z=nt-It+rt&32767,U=v[z],at=z-U&32767;at>$&&($=at,ot=z)}}}M=ot,ot=v[M],It+=M-ot&32767}if(lt){L[mt++]=268435456|lp[Z]<<18|Fm[lt];var Lt=lp[Z]&31,R=Fm[lt]&31;G+=zh[Lt]+qh[R],++j[257+Lt],++it[R],E=nt+Z,++J}else L[mt++]=t[nt],++j[t[nt]]}}for(nt=Math.max(nt,E);nt<a;++nt)L[mt++]=t[nt],++j[t[nt]];u=Rm(t,l,c,L,j,it,G,mt,B,nt-B,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=k,s.p=v,s.i=nt,s.w=E)}else{for(var nt=s.w||0;nt<a+c;nt+=65535){var O=nt+65535;O>=a&&(l[u/8|0]=c,O=a),u=gv(l,u+1,t.subarray(nt,O))}s.i=a}return mv(o,0,r+v1(u)+i)},yv=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},nP=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Hn(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return eP(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},bv=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},rP=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=yv();i.p(e.dictionary),bv(t,2,i.d())}},iP=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ei(6,"invalid zlib data"),(t[1]>>5&1)==1&&ei(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function hp(t,e){e||(e={});var n=yv();n.p(t);var r=nP(t,e,e.dictionary?6:2,4);return rP(r,e),bv(r,r.length-4,n.d()),r}function sP(t,e){return ZL(t.subarray(iP(t),-4),{i:2},e,e)}var aP=typeof TextDecoder<"u"&&new TextDecoder,oP=0;try{aP.decode(vv,{stream:!0}),oP=1}catch{}var ce=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ud(){ce.console&&typeof ce.console.log=="function"&&ce.console.log.apply(ce.console,arguments)}var We={log:ud,warn:function(t){ce.console&&(typeof ce.console.warn=="function"?ce.console.warn.apply(ce.console,arguments):ud.call(null,arguments))},error:function(t){ce.console&&(typeof ce.console.error=="function"?ce.console.error.apply(ce.console,arguments):ud(t))}};function hd(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ga(r.response,e,n)},r.onerror=function(){We.error("could not download file")},r.send()}function jm(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lu(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ul,fp,ga=ce.saveAs||((typeof window>"u"?"undefined":Re(window))!=="object"||window!==ce?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ce.URL||ce.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?jm(i.href)?hd(t,e,n):Lu(i,i.target="_blank"):Lu(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lu(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(jm(t))hd(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Lu(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Re(s)!=="object"&&(We.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return hd(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(ce.HTMLElement)||ce.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Re(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=ce.URL||ce.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wv(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fd(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Bn(n,r,i,s,e[0],7,-680876936),s=Bn(s,n,r,i,e[1],12,-389564586),i=Bn(i,s,n,r,e[2],17,606105819),r=Bn(r,i,s,n,e[3],22,-1044525330),n=Bn(n,r,i,s,e[4],7,-176418897),s=Bn(s,n,r,i,e[5],12,1200080426),i=Bn(i,s,n,r,e[6],17,-1473231341),r=Bn(r,i,s,n,e[7],22,-45705983),n=Bn(n,r,i,s,e[8],7,1770035416),s=Bn(s,n,r,i,e[9],12,-1958414417),i=Bn(i,s,n,r,e[10],17,-42063),r=Bn(r,i,s,n,e[11],22,-1990404162),n=Bn(n,r,i,s,e[12],7,1804603682),s=Bn(s,n,r,i,e[13],12,-40341101),i=Bn(i,s,n,r,e[14],17,-1502002290),n=zn(n,r=Bn(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=zn(s,n,r,i,e[6],9,-1069501632),i=zn(i,s,n,r,e[11],14,643717713),r=zn(r,i,s,n,e[0],20,-373897302),n=zn(n,r,i,s,e[5],5,-701558691),s=zn(s,n,r,i,e[10],9,38016083),i=zn(i,s,n,r,e[15],14,-660478335),r=zn(r,i,s,n,e[4],20,-405537848),n=zn(n,r,i,s,e[9],5,568446438),s=zn(s,n,r,i,e[14],9,-1019803690),i=zn(i,s,n,r,e[3],14,-187363961),r=zn(r,i,s,n,e[8],20,1163531501),n=zn(n,r,i,s,e[13],5,-1444681467),s=zn(s,n,r,i,e[2],9,-51403784),i=zn(i,s,n,r,e[7],14,1735328473),n=qn(n,r=zn(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=qn(s,n,r,i,e[8],11,-2022574463),i=qn(i,s,n,r,e[11],16,1839030562),r=qn(r,i,s,n,e[14],23,-35309556),n=qn(n,r,i,s,e[1],4,-1530992060),s=qn(s,n,r,i,e[4],11,1272893353),i=qn(i,s,n,r,e[7],16,-155497632),r=qn(r,i,s,n,e[10],23,-1094730640),n=qn(n,r,i,s,e[13],4,681279174),s=qn(s,n,r,i,e[0],11,-358537222),i=qn(i,s,n,r,e[3],16,-722521979),r=qn(r,i,s,n,e[6],23,76029189),n=qn(n,r,i,s,e[9],4,-640364487),s=qn(s,n,r,i,e[12],11,-421815835),i=qn(i,s,n,r,e[15],16,530742520),n=Wn(n,r=qn(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Wn(s,n,r,i,e[7],10,1126891415),i=Wn(i,s,n,r,e[14],15,-1416354905),r=Wn(r,i,s,n,e[5],21,-57434055),n=Wn(n,r,i,s,e[12],6,1700485571),s=Wn(s,n,r,i,e[3],10,-1894986606),i=Wn(i,s,n,r,e[10],15,-1051523),r=Wn(r,i,s,n,e[1],21,-2054922799),n=Wn(n,r,i,s,e[8],6,1873313359),s=Wn(s,n,r,i,e[15],10,-30611744),i=Wn(i,s,n,r,e[6],15,-1560198380),r=Wn(r,i,s,n,e[13],21,1309151649),n=Wn(n,r,i,s,e[4],6,-145523070),s=Wn(s,n,r,i,e[11],10,-1120210379),i=Wn(i,s,n,r,e[2],15,718787259),r=Wn(r,i,s,n,e[9],21,-343485551),t[0]=Bs(n,t[0]),t[1]=Bs(r,t[1]),t[2]=Bs(i,t[2]),t[3]=Bs(s,t[3])}function Wh(t,e,n,r,i,s){return e=Bs(Bs(e,t),Bs(r,s)),Bs(e<<i|e>>>32-i,n)}function Bn(t,e,n,r,i,s,a){return Wh(e&n|~e&r,t,e,i,s,a)}function zn(t,e,n,r,i,s,a){return Wh(e&r|n&~r,t,e,i,s,a)}function qn(t,e,n,r,i,s,a){return Wh(e^n^r,t,e,i,s,a)}function Wn(t,e,n,r,i,s,a){return Wh(n^(e|~r),t,e,i,s,a)}function xv(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)fd(r,lP(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(fd(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,fd(r,i),r}function lP(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ul=ce.atob.bind(ce),fp=ce.btoa.bind(ce);var Bm="0123456789abcdef".split("");function cP(t){for(var e="",n=0;n<4;n++)e+=Bm[t>>8*n+4&15]+Bm[t>>8*n&15];return e}function uP(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function dp(t){return xv(t).map(uP).join("")}var hP=function(t){for(var e=0;e<t.length;e++)t[e]=cP(t[e]);return t.join("")}(xv("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bs(t,e){if(hP){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pp(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var d=e.length,p=0,f=0,w="";for(l=0;l<d;l++)f=(f+(u=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=u,a=o[(o[p]+o[f])%256],w+=String.fromCharCode(e.charCodeAt(l)^a);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zm={print:4,modify:8,copy:16,"annot-forms":32};function po(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(zm.perm!==void 0)throw new Error("Invalid permission: "+o);i+=zm[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=dp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=pp(this.encryptionKey,this.padding)}function mo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function qm(t){if(Re(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){ce.console&&We.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Aa(t){if(!(this instanceof Aa))return new Aa(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function kv(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Rs(t,e,n,r,i){if(!(this instanceof Rs))return new Rs(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,kv.call(this,r,i)}function ba(t,e,n,r,i){if(!(this instanceof ba))return new ba(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,kv.call(this,r,i)}function ae(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Re(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=qm;var w="1.3",v=f.__private__.getPdfVersion=function(){return w};f.__private__.setPdfVersion=function(g){w=g};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return k};var y=f.__private__.getPageFormat=function(g){return k[g]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},N=x.COMPAT;function L(){this.saveGraphicsState(),I(new oe(Ht,0,0,-Ht,0,ms()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),c="n",N=x.ADVANCED}function j(){this.restoreGraphicsState(),c="S",N=x.COMPAT}var it=f.__private__.combineFontStyleAndFontWeight=function(g,C){if(g=="bold"&&C=="normal"||g=="bold"&&C==400||g=="normal"&&C=="italic"||g=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(g=C==400||C==="normal"?g==="italic"?"italic":"normal":C!=700&&C!=="bold"||g!=="normal"?(C==700?"bold":C)+""+g:"bold"),g};f.advancedAPI=function(g){var C=N===x.COMPAT;return C&&L.call(this),typeof g!="function"||(g(this),C&&j.call(this)),this},f.compatAPI=function(g){var C=N===x.ADVANCED;return C&&j.call(this),typeof g!="function"||(g(this),C&&L.call(this)),this},f.isAdvancedAPI=function(){return N===x.ADVANCED};var J,G=function(g){if(N!==x.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},nt=f.roundToPrecision=f.__private__.roundToPrecision=function(g,C){var X=e||C;if(isNaN(g)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(X).replace(/0+$/,"")};J=f.hpf=f.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return nt(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return nt(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return nt(g,16)};var mt=f.f2=f.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return nt(g,2)},E=f.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return nt(g,3)},B=f.scale=f.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return N===x.COMPAT?g*Ht:N===x.ADVANCED?g:void 0},Q=function(g){return N===x.COMPAT?ms()-g:N===x.ADVANCED?g:void 0},M=function(g){return B(Q(g))};f.__private__.setPrecision=f.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var ot,Y="00000000000000000000000000000000",rt=f.__private__.getFileId=function(){return Y},Z=f.__private__.setFileId=function(g){return Y=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Rn=new po(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};f.setFileId=function(g){return Z(g),this},f.getFileId=function(){return rt()};var lt=f.__private__.convertDateToPDFDate=function(g){var C=g.getTimezoneOffset(),X=C<0?"+":"-",ct=Math.floor(Math.abs(C/60)),kt=Math.abs(C%60),Et=[X,H(ct),"'",H(kt),"'"].join("");return["D:",g.getFullYear(),H(g.getMonth()+1),H(g.getDate()),H(g.getHours()),H(g.getMinutes()),H(g.getSeconds()),Et].join("")},ft=f.__private__.convertPDFDateToDate=function(g){var C=parseInt(g.substr(2,4),10),X=parseInt(g.substr(6,2),10)-1,ct=parseInt(g.substr(8,2),10),kt=parseInt(g.substr(10,2),10),Et=parseInt(g.substr(12,2),10),zt=parseInt(g.substr(14,2),10);return new Date(C,X,ct,kt,Et,zt,0)},It=f.__private__.setCreationDate=function(g){var C;if(g===void 0&&(g=new Date),g instanceof Date)C=lt(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=g}return ot=C},P=f.__private__.getCreationDate=function(g){var C=ot;return g==="jsDate"&&(C=ft(ot)),C};f.setCreationDate=function(g){return It(g),this},f.getCreationDate=function(g){return P(g)};var W,H=f.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},et=f.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},st=0,$=[],z=[],U=0,at=[],Lt=[],R=!1,O=z,tt=function(){st=0,U=0,z=[],$=[],at=[],Oi=yn(),$r=yn()};f.__private__.setCustomOutputDestination=function(g){R=!0,O=g};var K=function(g){R||(O=g)};f.__private__.resetCustomOutputDestination=function(){R=!1,O=z};var I=f.__private__.out=function(g){return g=g.toString(),U+=g.length+1,O.push(g),O},St=f.__private__.write=function(g){return I(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Pt=f.__private__.getArrayBuffer=function(g){for(var C=g.length,X=new ArrayBuffer(C),ct=new Uint8Array(X);C--;)ct[C]=g.charCodeAt(C);return X},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return bt};var _t=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(g){return _t=N===x.ADVANCED?g/Ht:g,this};var vt,Nt=f.__private__.getFontSize=f.getFontSize=function(){return N===x.COMPAT?_t:_t*Ht},Mt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(g){return Mt=g,this},f.__private__.getR2L=f.getR2L=function(){return Mt};var jt,pt=f.__private__.setZoomMode=function(g){var C=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))vt=g;else if(isNaN(g)){if(C.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');vt=g}else vt=parseInt(g,10)};f.__private__.getZoomMode=function(){return vt};var Tt,xt=f.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');jt=g};f.__private__.getPageMode=function(){return jt};var $t=f.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Tt=g};f.__private__.getLayoutMode=function(){return Tt},f.__private__.setDisplayMode=f.setDisplayMode=function(g,C,X){return pt(g),$t(C),xt(X),this};var Yt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(g){if(Object.keys(Yt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Yt[g]},f.__private__.getDocumentProperties=function(){return Yt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(g){for(var C in Yt)Yt.hasOwnProperty(C)&&g[C]&&(Yt[C]=g[C]);return this},f.__private__.setDocumentProperty=function(g,C){if(Object.keys(Yt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Yt[g]=C};var ee,Ht,Ae,fe,vn,he={},xe={},Mn=[],Me={},Zs={},nn={},Wr={},Fi=null,rn=0,pe=[],De=new qm(f),ta=t.hotfixes||[],Dn={},hi={},fi=[],oe=function g(C,X,ct,kt,Et,zt){if(!(this instanceof g))return new g(C,X,ct,kt,Et,zt);isNaN(C)&&(C=1),isNaN(X)&&(X=0),isNaN(ct)&&(ct=0),isNaN(kt)&&(kt=1),isNaN(Et)&&(Et=0),isNaN(zt)&&(zt=0),this._matrix=[C,X,ct,kt,Et,zt]};Object.defineProperty(oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(oe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),oe.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(g)},oe.prototype.multiply=function(g){var C=g.sx*this.sx+g.shy*this.shx,X=g.sx*this.shy+g.shy*this.sy,ct=g.shx*this.sx+g.sy*this.shx,kt=g.shx*this.shy+g.sy*this.sy,Et=g.tx*this.sx+g.ty*this.shx+this.tx,zt=g.tx*this.shy+g.ty*this.sy+this.ty;return new oe(C,X,ct,kt,Et,zt)},oe.prototype.decompose=function(){var g=this.sx,C=this.shy,X=this.shx,ct=this.sy,kt=this.tx,Et=this.ty,zt=Math.sqrt(g*g+C*C),Jt=(g/=zt)*X+(C/=zt)*ct;X-=g*Jt,ct-=C*Jt;var ie=Math.sqrt(X*X+ct*ct);return Jt/=ie,g*(ct/=ie)<C*(X/=ie)&&(g=-g,C=-C,Jt=-Jt,zt=-zt),{scale:new oe(zt,0,0,ie,0,0),translate:new oe(1,0,0,1,kt,Et),rotate:new oe(g,C,-C,g,0,0),skew:new oe(1,0,Jt,1,0,0)}},oe.prototype.toString=function(g){return this.join(" ")},oe.prototype.inversed=function(){var g=this.sx,C=this.shy,X=this.shx,ct=this.sy,kt=this.tx,Et=this.ty,zt=1/(g*ct-C*X),Jt=ct*zt,ie=-C*zt,ve=-X*zt,me=g*zt;return new oe(Jt,ie,ve,me,-Jt*kt-ve*Et,-ie*kt-me*Et)},oe.prototype.applyToPoint=function(g){var C=g.x*this.sx+g.y*this.shx+this.tx,X=g.x*this.shy+g.y*this.sy+this.ty;return new Ua(C,X)},oe.prototype.applyToRectangle=function(g){var C=this.applyToPoint(g),X=this.applyToPoint(new Ua(g.x+g.w,g.y+g.h));return new el(C.x,C.y,X.x-C.x,X.y-C.y)},oe.prototype.clone=function(){var g=this.sx,C=this.shy,X=this.shx,ct=this.sy,kt=this.tx,Et=this.ty;return new oe(g,C,X,ct,kt,Et)},f.Matrix=oe;var Ur=f.matrixMult=function(g,C){return C.multiply(g)},di=new oe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=di;var rr=function(g,C){if(!Zs[g]){var X=(C instanceof Rs?"Sh":"P")+(Object.keys(Me).length+1).toString(10);C.id=X,Zs[g]=X,Me[X]=C,De.publish("addPattern",C)}};f.ShadingPattern=Rs,f.TilingPattern=ba,f.addShadingPattern=function(g,C){return G("addShadingPattern()"),rr(g,C),this},f.beginTilingPattern=function(g){G("beginTilingPattern()"),$c(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},f.endTilingPattern=function(g,C){G("endTilingPattern()"),C.stream=Lt[W].join(`
`),rr(g,C),De.publish("endTilingPattern",C),fi.pop().restore()};var Sn=f.__private__.newObject=function(){var g=yn();return mr(g,!0),g},yn=f.__private__.newObjectDeferred=function(){return st++,$[st]=function(){return U},st},mr=function(g,C){return C=typeof C=="boolean"&&C,$[g]=U,C&&I(g+" 0 obj"),g},Ma=f.__private__.newAdditionalObject=function(){var g={objId:yn(),content:""};return at.push(g),g},Oi=yn(),$r=yn(),Hr=f.__private__.decodeColorString=function(g){var C=g.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length===5&&(C[4]==="k"||C[4]==="K")&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var X=parseFloat(C[0]);C=[X,X,X,"r"]}for(var ct="#",kt=0;kt<3;kt++)ct+=("0"+Math.floor(255*parseFloat(C[kt])).toString(16)).slice(-2);return ct},Vr=f.__private__.encodeColorString=function(g){var C;typeof g=="string"&&(g={ch1:g});var X=g.ch1,ct=g.ch2,kt=g.ch3,Et=g.ch4,zt=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var Jt=new wv(X);if(Jt.ok)X=Jt.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var ie=parseInt(X.substr(1),16);X=ie>>16&255,ct=ie>>8&255,kt=255&ie}if(ct===void 0||Et===void 0&&X===ct&&ct===kt)if(typeof X=="string")C=X+" "+zt[0];else switch(g.precision){case 2:C=mt(X/255)+" "+zt[0];break;case 3:default:C=E(X/255)+" "+zt[0]}else if(Et===void 0||Re(Et)==="object"){if(Et&&!isNaN(Et.a)&&Et.a===0)return C=["1.","1.","1.",zt[1]].join(" ");if(typeof X=="string")C=[X,ct,kt,zt[1]].join(" ");else switch(g.precision){case 2:C=[mt(X/255),mt(ct/255),mt(kt/255),zt[1]].join(" ");break;default:case 3:C=[E(X/255),E(ct/255),E(kt/255),zt[1]].join(" ")}}else if(typeof X=="string")C=[X,ct,kt,Et,zt[2]].join(" ");else switch(g.precision){case 2:C=[mt(X),mt(ct),mt(kt),mt(Et),zt[2]].join(" ");break;case 3:default:C=[E(X),E(ct),E(kt),E(Et),zt[2]].join(" ")}return C},pi=f.__private__.getFilters=function(){return a},Pr=f.__private__.putStream=function(g){var C=(g=g||{}).data||"",X=g.filters||pi(),ct=g.alreadyAppliedFilters||[],kt=g.addLength1||!1,Et=C.length,zt=g.objectId,Jt=function(jn){return jn};if(u!==null&&zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Jt=Rn.encryptor(zt,0));var ie={};X===!0&&(X=["FlateEncode"]);var ve=g.additionalKeyValues||[],me=(ie=ae.API.processDataByFilters!==void 0?ae.API.processDataByFilters(C,X):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(ct)?ct.join(" "):ct.toString());if(ie.data.length!==0&&(ve.push({key:"Length",value:ie.data.length}),kt===!0&&ve.push({key:"Length1",value:Et})),me.length!=0)if(me.split("/").length-1==1)ve.push({key:"Filter",value:me});else{ve.push({key:"Filter",value:"["+me+"]"});for(var Le=0;Le<ve.length;Le+=1)if(ve[Le].key==="DecodeParms"){for(var en=[],sn=0;sn<ie.reverseChain.split("/").length-1;sn+=1)en.push("null");en.push(ve[Le].value),ve[Le].value="["+en.join(" ")+"]"}}I("<<");for(var bn=0;bn<ve.length;bn++)I("/"+ve[bn].key+" "+ve[bn].value);I(">>"),ie.data.length!==0&&(I("stream"),I(Jt(ie.data)),I("endstream"))},mi=f.__private__.putPage=function(g){var C=g.number,X=g.data,ct=g.objId,kt=g.contentsObjId;mr(ct,!0),I("<</Type /Page"),I("/Parent "+g.rootDictionaryObjId+" 0 R"),I("/Resources "+g.resourceDictionaryObjId+" 0 R"),I("/MediaBox ["+parseFloat(J(g.mediaBox.bottomLeftX))+" "+parseFloat(J(g.mediaBox.bottomLeftY))+" "+J(g.mediaBox.topRightX)+" "+J(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&I("/CropBox ["+J(g.cropBox.bottomLeftX)+" "+J(g.cropBox.bottomLeftY)+" "+J(g.cropBox.topRightX)+" "+J(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&I("/BleedBox ["+J(g.bleedBox.bottomLeftX)+" "+J(g.bleedBox.bottomLeftY)+" "+J(g.bleedBox.topRightX)+" "+J(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&I("/TrimBox ["+J(g.trimBox.bottomLeftX)+" "+J(g.trimBox.bottomLeftY)+" "+J(g.trimBox.topRightX)+" "+J(g.trimBox.topRightY)+"]"),g.artBox!==null&&I("/ArtBox ["+J(g.artBox.bottomLeftX)+" "+J(g.artBox.bottomLeftY)+" "+J(g.artBox.topRightX)+" "+J(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&I("/UserUnit "+g.userUnit),De.publish("putPage",{objId:ct,pageContext:pe[C],pageNumber:C,page:X}),I("/Contents "+kt+" 0 R"),I(">>"),I("endobj");var Et=X.join(`
`);return N===x.ADVANCED&&(Et+=`
Q`),mr(kt,!0),Pr({data:Et,filters:pi(),objectId:kt}),I("endobj"),ct},ea=f.__private__.putPages=function(){var g,C,X=[];for(g=1;g<=rn;g++)pe[g].objId=yn(),pe[g].contentsObjId=yn();for(g=1;g<=rn;g++)X.push(mi({number:g,data:Lt[g],objId:pe[g].objId,contentsObjId:pe[g].contentsObjId,mediaBox:pe[g].mediaBox,cropBox:pe[g].cropBox,bleedBox:pe[g].bleedBox,trimBox:pe[g].trimBox,artBox:pe[g].artBox,userUnit:pe[g].userUnit,rootDictionaryObjId:Oi,resourceDictionaryObjId:$r}));mr(Oi,!0),I("<</Type /Pages");var ct="/Kids [";for(C=0;C<rn;C++)ct+=X[C]+" 0 R ";I(ct+"]"),I("/Count "+rn),I(">>"),I("endobj"),De.publish("postPutPages")},Da=function(g){De.publish("putFont",{font:g,out:I,newObject:Sn,putStream:Pr}),g.isAlreadyPutted!==!0&&(g.objectNumber=Sn(),I("<<"),I("/Type /Font"),I("/BaseFont /"+mo(g.postScriptName)),I("/Subtype /Type1"),typeof g.encoding=="string"&&I("/Encoding /"+g.encoding),I("/FirstChar 32"),I("/LastChar 255"),I(">>"),I("endobj"))},Ta=function(){for(var g in he)he.hasOwnProperty(g)&&(d===!1||d===!0&&p.hasOwnProperty(g))&&Da(he[g])},Ea=function(g){g.objectNumber=Sn();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[J(g.x),J(g.y),J(g.x+g.width),J(g.y+g.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var X=g.pages[1].join(`
`);Pr({data:X,additionalKeyValues:C,objectId:g.objectNumber}),I("endobj")},Ia=function(){for(var g in Dn)Dn.hasOwnProperty(g)&&Ea(Dn[g])},Cc=function(g,C){var X,ct=[],kt=1/(C-1);for(X=0;X<1;X+=kt)ct.push(X);if(ct.push(1),g[0].offset!=0){var Et={offset:0,color:g[0].color};g.unshift(Et)}if(g[g.length-1].offset!=1){var zt={offset:1,color:g[g.length-1].color};g.push(zt)}for(var Jt="",ie=0,ve=0;ve<ct.length;ve++){for(X=ct[ve];X>g[ie+1].offset;)ie++;var me=g[ie].offset,Le=(X-me)/(g[ie+1].offset-me),en=g[ie].color,sn=g[ie+1].color;Jt+=et(Math.round((1-Le)*en[0]+Le*sn[0]).toString(16))+et(Math.round((1-Le)*en[1]+Le*sn[1]).toString(16))+et(Math.round((1-Le)*en[2]+Le*sn[2]).toString(16))}return Jt.trim()},Jh=function(g,C){C||(C=21);var X=Sn(),ct=Cc(g.colors,C),kt=[];kt.push({key:"FunctionType",value:"0"}),kt.push({key:"Domain",value:"[0.0 1.0]"}),kt.push({key:"Size",value:"["+C+"]"}),kt.push({key:"BitsPerSample",value:"8"}),kt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pr({data:ct,additionalKeyValues:kt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),I("endobj"),g.objectNumber=Sn(),I("<< /ShadingType "+g.type),I("/ColorSpace /DeviceRGB");var Et="/Coords ["+J(parseFloat(g.coords[0]))+" "+J(parseFloat(g.coords[1]))+" ";g.type===2?Et+=J(parseFloat(g.coords[2]))+" "+J(parseFloat(g.coords[3])):Et+=J(parseFloat(g.coords[2]))+" "+J(parseFloat(g.coords[3]))+" "+J(parseFloat(g.coords[4]))+" "+J(parseFloat(g.coords[5])),I(Et+="]"),g.matrix&&I("/Matrix ["+g.matrix.toString()+"]"),I("/Function "+X+" 0 R"),I("/Extend [true true]"),I(">>"),I("endobj")},Qh=function(g,C){var X=yn(),ct=Sn();C.push({resourcesOid:X,objectOid:ct}),g.objectNumber=ct;var kt=[];kt.push({key:"Type",value:"/Pattern"}),kt.push({key:"PatternType",value:"1"}),kt.push({key:"PaintType",value:"1"}),kt.push({key:"TilingType",value:"1"}),kt.push({key:"BBox",value:"["+g.boundingBox.map(J).join(" ")+"]"}),kt.push({key:"XStep",value:J(g.xStep)}),kt.push({key:"YStep",value:J(g.yStep)}),kt.push({key:"Resources",value:X+" 0 R"}),g.matrix&&kt.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Pr({data:g.stream,additionalKeyValues:kt,objectId:g.objectNumber}),I("endobj")},Fa=function(g){var C;for(C in Me)Me.hasOwnProperty(C)&&(Me[C]instanceof Rs?Jh(Me[C]):Me[C]instanceof ba&&Qh(Me[C],g))},Lc=function(g){for(var C in g.objectNumber=Sn(),I("<<"),g)switch(C){case"opacity":I("/ca "+mt(g[C]));break;case"stroke-opacity":I("/CA "+mt(g[C]))}I(">>"),I("endobj")},Zh=function(){var g;for(g in nn)nn.hasOwnProperty(g)&&Lc(nn[g])},Ho=function(){for(var g in I("/XObject <<"),Dn)Dn.hasOwnProperty(g)&&Dn[g].objectNumber>=0&&I("/"+g+" "+Dn[g].objectNumber+" 0 R");De.publish("putXobjectDict"),I(">>")},tf=function(){Rn.oid=Sn(),I("<<"),I("/Filter /Standard"),I("/V "+Rn.v),I("/R "+Rn.r),I("/U <"+Rn.toHexString(Rn.U)+">"),I("/O <"+Rn.toHexString(Rn.O)+">"),I("/P "+Rn.P),I(">>"),I("endobj")},Pc=function(){for(var g in I("/Font <<"),he)he.hasOwnProperty(g)&&(d===!1||d===!0&&p.hasOwnProperty(g))&&I("/"+g+" "+he[g].objectNumber+" 0 R");I(">>")},ef=function(){if(Object.keys(Me).length>0){for(var g in I("/Shading <<"),Me)Me.hasOwnProperty(g)&&Me[g]instanceof Rs&&Me[g].objectNumber>=0&&I("/"+g+" "+Me[g].objectNumber+" 0 R");De.publish("putShadingPatternDict"),I(">>")}},Oa=function(g){if(Object.keys(Me).length>0){for(var C in I("/Pattern <<"),Me)Me.hasOwnProperty(C)&&Me[C]instanceof f.TilingPattern&&Me[C].objectNumber>=0&&Me[C].objectNumber<g&&I("/"+C+" "+Me[C].objectNumber+" 0 R");De.publish("putTilingPatternDict"),I(">>")}},nf=function(){if(Object.keys(nn).length>0){var g;for(g in I("/ExtGState <<"),nn)nn.hasOwnProperty(g)&&nn[g].objectNumber>=0&&I("/"+g+" "+nn[g].objectNumber+" 0 R");De.publish("putGStateDict"),I(">>")}},cn=function(g){mr(g.resourcesOid,!0),I("<<"),I("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pc(),ef(),Oa(g.objectOid),nf(),Ho(),I(">>"),I("endobj")},Nc=function(){var g=[];Ta(),Zh(),Ia(),Fa(g),De.publish("putResources"),g.forEach(cn),cn({resourcesOid:$r,objectOid:Number.MAX_SAFE_INTEGER}),De.publish("postPutResources")},Mc=function(){De.publish("putAdditionalObjects");for(var g=0;g<at.length;g++){var C=at[g];mr(C.objId,!0),I(C.content),I("endobj")}De.publish("postPutAdditionalObjects")},Dc=function(g){xe[g.fontName]=xe[g.fontName]||{},xe[g.fontName][g.fontStyle]=g.id},Vo=function(g,C,X,ct,kt){var Et={id:"F"+(Object.keys(he).length+1).toString(10),postScriptName:g,fontName:C,fontStyle:X,encoding:ct,isStandardFont:kt||!1,metadata:{}};return De.publish("addFont",{font:Et,instance:this}),he[Et.id]=Et,Dc(Et),Et.id},rf=function(g){for(var C=0,X=bt.length;C<X;C++){var ct=Vo.call(this,g[C][0],g[C][1],g[C][2],bt[C][3],!0);d===!1&&(p[ct]=!0);var kt=g[C][0].split("-");Dc({id:ct,fontName:kt[0],fontStyle:kt[1]||""})}De.publish("addFonts",{fonts:he,dictionary:xe})},Gr=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(ct){var C=ct.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var X="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ct.message;if(!ce.console)throw new Error(X);ce.console.error(X,ct),ce.alert&&alert(X)}},g.foo.bar=g,g.foo},Ra=function(g,C){var X,ct,kt,Et,zt,Jt,ie,ve,me;if(kt=(C=C||{}).sourceEncoding||"Unicode",zt=C.outputEncoding,(C.autoencode||zt)&&he[ee].metadata&&he[ee].metadata[kt]&&he[ee].metadata[kt].encoding&&(Et=he[ee].metadata[kt].encoding,!zt&&he[ee].encoding&&(zt=he[ee].encoding),!zt&&Et.codePages&&(zt=Et.codePages[0]),typeof zt=="string"&&(zt=Et[zt]),zt)){for(ie=!1,Jt=[],X=0,ct=g.length;X<ct;X++)(ve=zt[g.charCodeAt(X)])?Jt.push(String.fromCharCode(ve)):Jt.push(g[X]),Jt[X].charCodeAt(0)>>8&&(ie=!0);g=Jt.join("")}for(X=g.length;ie===void 0&&X!==0;)g.charCodeAt(X-1)>>8&&(ie=!0),X--;if(!ie)return g;for(Jt=C.noBOM?[]:[254,255],X=0,ct=g.length;X<ct;X++){if((me=(ve=g.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(me),Jt.push(ve-(me<<8))}return String.fromCharCode.apply(void 0,Jt)},ir=f.__private__.pdfEscape=f.pdfEscape=function(g,C){return Ra(g,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Go=f.__private__.beginPage=function(g){Lt[++rn]=[],pe[rn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Ec(rn),K(Lt[W])},Tc=function(g,C){var X,ct,kt;switch(n=C||n,typeof g=="string"&&(X=y(g.toLowerCase()),Array.isArray(X)&&(ct=X[0],kt=X[1])),Array.isArray(g)&&(ct=g[0]*Ht,kt=g[1]*Ht),isNaN(ct)&&(ct=i[0],kt=i[1]),(ct>14400||kt>14400)&&(We.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ct=Math.min(14400,ct),kt=Math.min(14400,kt)),i=[ct,kt],n.substr(0,1)){case"l":kt>ct&&(i=[kt,ct]);break;case"p":ct>kt&&(i=[kt,ct])}Go(i),Bc(Jo),I(Yr),Zo!==0&&I(Zo+" J"),tl!==0&&I(tl+" j"),De.publish("addPage",{pageNumber:rn})},sf=function(g){g>0&&g<=rn&&(Lt.splice(g,1),pe.splice(g,1),rn--,W>rn&&(W=rn),this.setPage(W))},Ec=function(g){g>0&&g<=rn&&(W=g)},af=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Lt.length-1},Ic=function(g,C,X){var ct,kt=void 0;return X=X||{},g=g!==void 0?g:he[ee].fontName,C=C!==void 0?C:he[ee].fontStyle,ct=g.toLowerCase(),xe[ct]!==void 0&&xe[ct][C]!==void 0?kt=xe[ct][C]:xe[g]!==void 0&&xe[g][C]!==void 0?kt=xe[g][C]:X.disableWarning===!1&&We.warn("Unable to look up font label for font '"+g+"', '"+C+"'. Refer to getFontList() for available fonts."),kt||X.noFallback||(kt=xe.times[C])==null&&(kt=xe.times.normal),kt},of=f.__private__.putInfo=function(){var g=Sn(),C=function(ct){return ct};for(var X in u!==null&&(C=Rn.encryptor(g,0)),I("<<"),I("/Producer ("+ir(C("jsPDF "+ae.version))+")"),Yt)Yt.hasOwnProperty(X)&&Yt[X]&&I("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+ir(C(Yt[X]))+")");I("/CreationDate ("+ir(C(ot))+")"),I(">>"),I("endobj")},Yo=f.__private__.putCatalog=function(g){var C=(g=g||{}).rootDictionaryObjId||Oi;switch(Sn(),I("<<"),I("/Type /Catalog"),I("/Pages "+C+" 0 R"),vt||(vt="fullwidth"),vt){case"fullwidth":I("/OpenAction [3 0 R /FitH null]");break;case"fullheight":I("/OpenAction [3 0 R /FitV null]");break;case"fullpage":I("/OpenAction [3 0 R /Fit]");break;case"original":I("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+vt;X.substr(X.length-1)==="%"&&(vt=parseInt(vt)/100),typeof vt=="number"&&I("/OpenAction [3 0 R /XYZ null null "+mt(vt)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":I("/PageLayout /OneColumn");break;case"single":I("/PageLayout /SinglePage");break;case"two":case"twoleft":I("/PageLayout /TwoColumnLeft");break;case"tworight":I("/PageLayout /TwoColumnRight")}jt&&I("/PageMode /"+jt),De.publish("putCatalog"),I(">>"),I("endobj")},lf=f.__private__.putTrailer=function(){I("trailer"),I("<<"),I("/Size "+(st+1)),I("/Root "+st+" 0 R"),I("/Info "+(st-1)+" 0 R"),u!==null&&I("/Encrypt "+Rn.oid+" 0 R"),I("/ID [ <"+Y+"> <"+Y+"> ]"),I(">>")},cf=f.__private__.putHeader=function(){I("%PDF-"+w),I("%")},uf=f.__private__.putXRef=function(){var g="0000000000";I("xref"),I("0 "+(st+1)),I("0000000000 65535 f ");for(var C=1;C<=st;C++)typeof $[C]=="function"?I((g+$[C]()).slice(-10)+" 00000 n "):$[C]!==void 0?I((g+$[C]).slice(-10)+" 00000 n "):I("0000000000 00000 n ")},Ri=f.__private__.buildDocument=function(){tt(),K(z),De.publish("buildDocument"),cf(),ea(),Mc(),Nc(),u!==null&&tf(),of(),Yo();var g=U;return uf(),lf(),I("startxref"),I(""+g),I("%%EOF"),K(Lt[W]),z.join(`
`)},ja=f.__private__.getBlob=function(g){return new Blob([Pt(g)],{type:"application/pdf"})},Ba=f.output=f.__private__.output=Gr(function(g,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",g){case void 0:return Ri();case"save":f.save(C.filename);break;case"arraybuffer":return Pt(Ri());case"blob":return ja(Ri());case"bloburi":case"bloburl":if(ce.URL!==void 0&&typeof ce.URL.createObjectURL=="function")return ce.URL&&ce.URL.createObjectURL(ja(Ri()))||void 0;We.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ct=Ri();try{X=fp(ct)}catch{X=fp(unescape(encodeURIComponent(ct)))}return"data:application/pdf;filename="+C.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var kt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(kt=C.pdfObjectUrl,Et="");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+kt+'"'+Et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",Jt=ce.open();return Jt!==null&&Jt.document.write(zt),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',ve=ce.open();if(ve!==null){ve.document.write(ie);var me=this;ve.document.documentElement.querySelector("#pdfViewer").onload=function(){ve.document.title=C.filename,ve.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(me.output("bloburl"))}}return ve}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ce)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',en=ce.open();if(en!==null&&(en.document.write(Le),en.document.title=C.filename),en||typeof safari>"u")return en;break;case"datauri":case"dataurl":return ce.document.location.href=this.output("datauristring",C);default:return null}}),Fc=function(g){return Array.isArray(ta)===!0&&ta.indexOf(g)>-1};switch(r){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=Fc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ht=r}var Rn=null;It(),Z();var hf=function(g){return u!==null?Rn.encryptor(g,0):function(C){return C}},Oc=f.__private__.getPageInfo=f.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pe[g].objId,pageNumber:g,pageContext:pe[g]}},de=f.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in pe)if(pe[C].objId===g)break;return Oc(C)},ff=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:pe[W].objId,pageNumber:W,pageContext:pe[W]}};f.addPage=function(){return Tc.apply(this,arguments),this},f.setPage=function(){return Ec.apply(this,arguments),K.call(this,Lt[W]),this},f.insertPage=function(g){return this.addPage(),this.movePage(W,g),this},f.movePage=function(g,C){var X,ct;if(g>C){X=Lt[g],ct=pe[g];for(var kt=g;kt>C;kt--)Lt[kt]=Lt[kt-1],pe[kt]=pe[kt-1];Lt[C]=X,pe[C]=ct,this.setPage(C)}else if(g<C){X=Lt[g],ct=pe[g];for(var Et=g;Et<C;Et++)Lt[Et]=Lt[Et+1],pe[Et]=pe[Et+1];Lt[C]=X,pe[C]=ct,this.setPage(C)}return this},f.deletePage=function(){return sf.apply(this,arguments),this},f.__private__.text=f.text=function(g,C,X,ct,kt){var Et,zt,Jt,ie,ve,me,Le,en,sn,bn=(ct=ct||{}).scope||this;if(typeof g=="number"&&typeof C=="number"&&(typeof X=="string"||Array.isArray(X))){var jn=X;X=C,C=g,g=jn}if(arguments[3]instanceof oe?(G("The transform parameter of text() with a Matrix value"),sn=kt):(Jt=arguments[4],ie=arguments[5],Re(Le=arguments[3])==="object"&&Le!==null||(typeof Jt=="string"&&(ie=Jt,Jt=null),typeof Le=="string"&&(ie=Le,Le=null),typeof Le=="number"&&(Jt=Le,Le=null),ct={flags:Le,angle:Jt,align:ie})),isNaN(C)||isNaN(X)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return bn;var An="",Kr=!1,gr=typeof ct.lineHeightFactor=="number"?ct.lineHeightFactor:ra,yi=bn.internal.scaleFactor;function Hc(Ve){return Ve=Ve.split("	").join(Array(ct.TabLen||9).join(" ")),ir(Ve,Le)}function sl(Ve){for(var Ge,hn=Ve.concat(),_n=[],Wi=hn.length;Wi--;)typeof(Ge=hn.shift())=="string"?_n.push(Ge):Array.isArray(Ve)&&(Ge.length===1||Ge[1]===void 0&&Ge[2]===void 0)?_n.push(Ge[0]):_n.push([Ge[0],Ge[1],Ge[2]]);return _n}function al(Ve,Ge){var hn;if(typeof Ve=="string")hn=Ge(Ve)[0];else if(Array.isArray(Ve)){for(var _n,Wi,pl=Ve.concat(),to=[],Xc=pl.length;Xc--;)typeof(_n=pl.shift())=="string"?to.push(Ge(_n)[0]):Array.isArray(_n)&&typeof _n[0]=="string"&&(Wi=Ge(_n[0],_n[1],_n[2]),to.push([Wi[0],Wi[1],Wi[2]]));hn=to}return hn}var Ha=!1,ol=!0;if(typeof g=="string")Ha=!0;else if(Array.isArray(g)){var ll=g.concat();zt=[];for(var Va,Tn=ll.length;Tn--;)(typeof(Va=ll.shift())!="string"||Array.isArray(Va)&&typeof Va[0]!="string")&&(ol=!1);Ha=ol}if(Ha===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Ga=_t/bn.internal.scaleFactor,Ya=Ga*(gr-1);switch(ct.baseline){case"bottom":X-=Ya;break;case"top":X+=Ga-Ya;break;case"hanging":X+=Ga-2*Ya;break;case"middle":X+=Ga/2-Ya}if((me=ct.maxWidth||0)>0&&(typeof g=="string"?g=bn.splitTextToSize(g,me):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Ve,Ge){return Ve.concat(bn.splitTextToSize(Ge,me))},[]))),Et={text:g,x:C,y:X,options:ct,mutex:{pdfEscape:ir,activeFontKey:ee,fonts:he,activeFontSize:_t}},De.publish("preProcessText",Et),g=Et.text,Jt=(ct=Et.options).angle,!(sn instanceof oe)&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,ct.rotationDirection===0&&(Jt=-Jt),N===x.ADVANCED&&(Jt=-Jt);var Ka=Math.cos(Jt),cl=Math.sin(Jt);sn=new oe(Ka,cl,-cl,Ka,0,0)}else Jt&&Jt instanceof oe&&(sn=Jt);N!==x.ADVANCED||sn||(sn=di),(ve=ct.charSpace||Wa)!==void 0&&(An+=J(B(ve))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(en=ct.horizontalScale)!==void 0&&(An+=J(100*en)+` Tz
`),ct.lang;var sr=-1,kf=ct.renderingMode!==void 0?ct.renderingMode:ct.stroke,ul=bn.internal.getCurrentPageInfo().pageContext;switch(kf){case 0:case!1:case"fill":sr=0;break;case 1:case!0:case"stroke":sr=1;break;case 2:case"fillThenStroke":sr=2;break;case 3:case"invisible":sr=3;break;case 4:case"fillAndAddForClipping":sr=4;break;case 5:case"strokeAndAddPathForClipping":sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sr=6;break;case 7:case"addToPathForClipping":sr=7}var Vc=ul.usedRenderingMode!==void 0?ul.usedRenderingMode:-1;sr!==-1?An+=sr+` Tr
`:Vc!==-1&&(An+=`0 Tr
`),sr!==-1&&(ul.usedRenderingMode=sr),ie=ct.align||"left";var Nr,Xa=_t*gr,Gc=bn.internal.pageSize.getWidth(),Yc=he[ee];ve=ct.charSpace||Wa,me=ct.maxWidth||0,Le=Object.assign({autoencode:!0,noBOM:!0},ct.flags);var gs=[],aa=function(Ve){return bn.getStringUnitWidth(Ve,{font:Yc,charSpace:ve,fontSize:_t,doKerning:!1})*_t/yi};if(Object.prototype.toString.call(g)==="[object Array]"){var ar;zt=sl(g),ie!=="left"&&(Nr=zt.map(aa));var Kn,vs=0;if(ie==="right"){C-=Nr[0],g=[],Tn=zt.length;for(var Bi=0;Bi<Tn;Bi++)Bi===0?(Kn=vi(C),ar=ji(X)):(Kn=B(vs-Nr[Bi]),ar=-Xa),g.push([zt[Bi],Kn,ar]),vs=Nr[Bi]}else if(ie==="center"){C-=Nr[0]/2,g=[],Tn=zt.length;for(var zi=0;zi<Tn;zi++)zi===0?(Kn=vi(C),ar=ji(X)):(Kn=B((vs-Nr[zi])/2),ar=-Xa),g.push([zt[zi],Kn,ar]),vs=Nr[zi]}else if(ie==="left"){g=[],Tn=zt.length;for(var Ja=0;Ja<Tn;Ja++)g.push(zt[Ja])}else if(ie==="justify"&&Yc.encoding==="Identity-H"){g=[],Tn=zt.length,me=me!==0?me:Gc;for(var qi=0,un=0;un<Tn;un++)if(ar=un===0?ji(X):-Xa,Kn=un===0?vi(C):qi,un<Tn-1){var hl=B((me-Nr[un])/(zt[un].split(" ").length-1)),Xn=zt[un].split(" ");g.push([Xn[0]+" ",Kn,ar]),qi=0;for(var Mr=1;Mr<Xn.length;Mr++){var Qa=(aa(Xn[Mr-1]+" "+Xn[Mr])-aa(Xn[Mr]))*yi+hl;Mr==Xn.length-1?g.push([Xn[Mr],Qa,0]):g.push([Xn[Mr]+" ",Qa,0]),qi-=Qa}}else g.push([zt[un],Kn,ar]);g.push(["",qi,0])}else{if(ie!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Tn=zt.length,me=me!==0?me:Gc,un=0;un<Tn;un++)ar=un===0?ji(X):-Xa,Kn=un===0?vi(C):0,un<Tn-1?gs.push(J(B((me-Nr[un])/(zt[un].split(" ").length-1)))):gs.push(0),g.push([zt[un],Kn,ar])}}var Kc=typeof ct.R2L=="boolean"?ct.R2L:Mt;Kc===!0&&(g=al(g,function(Ve,Ge,hn){return[Ve.split("").reverse().join(""),Ge,hn]})),Et={text:g,x:C,y:X,options:ct,mutex:{pdfEscape:ir,activeFontKey:ee,fonts:he,activeFontSize:_t}},De.publish("postProcessText",Et),g=Et.text,Kr=Et.mutex.isHex||!1;var fl=he[ee].encoding;fl!=="WinAnsiEncoding"&&fl!=="StandardEncoding"||(g=al(g,function(Ve,Ge,hn){return[Hc(Ve),Ge,hn]})),zt=sl(g),g=[];for(var oa,la,ys,ca=0,Za=1,ua=Array.isArray(zt[0])?Za:ca,bs="",dl=function(Ve,Ge,hn){var _n="";return hn instanceof oe?(hn=typeof ct.angle=="number"?Ur(hn,new oe(1,0,0,1,Ve,Ge)):Ur(new oe(1,0,0,1,Ve,Ge),hn),N===x.ADVANCED&&(hn=Ur(new oe(1,0,0,-1,0,0),hn)),_n=hn.join(" ")+` Tm
`):_n=J(Ve)+" "+J(Ge)+` Td
`,_n},Dr=0;Dr<zt.length;Dr++){switch(bs="",ua){case Za:ys=(Kr?"<":"(")+zt[Dr][0]+(Kr?">":")"),oa=parseFloat(zt[Dr][1]),la=parseFloat(zt[Dr][2]);break;case ca:ys=(Kr?"<":"(")+zt[Dr]+(Kr?">":")"),oa=vi(C),la=ji(X)}gs!==void 0&&gs[Dr]!==void 0&&(bs=gs[Dr]+` Tw
`),Dr===0?g.push(bs+dl(oa,la,sn)+ys):ua===ca?g.push(bs+ys):ua===Za&&g.push(bs+dl(oa,la,sn)+ys)}g=ua===ca?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Tr=`BT
/`;return Tr+=ee+" "+_t+` Tf
`,Tr+=J(_t*gr)+` TL
`,Tr+=ia+`
`,Tr+=An,Tr+=g,I(Tr+="ET"),p[ee]=!0,bn};var df=f.__private__.clip=f.clip=function(g){return I(g==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return df("evenodd")},f.__private__.discardPath=f.discardPath=function(){return I("n"),this};var gi=f.__private__.isValidStyle=function(g){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(C=!0),C};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(g){return gi(g)&&(c=g),this};var Rc=f.__private__.getStyle=f.getStyle=function(g){var C=c;switch(g){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=g}return C},jc=f.close=function(){return I("h"),this};f.stroke=function(){return I("S"),this},f.fill=function(g){return za("f",g),this},f.fillEvenOdd=function(g){return za("f*",g),this},f.fillStroke=function(g){return za("B",g),this},f.fillStrokeEvenOdd=function(g){return za("B*",g),this};var za=function(g,C){Re(C)==="object"?mf(C,g):I(g)},Ko=function(g){g===null||N===x.ADVANCED&&g===void 0||(g=Rc(g),I(g))};function pf(g,C,X,ct,kt){var Et=new ba(C||this.boundingBox,X||this.xStep,ct||this.yStep,this.gState,kt||this.matrix);Et.stream=this.stream;var zt=g+"$$"+this.cloneIndex+++"$$";return rr(zt,Et),Et}var mf=function(g,C){var X=Zs[g.key],ct=Me[X];if(ct instanceof Rs)I("q"),I(gf(C)),ct.gState&&f.setGState(ct.gState),I(g.matrix.toString()+" cm"),I("/"+X+" sh"),I("Q");else if(ct instanceof ba){var kt=new oe(1,0,0,-1,0,ms());g.matrix&&(kt=kt.multiply(g.matrix||di),X=pf.call(ct,g.key,g.boundingBox,g.xStep,g.yStep,kt).id),I("q"),I("/Pattern cs"),I("/"+X+" scn"),ct.gState&&f.setGState(ct.gState),I(C),I("Q")}},gf=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xo=f.moveTo=function(g,C){return I(J(B(g))+" "+J(M(C))+" m"),this},na=f.lineTo=function(g,C){return I(J(B(g))+" "+J(M(C))+" l"),this},ds=f.curveTo=function(g,C,X,ct,kt,Et){return I([J(B(g)),J(M(C)),J(B(X)),J(M(ct)),J(B(kt)),J(M(Et)),"c"].join(" ")),this};f.__private__.line=f.line=function(g,C,X,ct,kt){if(isNaN(g)||isNaN(C)||isNaN(X)||isNaN(ct)||!gi(kt))throw new Error("Invalid arguments passed to jsPDF.line");return N===x.COMPAT?this.lines([[X-g,ct-C]],g,C,[1,1],kt||"S"):this.lines([[X-g,ct-C]],g,C,[1,1]).stroke()},f.__private__.lines=f.lines=function(g,C,X,ct,kt,Et){var zt,Jt,ie,ve,me,Le,en,sn,bn,jn,An,Kr;if(typeof g=="number"&&(Kr=X,X=C,C=g,g=Kr),ct=ct||[1,1],Et=Et||!1,isNaN(C)||isNaN(X)||!Array.isArray(g)||!Array.isArray(ct)||!gi(kt)||typeof Et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xo(C,X),zt=ct[0],Jt=ct[1],ve=g.length,jn=C,An=X,ie=0;ie<ve;ie++)(me=g[ie]).length===2?(jn=me[0]*zt+jn,An=me[1]*Jt+An,na(jn,An)):(Le=me[0]*zt+jn,en=me[1]*Jt+An,sn=me[2]*zt+jn,bn=me[3]*Jt+An,jn=me[4]*zt+jn,An=me[5]*Jt+An,ds(Le,en,sn,bn,jn,An));return Et&&jc(),Ko(kt),this},f.path=function(g){for(var C=0;C<g.length;C++){var X=g[C],ct=X.c;switch(X.op){case"m":Xo(ct[0],ct[1]);break;case"l":na(ct[0],ct[1]);break;case"c":ds.apply(this,ct);break;case"h":jc()}}return this},f.__private__.rect=f.rect=function(g,C,X,ct,kt){if(isNaN(g)||isNaN(C)||isNaN(X)||isNaN(ct)||!gi(kt))throw new Error("Invalid arguments passed to jsPDF.rect");return N===x.COMPAT&&(ct=-ct),I([J(B(g)),J(M(C)),J(B(X)),J(B(ct)),"re"].join(" ")),Ko(kt),this},f.__private__.triangle=f.triangle=function(g,C,X,ct,kt,Et,zt){if(isNaN(g)||isNaN(C)||isNaN(X)||isNaN(ct)||isNaN(kt)||isNaN(Et)||!gi(zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-g,ct-C],[kt-X,Et-ct],[g-kt,C-Et]],g,C,[1,1],zt,!0),this},f.__private__.roundedRect=f.roundedRect=function(g,C,X,ct,kt,Et,zt){if(isNaN(g)||isNaN(C)||isNaN(X)||isNaN(ct)||isNaN(kt)||isNaN(Et)||!gi(zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return kt=Math.min(kt,.5*X),Et=Math.min(Et,.5*ct),this.lines([[X-2*kt,0],[kt*Jt,0,kt,Et-Et*Jt,kt,Et],[0,ct-2*Et],[0,Et*Jt,-kt*Jt,Et,-kt,Et],[2*kt-X,0],[-kt*Jt,0,-kt,-Et*Jt,-kt,-Et],[0,2*Et-ct],[0,-Et*Jt,kt*Jt,-Et,kt,-Et]],g+kt,C,[1,1],zt,!0),this},f.__private__.ellipse=f.ellipse=function(g,C,X,ct,kt){if(isNaN(g)||isNaN(C)||isNaN(X)||isNaN(ct)||!gi(kt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Et=4/3*(Math.SQRT2-1)*X,zt=4/3*(Math.SQRT2-1)*ct;return Xo(g+X,C),ds(g+X,C-zt,g+Et,C-ct,g,C-ct),ds(g-Et,C-ct,g-X,C-zt,g-X,C),ds(g-X,C+zt,g-Et,C+ct,g,C+ct),ds(g+Et,C+ct,g+X,C+zt,g+X,C),Ko(kt),this},f.__private__.circle=f.circle=function(g,C,X,ct){if(isNaN(g)||isNaN(C)||isNaN(X)||!gi(ct))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,C,X,X,ct)},f.setFont=function(g,C,X){return X&&(C=it(C,X)),ee=Ic(g,C,{disableWarning:!1}),this};var vf=f.__private__.getFont=f.getFont=function(){return he[Ic.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var g,C,X={};for(g in xe)if(xe.hasOwnProperty(g))for(C in X[g]=[],xe[g])xe[g].hasOwnProperty(C)&&X[g].push(C);return X},f.addFont=function(g,C,X,ct,kt){var Et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Et.indexOf(arguments[3])!==-1?kt=arguments[3]:arguments[3]&&Et.indexOf(arguments[3])==-1&&(X=it(X,ct)),kt=kt||"Identity-H",Vo.call(this,g,C,X,kt)};var ra,Jo=t.lineWidth||.200025,qa=f.__private__.getLineWidth=f.getLineWidth=function(){return Jo},Bc=f.__private__.setLineWidth=f.setLineWidth=function(g){return Jo=g,I(J(B(g))+" w"),this};f.__private__.setLineDash=ae.API.setLineDash=ae.API.setLineDashPattern=function(g,C){if(g=g||[],C=C||0,isNaN(C)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(X){return J(B(X))}).join(" "),C=J(B(C)),I("["+g+"] "+C+" d"),this};var zc=f.__private__.getLineHeight=f.getLineHeight=function(){return _t*ra};f.__private__.getLineHeight=f.getLineHeight=function(){return _t*ra};var qc=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(ra=g),this},Wc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ra};qc(t.lineHeight);var vi=f.__private__.getHorizontalCoordinate=function(g){return B(g)},ji=f.__private__.getVerticalCoordinate=function(g){return N===x.ADVANCED?g:pe[W].mediaBox.topRightY-pe[W].mediaBox.bottomLeftY-B(g)},yf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(g){return J(vi(g))},ps=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(g){return J(ji(g))},Yr=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Hr(Yr)},f.__private__.setStrokeColor=f.setDrawColor=function(g,C,X,ct){return Yr=Vr({ch1:g,ch2:C,ch3:X,ch4:ct,pdfColorType:"draw",precision:2}),I(Yr),this};var Qo=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Hr(Qo)},f.__private__.setFillColor=f.setFillColor=function(g,C,X,ct){return Qo=Vr({ch1:g,ch2:C,ch3:X,ch4:ct,pdfColorType:"fill",precision:2}),I(Qo),this};var ia=t.textColor||"0 g",bf=f.__private__.getTextColor=f.getTextColor=function(){return Hr(ia)};f.__private__.setTextColor=f.setTextColor=function(g,C,X,ct){return ia=Vr({ch1:g,ch2:C,ch3:X,ch4:ct,pdfColorType:"text",precision:3}),this};var Wa=t.charSpace,wf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Wa||0)};f.__private__.setCharSpace=f.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wa=g,this};var Zo=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(g){var C=f.CapJoinStyles[g];if(C===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zo=C,I(C+" J"),this};var tl=0;f.__private__.setLineJoin=f.setLineJoin=function(g){var C=f.CapJoinStyles[g];if(C===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tl=C,I(C+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return I(J(B(g))+" M"),this},f.GState=Aa,f.setGState=function(g){(g=typeof g=="string"?nn[Wr[g]]:Uc(null,g)).equals(Fi)||(I("/"+g.id+" gs"),Fi=g)};var Uc=function(g,C){if(!g||!Wr[g]){var X=!1;for(var ct in nn)if(nn.hasOwnProperty(ct)&&nn[ct].equals(C)){X=!0;break}if(X)C=nn[ct];else{var kt="GS"+(Object.keys(nn).length+1).toString(10);nn[kt]=C,C.id=kt}return g&&(Wr[g]=C.id),De.publish("addGState",C),C}};f.addGState=function(g,C){return Uc(g,C),this},f.saveGraphicsState=function(){return I("q"),Mn.push({key:ee,size:_t,color:ia}),this},f.restoreGraphicsState=function(){I("Q");var g=Mn.pop();return ee=g.key,_t=g.size,ia=g.color,Fi=null,this},f.setCurrentTransformationMatrix=function(g){return I(g.toString()+" cm"),this},f.comment=function(g){return I("#"+g),this};var Ua=function(g,C){var X=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(Et){isNaN(Et)||(X=parseFloat(Et))}});var ct=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ct},set:function(Et){isNaN(Et)||(ct=parseFloat(Et))}});var kt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return kt},set:function(Et){kt=Et.toString()}}),this},el=function(g,C,X,ct){Ua.call(this,g,C),this.type="rect";var kt=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return kt},set:function(zt){isNaN(zt)||(kt=parseFloat(zt))}});var Et=ct||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Et},set:function(zt){isNaN(zt)||(Et=parseFloat(zt))}}),this},nl=function(){this.page=rn,this.currentPage=W,this.pages=Lt.slice(0),this.pagesContext=pe.slice(0),this.x=Ae,this.y=fe,this.matrix=vn,this.width=sa(W),this.height=ms(W),this.outputDestination=O,this.id="",this.objectNumber=-1};nl.prototype.restore=function(){rn=this.page,W=this.currentPage,pe=this.pagesContext,Lt=this.pages,Ae=this.x,fe=this.y,vn=this.matrix,rl(W,this.width),il(W,this.height),O=this.outputDestination};var $c=function(g,C,X,ct,kt){fi.push(new nl),rn=W=0,Lt=[],Ae=g,fe=C,vn=kt,Go([X,ct])},xf=function(g){if(hi[g])fi.pop().restore();else{var C=new nl,X="Xo"+(Object.keys(Dn).length+1).toString(10);C.id=X,hi[g]=X,Dn[X]=C,De.publish("addFormObject",C),fi.pop().restore()}};for(var $a in f.beginFormObject=function(g,C,X,ct,kt){return $c(g,C,X,ct,kt),this},f.endFormObject=function(g){return xf(g),this},f.doFormObject=function(g,C){var X=Dn[hi[g]];return I("q"),I(C.toString()+" cm"),I("/"+X.id+" Do"),I("Q"),this},f.getFormObject=function(g){var C=Dn[hi[g]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},f.save=function(g,C){return g=g||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(ga(ja(Ri()),g),typeof ga.unload=="function"&&ce.setTimeout&&setTimeout(ga.unload,911),this):new Promise(function(X,ct){try{var kt=ga(ja(Ri()),g);typeof ga.unload=="function"&&ce.setTimeout&&setTimeout(ga.unload,911),X(kt)}catch(Et){ct(Et.message)}})},ae.API)ae.API.hasOwnProperty($a)&&($a==="events"&&ae.API.events.length?function(g,C){var X,ct,kt;for(kt=C.length-1;kt!==-1;kt--)X=C[kt][0],ct=C[kt][1],g.subscribe.apply(g,[X].concat(typeof ct=="function"?[ct]:ct))}(De,ae.API.events):f[$a]=ae.API[$a]);var sa=f.getPageWidth=function(g){return(pe[g=g||W].mediaBox.topRightX-pe[g].mediaBox.bottomLeftX)/Ht},rl=f.setPageWidth=function(g,C){pe[g].mediaBox.topRightX=C*Ht+pe[g].mediaBox.bottomLeftX},ms=f.getPageHeight=function(g){return(pe[g=g||W].mediaBox.topRightY-pe[g].mediaBox.bottomLeftY)/Ht},il=f.setPageHeight=function(g,C){pe[g].mediaBox.topRightY=C*Ht+pe[g].mediaBox.bottomLeftY};return f.internal={pdfEscape:ir,getStyle:Rc,getFont:vf,getFontSize:Nt,getCharSpace:wf,getTextColor:bf,getLineHeight:zc,getLineHeightFactor:Wc,getLineWidth:qa,write:St,getHorizontalCoordinate:vi,getVerticalCoordinate:ji,getCoordinateString:yf,getVerticalCoordinateString:ps,collections:{},newObject:Sn,newAdditionalObject:Ma,newObjectDeferred:yn,newObjectDeferredBegin:mr,getFilters:pi,putStream:Pr,events:De,scaleFactor:Ht,pageSize:{getWidth:function(){return sa(W)},setWidth:function(g){rl(W,g)},getHeight:function(){return ms(W)},setHeight:function(g){il(W,g)}},encryptionOptions:u,encryption:Rn,getEncryptor:hf,output:Ba,getNumberOfPages:af,pages:Lt,out:I,f2:mt,f3:E,getPageInfo:Oc,getPageInfoByObjId:de,getCurrentPageInfo:ff,getPDFVersion:v,Point:Ua,Rectangle:el,Matrix:oe,hasHotfix:Fc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return sa(W)},set:function(g){rl(W,g)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ms(W)},set:function(g){il(W,g)},enumerable:!0,configurable:!0}),rf.call(f,bt),ee="F1",Tc(i,n),De.publish("initialized"),f}po.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},po.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},po.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},po.prototype.processOwnerPassword=function(t,e){return pp(dp(e).substr(0,5),t)},po.prototype.encryptor=function(t,e){var n=dp(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return pp(n,r)}},Aa.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Re(t)!==Re(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ae.API={events:[]},ae.version="3.0.1";var on=ae.API,y1=1,Na=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ge=function(t){return t.toFixed(2)},Ns=function(t){return t.toFixed(5)};on.__acroform__={};var pr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Wm=function(t){return t*y1},ki=function(t){var e=new _v,n=Zt.internal.getHeight(t)||0,r=Zt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ge(r)),Number(ge(n))],e},fP=on.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},dP=on.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},pP=on.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},dn=on.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return pP(t,e-1)},pn=on.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fP(t,e-1)},mn=on.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dP(t,e-1)},mP=on.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(ge(l.lowerLeft_X)),Number(ge(l.lowerLeft_Y)),Number(ge(l.upperRight_X)),Number(ge(l.upperRight_Y))]},gP=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=mp(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ge(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ki(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},mp=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,a=Zt.internal.getHeight(t)||0;a=a<0?-a:a;var o=Zt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(E,B,Q){if(E+1<i.length){var M=B+" "+i[E+1][0];return Pu(M,t,Q).width<=o-4}return!1};s++;t:for(;s>0;){e="",s--;var c,u,d=Pu("3",t,s).height,p=t.multiline?a-s:(a-d)/2,f=p+=2,w=0,v=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pu(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",x=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var L=!1;if(i[N].length!==1&&k!==i[N].length-1){if((d+2)*(x+2)+2>a)continue t;y+=i[N][k],L=!0,v=N,N--}else{y=(y+=i[N][k]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var j=parseInt(N),it=l(j,y,s),J=N>=i.length-1;if(it&&!J){y+=" ",k=0;continue}if(it||J){if(J)v=j;else if(t.multiline&&(d+2)*(x+2)+2>a)continue t}else{if(!t.multiline||(d+2)*(x+2)+2>a)continue t;v=j}}for(var G="",nt=w;nt<=v;nt++){var mt=i[nt];if(t.multiline){if(nt===v){G+=mt[k]+" ",k=(k+1)%mt.length;continue}if(nt===w){G+=mt[mt.length-1]+" ";continue}}G+=mt[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,u=Pu(G,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=ge(c)+" "+ge(f)+` Td
`,e+="("+Na(G)+`) Tj
`,e+=-ge(c)+` 0 Td
`,f=-(s+2),u=0,w=L?v:v+1,x++,y=""}break}return r.text=e,r.fontSize=s,r},Pu=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},vP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yP=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},bP=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Re(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},wP=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ci.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(vP)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");y1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Av,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&yP(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=mP(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Zt.createDefaultAppearanceStream(o),Re(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=gP(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var w=f[a];typeof w=="function"&&(w=w.call(i,o)),d+="/"+a+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=f)=="function"&&(w=w.call(i,o)),d+="/"+a+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&bP(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Sv=on.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Re(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Na(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dd=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Na(r(t))+")"},Ci=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ci.prototype.toString=function(){return this.objId+" 0 R"},Ci.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ci.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Sv(i,this.objId,this.scope)}):i instanceof Ci?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var _v=function(){Ci.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};pr(_v,Ci);var Av=function(){Ci.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Na(n(t))+")"}},set:function(n){t=n}})};pr(Av,Ci);var ci=function t(){Ci.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dn(e,3)},set:function(y){y?this.F=pn(e,3):this.F=mn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof gh)return;s="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Na(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/y1:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof gh||this instanceof Sa))return dd(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Nn?p:dd(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Nn?y:y.substr(0,1)==="("?lo(y.substr(1,y.length-2)):lo(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nn?lo(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Nn?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Nn?f:dd(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Nn?y:y.substr(0,1)==="("?lo(y.substr(1,y.length-2)):lo(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nn?lo(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Nn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(y){w=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,1)},set:function(y){y?this.Ff=pn(this.Ff,1):this.Ff=mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,2)},set:function(y){y?this.Ff=pn(this.Ff,2):this.Ff=mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,3)},set:function(y){y?this.Ff=pn(this.Ff,3):this.Ff=mn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');k=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(k){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};pr(ci,Ci);var Po=function(){ci.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Sv(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,18)},set:function(n){n?this.Ff=pn(this.Ff,18):this.Ff=mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=pn(this.Ff,19):this.Ff=mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,20)},set:function(n){n?(this.Ff=pn(this.Ff,20),e.sort()):this.Ff=mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,22)},set:function(n){n?this.Ff=pn(this.Ff,22):this.Ff=mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(n){n?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,27)},set:function(n){n?this.Ff=pn(this.Ff,27):this.Ff=mn(this.Ff,27)}}),this.hasAppearanceStream=!1};pr(Po,ci);var No=function(){Po.call(this),this.fontName="helvetica",this.combo=!1};pr(No,Po);var Mo=function(){No.call(this),this.combo=!0};pr(Mo,No);var Hu=function(){Mo.call(this),this.edit=!0};pr(Hu,Mo);var Nn=function(){ci.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,15)},set:function(n){n?this.Ff=pn(this.Ff,15):this.Ff=mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,16)},set:function(n){n?this.Ff=pn(this.Ff,16):this.Ff=mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,17)},set:function(n){n?this.Ff=pn(this.Ff,17):this.Ff=mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(n){n?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Na(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Re(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};pr(Nn,ci);var Vu=function(){Nn.call(this),this.pushButton=!0};pr(Vu,Nn);var Do=function(){Nn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pr(Do,Nn);var gh=function(){var t,e;ci.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Na(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Re(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pr(gh,ci),Do.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Do.prototype.createOption=function(t){var e=new gh;return e.Parent=this,e.optionName=t,this.Kids.push(e),xP.call(this.scope,e),e};var Gu=function(){Nn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Zt.CheckBox.createAppearanceStream()};pr(Gu,Nn);var Sa=function(){ci.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,13)},set:function(e){e?this.Ff=pn(this.Ff,13):this.Ff=mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,21)},set:function(e){e?this.Ff=pn(this.Ff,21):this.Ff=mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(e){e?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,24)},set:function(e){e?this.Ff=pn(this.Ff,24):this.Ff=mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,25)},set:function(e){e?this.Ff=pn(this.Ff,25):this.Ff=mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(e){e?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pr(Sa,ci);var Yu=function(){Sa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,14)},set:function(t){t?this.Ff=pn(this.Ff,14):this.Ff=mn(this.Ff,14)}}),this.password=!0};pr(Yu,Sa);var Zt={CheckBox:{createAppearanceStream:function(){return{N:{On:Zt.CheckBox.YesNormal},D:{On:Zt.CheckBox.YesPushDown,Off:Zt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=mp(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+ge(Zt.internal.getWidth(t))+" "+ge(Zt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ge(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Zt.internal.getHeight(t),a=Zt.internal.getWidth(t),o=mp(t,t.caption);return i.push("1 g"),i.push("0 0 "+ge(a)+" "+ge(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ge(a-1)+" "+ge(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ge(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ge(Zt.internal.getWidth(t))+" "+ge(Zt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Zt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Zt.RadioButton.Circle.YesNormal,e.D[t]=Zt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Zt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ns(Zt.internal.getWidth(t)/2)+" "+Ns(Zt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Zt.internal.Bezier_C).toFixed(5)),a=Number((r*Zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ns(Zt.internal.getWidth(t)/2)+" "+Ns(Zt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ns(Zt.internal.getWidth(t)/2)+" "+Ns(Zt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ns(Zt.internal.getWidth(t)/2)+" "+Ns(Zt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Zt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Zt.RadioButton.Cross.YesNormal,e.D[t]=Zt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Zt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+ge(Zt.internal.getWidth(t)-2)+" "+ge(Zt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ge(r.x1.x)+" "+ge(r.x1.y)+" m"),n.push(ge(r.x2.x)+" "+ge(r.x2.y)+" l"),n.push(ge(r.x4.x)+" "+ge(r.x4.y)+" m"),n.push(ge(r.x3.x)+" "+ge(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=Zt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+ge(Zt.internal.getWidth(t))+" "+ge(Zt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ge(Zt.internal.getWidth(t)-2)+" "+ge(Zt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ge(n.x1.x)+" "+ge(n.x1.y)+" m"),r.push(ge(n.x2.x)+" "+ge(n.x2.y)+" l"),r.push(ge(n.x4.x)+" "+ge(n.x4.y)+" m"),r.push(ge(n.x3.x)+" "+ge(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ge(Zt.internal.getWidth(t))+" "+ge(Zt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Zt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Zt.internal.getWidth(t),n=Zt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Zt.internal.getWidth=function(t){var e=0;return Re(t)==="object"&&(e=Wm(t.Rect[2])),e},Zt.internal.getHeight=function(t){var e=0;return Re(t)==="object"&&(e=Wm(t.Rect[3])),e};var xP=on.addField=function(t){if(wP(this,t),!(t instanceof ci))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};on.AcroFormChoiceField=Po,on.AcroFormListBox=No,on.AcroFormComboBox=Mo,on.AcroFormEditBox=Hu,on.AcroFormButton=Nn,on.AcroFormPushButton=Vu,on.AcroFormRadioButton=Do,on.AcroFormCheckBox=Gu,on.AcroFormTextField=Sa,on.AcroFormPasswordField=Yu,on.AcroFormAppearance=Zt,on.AcroForm={ChoiceField:Po,ListBox:No,ComboBox:Mo,EditBox:Hu,Button:Nn,PushButton:Vu,RadioButton:Do,CheckBox:Gu,TextField:Sa,PasswordField:Yu,Appearance:Zt},ae.AcroForm={ChoiceField:Po,ListBox:No,ComboBox:Mo,EditBox:Hu,Button:Nn,PushButton:Vu,RadioButton:Do,CheckBox:Gu,TextField:Sa,PasswordField:Yu,Appearance:Zt};ae.AcroForm;function Cv(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(E,B){var Q,M,ot,Y,rt,Z=e;if((B=B||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(it(E))for(rt in n)for(ot=n[rt],Q=0;Q<ot.length;Q+=1){for(Y=!0,M=0;M<ot[Q].length;M+=1)if(ot[Q][M]!==void 0&&ot[Q][M]!==E[M]){Y=!1;break}if(Y===!0){Z=rt;break}}else for(rt in n)for(ot=n[rt],Q=0;Q<ot.length;Q+=1){for(Y=!0,M=0;M<ot[Q].length;M+=1)if(ot[Q][M]!==void 0&&ot[Q][M]!==E.charCodeAt(M)){Y=!1;break}if(Y===!0){Z=rt;break}}return Z===e&&B!==e&&(Z=B),Z},i=function E(B){for(var Q=this.internal.write,M=this.internal.putStream,ot=(0,this.internal.getFilters)();ot.indexOf("FlateEncode")!==-1;)ot.splice(ot.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:B.width}),Y.push({key:"Height",value:B.height}),B.colorSpace===k.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===k.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var rt="",Z=0,lt=B.transparency.length;Z<lt;Z++)rt+=B.transparency[Z]+" "+B.transparency[Z]+" ";Y.push({key:"Mask",value:"["+rt+"]"})}B.sMask!==void 0&&Y.push({key:"SMask",value:B.objectId+1+" 0 R"});var ft=B.filter!==void 0?["/"+B.filter]:void 0;if(M({data:B.data,additionalKeyValues:Y,alreadyAppliedFilters:ft,objectId:B.objectId}),Q("endobj"),"sMask"in B&&B.sMask!==void 0){var It="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,P={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:It,data:B.sMask};"filter"in B&&(P.filter=B.filter),E.call(this,P)}if(B.colorSpace===k.INDEXED){var W=this.internal.newObject();M({data:G(new Uint8Array(B.palette)),objectId:W}),Q("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var B in E)i.call(this,E[B])},a=function(){var E,B=this.internal.collections.addImage_images,Q=this.internal.write;for(var M in B)Q("/I"+(E=B[M]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof t["process"+E.toUpperCase()]=="function"},d=function(E){return Re(E)==="object"&&E.nodeType===1},p=function(E,B){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var Q=""+E.getAttribute("src");if(Q.indexOf("data:image/")===0)return Ul(unescape(Q).split("base64,").pop());var M=t.loadFile(Q,!0);if(M!==void 0)return M}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ot;switch(B){case"PNG":ot="image/png";break;case"WEBP":ot="image/webp";break;case"JPEG":case"JPG":default:ot="image/jpeg"}return Ul(E.toDataURL(ot,1).split("base64,").pop())}},f=function(E){var B=this.internal.collections.addImage_images;if(B){for(var Q in B)if(E===B[Q].alias)return B[Q]}},w=function(E,B,Q){return E||B||(E=-96,B=-96),E<0&&(E=-1*Q.width*72/E/this.internal.scaleFactor),B<0&&(B=-1*Q.height*72/B/this.internal.scaleFactor),E===0&&(E=B*Q.width/Q.height),B===0&&(B=E*Q.height/Q.width),[E,B]},v=function(E,B,Q,M,ot,Y){var rt=w.call(this,Q,M,ot),Z=this.internal.getCoordinateString,lt=this.internal.getVerticalCoordinateString,ft=l.call(this);if(Q=rt[0],M=rt[1],ft[ot.index]=ot,Y){Y*=Math.PI/180;var It=Math.cos(Y),P=Math.sin(Y),W=function(et){return et.toFixed(4)},H=[W(It),W(P),W(-1*P),W(It),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,Z(E),lt(B+M),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([Z(Q),"0","0",Z(M),"0","0","cm"].join(" "))):this.internal.write([Z(Q),"0","0",Z(M),Z(E),lt(B+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ot.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(E){var B,Q,M=0;if(typeof E=="string")for(Q=E.length,B=0;B<Q;B++)M=(M<<5)-M+E.charCodeAt(B),M|=0;else if(it(E))for(Q=E.byteLength/2,B=0;B<Q;B++)M=(M<<5)-M+E[B],M|=0;return M},N=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var B=!0;return E.length===0&&(B=!1),E.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(B=!1),B},L=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var B=E.indexOf(",");return B<0?null:E.substring(0,B).trim().endsWith("base64")?E.substring(B+1):null},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return j()&&E instanceof ArrayBuffer};var it=t.__addimage__.isArrayBufferView=function(E){return j()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},J=t.__addimage__.binaryStringToUint8Array=function(E){for(var B=E.length,Q=new Uint8Array(B),M=0;M<B;M++)Q[M]=E.charCodeAt(M);return Q},G=t.__addimage__.arrayBufferToBinaryString=function(E){for(var B="",Q=it(E)?E:new Uint8Array(E),M=0;M<Q.length;M+=8192)B+=String.fromCharCode.apply(null,Q.subarray(M,M+8192));return B};t.addImage=function(){var E,B,Q,M,ot,Y,rt,Z,lt;if(typeof arguments[1]=="number"?(B=e,Q=arguments[1],M=arguments[2],ot=arguments[3],Y=arguments[4],rt=arguments[5],Z=arguments[6],lt=arguments[7]):(B=arguments[1],Q=arguments[2],M=arguments[3],ot=arguments[4],Y=arguments[5],rt=arguments[6],Z=arguments[7],lt=arguments[8]),Re(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var ft=E;E=ft.imageData,B=ft.format||B||e,Q=ft.x||Q||0,M=ft.y||M||0,ot=ft.w||ft.width||ot,Y=ft.h||ft.height||Y,rt=ft.alias||rt,Z=ft.compression||Z,lt=ft.rotation||ft.angle||lt}var It=this.internal.getFilters();if(Z===void 0&&It.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(Q)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=nt.call(this,E,B,rt,Z);return v.call(this,Q,M,ot,Y,P,lt),this};var nt=function(E,B,Q,M){var ot,Y,rt;if(typeof E=="string"&&r(E)===e){E=unescape(E);var Z=mt(E,!1);(Z!==""||(Z=t.loadFile(E,!0))!==void 0)&&(E=Z)}if(d(E)&&(E=p(E,B)),B=r(E,B),!u(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((rt=Q)==null||rt.length===0)&&(Q=function(lt){return typeof lt=="string"||it(lt)?x(lt):it(lt.data)?x(lt.data):null}(E)),(ot=f.call(this,Q))||(j()&&(E instanceof Uint8Array||B==="RGBA"||(Y=E,E=J(E))),ot=this["process"+B.toUpperCase()](E,c.call(this),Q,function(lt){return lt&&typeof lt=="string"&&(lt=lt.toUpperCase()),lt in t.image_compression?lt:y.NONE}(M),Y)),!ot)throw new Error("An unknown error occurred whilst processing the image.");return ot},mt=t.__addimage__.convertBase64ToBinaryString=function(E,B){B=typeof B!="boolean"||B;var Q,M="";if(typeof E=="string"){var ot;Q=(ot=L(E))!==null&&ot!==void 0?ot:E;try{M=Ul(Q)}catch(Y){if(B)throw N(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(E){var B,Q,M="";if(d(E)&&(E=p(E)),typeof E=="string"&&r(E)===e&&((M=mt(E,!1))===""&&(M=t.loadFile(E)||""),E=M),Q=r(E),!u(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!j()||E instanceof Uint8Array||(E=J(E)),!(B=this["process"+Q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=Q,B}})(ae.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ae.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(y(x))+") >>",v.content=s;var N=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(v.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(w(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var j=this.annotations._nameMap[r.options.name];r.options.pageNumber=j.page,r.options.top=j.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var it=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+it+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(n,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ae.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(v){var k=0,y=n,x="",N=0;for(k=0;k<v.length;k+=1)y[v.charCodeAt(k)]!==void 0?(N++,typeof(y=y[v.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(y),y=n,N=0),k===v.length-1&&(y=n,x+=v.charAt(k-(N-1)),k-=N-1,N=0)):(y=n,x+=v.charAt(k-N),k-=N,N=0);return x};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(v,k,y){return a(v)?s(v)===!1?-1:!c(v)||!a(k)&&!a(y)||!a(y)&&o(k)||o(v)&&!a(k)||o(v)&&l(k)||o(v)&&o(k)?0:u(v)&&a(k)&&!o(k)&&a(y)&&c(y)?3:o(v)||!a(y)?1:2:-1},f=function(v){var k=0,y=0,x=0,N="",L="",j="",it=(v=v||"").split("\\s+"),J=[];for(k=0;k<it.length;k+=1){for(J.push(""),y=0;y<it[k].length;y+=1)N=it[k][y],L=it[k][y-1],j=it[k][y+1],a(N)?(x=p(N,L,j),J[k]+=x!==-1?String.fromCharCode(e[N.charCodeAt(0)][x]):N):J[k]+=N;J[k]=d(J[k])}return J.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var v,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(k)){var x=0;for(y=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?y.push([f(k[x][0]),k[x][1],k[x][2]]):y.push([f(k[x])]);v=y}else v=f(k);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",w])}(ae.API),ae.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ae.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,w=0,v=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,L){return N.concat(k.splitTextToSize(L,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(v=this.getStringUnitWidth(l[x],{font:d})*u)&&(f=v);return f!==0&&(w=l.length),{w:f/=p,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,w,v,k,y=[],x=[],N=[],L={},j={},it=[],J=[],G=(p=p||{}).autoSize||!1,nt=p.printHeaders!==!1,mt=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,E=p.margins||Object.assign({width:this.getPageWidth()},e),B=typeof p.padding=="number"?p.padding:3,Q=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=nt,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=mt,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=M,this.setFontSize(mt),d==null)x=y=Object.keys(u[0]),N=y.map(function(){return"left"});else if(Array.isArray(d)&&Re(d[0])==="object")for(y=d.map(function(ft){return ft.name}),x=d.map(function(ft){return ft.prompt||ft.name||""}),N=d.map(function(ft){return ft.align||"left"}),f=0;f<d.length;f+=1)j[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(x=y=d,N=y.map(function(){return"left"}));if(G||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<y.length;f+=1){for(L[k=y[f]]=u.map(function(ft){return ft[k]}),this.setFont(void 0,"bold"),it.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=L[k],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)it.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[k]=Math.max.apply(null,it)+B+B,it=[]}if(nt){var ot={};for(f=0;f<y.length;f+=1)ot[y[f]]={},ot[y[f]].text=x[f],ot[y[f]].align=N[f];var Y=o.call(this,ot,j);J=y.map(function(ft){return new s(l,c,j[ft],Y,ot[ft].text,void 0,ot[ft].align)}),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var rt=d.reduce(function(ft,It){return ft[It.name]=It.align,ft},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var Z=o.call(this,u[f],j);for(v=0;v<y.length;v+=1){var lt=u[f][y[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:v,data:lt},this),a.call(this,new s(l,c,j[y[v]],Z,lt,f+2,rt[y[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var w=l[f];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+u+u},this).reduce(function(f,w){return Math.max(f,w)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ae.API);var Lv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Pv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gp=Cv(Pv),Nv=[100,200,300,400,500,600,700,800,900],kP=Cv(Nv);function vp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Lv[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof gp[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Um(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var SP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$m={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Hm(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function _P(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},SP,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=vp(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+Hm(s)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var u=gp[l],d=u<=gp.normal?-1:1,p=Um(c,Pv,u,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=Lv[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=kP[l],d=Um(c,Nv,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Hm(s)+"'.");return a}function Vm(t){return t.trimLeft()}function AP(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function CP(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Nu,Gm,Ym,pd=["times"];(function(t){var e,n,r,i,s,a,o,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=P;Object.defineProperty(this,"pdf",{get:function(){return W}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(K){H=!!K}});var et=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return et},set:function(K){et=!!K}});var st=0;Object.defineProperty(this,"posX",{get:function(){return st},set:function(K){isNaN(K)||(st=K)}});var $=0;Object.defineProperty(this,"posY",{get:function(){return $},set:function(K){isNaN(K)||($=K)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(K){var I;typeof K=="number"?I=[K,K,K,K]:((I=new Array(4))[0]=K[0],I[1]=K.length>=2?K[1]:I[0],I[2]=K.length>=3?K[2]:I[0],I[3]=K.length>=4?K[3]:I[1]),c.margin=I}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(K){z=K}});var U=0;Object.defineProperty(this,"lastBreak",{get:function(){return U},set:function(K){U=K}});var at=[];Object.defineProperty(this,"pageBreaks",{get:function(){return at},set:function(K){at=K}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(K){K instanceof u&&(c=K)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(K){c.path=K}});var Lt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Lt},set:function(K){Lt=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var I;I=p(K),this.ctx.fillStyle=I.style,this.ctx.isFillTransparent=I.a===0,this.ctx.fillOpacity=I.a,this.pdf.setFillColor(I.r,I.g,I.b,{a:I.a}),this.pdf.setTextColor(I.r,I.g,I.b,{a:I.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var I=p(K);this.ctx.strokeStyle=I.style,this.ctx.isStrokeTransparent=I.a===0,this.ctx.strokeOpacity=I.a,I.a===0?this.pdf.setDrawColor(255,255,255):(I.a,this.pdf.setDrawColor(I.r,I.g,I.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var R=null;function O(K,I){if(R===null){var St=function(Pt){var bt=[];return Object.keys(Pt).forEach(function(_t){Pt[_t].forEach(function(vt){var Nt=null;switch(vt){case"bold":Nt={family:_t,weight:"bold"};break;case"italic":Nt={family:_t,style:"italic"};break;case"bolditalic":Nt={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":Nt={family:_t}}Nt!==null&&(Nt.ref={name:_t,style:vt},bt.push(Nt))})}),bt}(K.getFontList());R=function(Pt){for(var bt={},_t=0;_t<Pt.length;++_t){var vt=vp(Pt[_t]),Nt=vt.family,Mt=vt.stretch,jt=vt.style,pt=vt.weight;bt[Nt]=bt[Nt]||{},bt[Nt][Mt]=bt[Nt][Mt]||{},bt[Nt][Mt][jt]=bt[Nt][Mt][jt]||{},bt[Nt][Mt][jt][pt]=vt}return bt}(St.concat(I))}return R}var tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(K){R=null,tt=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var I;if(this.ctx.font=K,(I=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(K))!==null){var St=I[1];I[2];var Pt=I[3],bt=I[4];I[5];var _t=I[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(vt==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var Nt=function(Yt){var ee,Ht,Ae=[],fe=Yt.trim();if(fe==="")return pd;if(fe in $m)return[$m[fe]];for(;fe!=="";){switch(Ht=null,ee=(fe=Vm(fe)).charAt(0)){case'"':case"'":Ht=AP(fe.substring(1),ee);break;default:Ht=CP(fe)}if(Ht===null||(Ae.push(Ht[0]),(fe=Vm(Ht[1]))!==""&&fe.charAt(0)!==","))return pd;fe=fe.replace(/^,/,"")}return Ae}(_t);if(this.fontFaces){var Mt=_P(O(this.pdf,this.fontFaces),Nt.map(function(Yt){return{family:Yt,stretch:"normal",weight:Pt,style:St}}));this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var jt="";(Pt==="bold"||parseInt(Pt,10)>=700||St==="bold")&&(jt="bold"),St==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var pt="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<Nt.length;xt++){if(this.pdf.internal.getFont(Nt[xt],jt,{noFallback:!0,disableWarning:!0})!==void 0){pt=Nt[xt];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(Nt[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=Nt[xt],jt="bold";else if(this.pdf.internal.getFont(Nt[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=Nt[xt],jt="normal";break}}if(pt===""){for(var $t=0;$t<Nt.length;$t++)if(Tt[Nt[$t]]){pt=Tt[Nt[$t]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,It.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,It.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};d.prototype.setLineDash=function(P){this.lineDash=P},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){L.call(this,"fill",!1)},d.prototype.stroke=function(){L.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(P,W){if(isNaN(P)||isNaN(W))throw We.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(P,W));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(P,W)},d.prototype.closePath=function(){var P=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Re(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){P=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},d.prototype.lineTo=function(P,W){if(isNaN(P)||isNaN(W))throw We.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(P,W));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},d.prototype.quadraticCurveTo=function(P,W,H,et){if(isNaN(H)||isNaN(et)||isNaN(P)||isNaN(W))throw We.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var st=this.ctx.transform.applyToPoint(new a(H,et)),$=this.ctx.transform.applyToPoint(new a(P,W));this.path.push({type:"qct",x1:$.x,y1:$.y,x:st.x,y:st.y}),this.ctx.lastPoint=new a(st.x,st.y)},d.prototype.bezierCurveTo=function(P,W,H,et,st,$){if(isNaN(st)||isNaN($)||isNaN(P)||isNaN(W)||isNaN(H)||isNaN(et))throw We.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new a(st,$)),U=this.ctx.transform.applyToPoint(new a(P,W)),at=this.ctx.transform.applyToPoint(new a(H,et));this.path.push({type:"bct",x1:U.x,y1:U.y,x2:at.x,y2:at.y,x:z.x,y:z.y}),this.ctx.lastPoint=new a(z.x,z.y)},d.prototype.arc=function(P,W,H,et,st,$){if(isNaN(P)||isNaN(W)||isNaN(H)||isNaN(et)||isNaN(st))throw We.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($=!!$,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new a(P,W));P=z.x,W=z.y;var U=this.ctx.transform.applyToPoint(new a(0,H)),at=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(U.x-at.x,2)+Math.pow(U.y-at.y,2))}Math.abs(st-et)>=2*Math.PI&&(et=0,st=2*Math.PI),this.path.push({type:"arc",x:P,y:W,radius:H,startAngle:et,endAngle:st,counterclockwise:$})},d.prototype.arcTo=function(P,W,H,et,st){throw new Error("arcTo not implemented.")},d.prototype.rect=function(P,W,H,et){if(isNaN(P)||isNaN(W)||isNaN(H)||isNaN(et))throw We.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,W),this.lineTo(P+H,W),this.lineTo(P+H,W+et),this.lineTo(P,W+et),this.lineTo(P,W),this.lineTo(P+H,W),this.lineTo(P,W)},d.prototype.fillRect=function(P,W,H,et){if(isNaN(P)||isNaN(W)||isNaN(H)||isNaN(et))throw We.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var st={};this.lineCap!=="butt"&&(st.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(st.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,W,H,et),this.fill(),st.hasOwnProperty("lineCap")&&(this.lineCap=st.lineCap),st.hasOwnProperty("lineJoin")&&(this.lineJoin=st.lineJoin)}},d.prototype.strokeRect=function(P,W,H,et){if(isNaN(P)||isNaN(W)||isNaN(H)||isNaN(et))throw We.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(P,W,H,et),this.stroke())},d.prototype.clearRect=function(P,W,H,et){if(isNaN(P)||isNaN(W)||isNaN(H)||isNaN(et))throw We.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,W,H,et))},d.prototype.save=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var et=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=et}},d.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(W),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(P){var W,H,et,st;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))W=0,H=0,et=0,st=0;else{var $=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if($!==null)W=parseInt($[1]),H=parseInt($[2]),et=parseInt($[3]),st=1;else if(($=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)W=parseInt($[1]),H=parseInt($[2]),et=parseInt($[3]),st=parseFloat($[4]);else{if(st=1,typeof P=="string"&&P.charAt(0)!=="#"){var z=new wv(P);P=z.ok?z.toHex():"#000000"}P.length===4?(W=P.substring(1,2),W+=W,H=P.substring(2,3),H+=H,et=P.substring(3,4),et+=et):(W=P.substring(1,3),H=P.substring(3,5),et=P.substring(5,7)),W=parseInt(W,16),H=parseInt(H,16),et=parseInt(et,16)}}return{r:W,g:H,b:et,a:st,style:P}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(P,W,H,et){if(isNaN(W)||isNaN(H)||typeof P!="string")throw We.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(et=isNaN(et)?void 0:et,!f.call(this)){var st=Z(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;B.call(this,{text:P,x:W,y:H,scale:$,angle:st,align:this.textAlign,maxWidth:et})}},d.prototype.strokeText=function(P,W,H,et){if(isNaN(W)||isNaN(H)||typeof P!="string")throw We.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){et=isNaN(et)?void 0:et;var st=Z(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;B.call(this,{text:P,x:W,y:H,scale:$,renderingMode:"stroke",angle:st,align:this.textAlign,maxWidth:et})}},d.prototype.measureText=function(P){if(typeof P!="string")throw We.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,H=this.pdf.internal.scaleFactor,et=W.internal.getFontSize(),st=W.getStringUnitWidth(P)*et/W.internal.scaleFactor,$=function(z){var U=(z=z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return U}}),this};return new $({width:st*=Math.round(96*H/72*1e4)/1e4})},d.prototype.scale=function(P,W){if(isNaN(P)||isNaN(W))throw We.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(P,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.rotate=function(P){if(isNaN(P))throw We.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.translate=function(P,W){if(isNaN(P)||isNaN(W))throw We.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,P,W);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.transform=function(P,W,H,et,st,$){if(isNaN(P)||isNaN(W)||isNaN(H)||isNaN(et)||isNaN(st)||isNaN($))throw We.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new l(P,W,H,et,st,$);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.setTransform=function(P,W,H,et,st,$){P=isNaN(P)?1:P,W=isNaN(W)?0:W,H=isNaN(H)?0:H,et=isNaN(et)?1:et,st=isNaN(st)?0:st,$=isNaN($)?0:$,this.ctx.transform=new l(P,W,H,et,st,$)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(P,W,H,et,st,$,z,U,at){var Lt=this.pdf.getImageProperties(P),R=1,O=1,tt=1,K=1;et!==void 0&&U!==void 0&&(tt=U/et,K=at/st,R=Lt.width/et*U/et,O=Lt.height/st*at/st),$===void 0&&($=W,z=H,W=0,H=0),et!==void 0&&U===void 0&&(U=et,at=st),et===void 0&&U===void 0&&(U=Lt.width,at=Lt.height);for(var I,St=this.ctx.transform.decompose(),Pt=Z(St.rotate.shx),bt=new l,_t=(bt=(bt=(bt=bt.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new o($-W*tt,z-H*K,et*R,st*O)),vt=k.call(this,_t),Nt=[],Mt=0;Mt<vt.length;Mt+=1)Nt.indexOf(vt[Mt])===-1&&Nt.push(vt[Mt]);if(N(Nt),this.autoPaging)for(var jt=Nt[0],pt=Nt[Nt.length-1],Tt=jt;Tt<pt+1;Tt++){this.pdf.setPage(Tt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=Tt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=Tt===1?0:Yt+(Tt-2)*ee;if(this.ctx.clip_path.length!==0){var Ae=this.path;I=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(I,this.posX+this.margin[3],-Ht+$t+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Ae}var fe=JSON.parse(JSON.stringify(_t));fe=x([fe],this.posX+this.margin[3],-Ht+$t+this.ctx.prevPageLastElemOffset)[0];var vn=(Tt>jt||Tt<pt)&&v.call(this);vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,ee,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,Pt),vn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Pt)};var k=function(P,W,H){var et=[];W=W||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var st=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":et.push(Math.floor((P.y+st)/H)+1);break;case"arc":et.push(Math.floor((P.y+st-P.radius)/H)+1),et.push(Math.floor((P.y+st+P.radius)/H)+1);break;case"qct":var $=lt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);et.push(Math.floor(($.y+st)/H)+1),et.push(Math.floor(($.y+$.h+st)/H)+1);break;case"bct":var z=ft(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);et.push(Math.floor((z.y+st)/H)+1),et.push(Math.floor((z.y+z.h+st)/H)+1);break;case"rect":et.push(Math.floor((P.y+st)/H)+1),et.push(Math.floor((P.y+P.h+st)/H)+1)}for(var U=0;U<et.length;U+=1)for(;this.pdf.internal.getNumberOfPages()<et[U];)y.call(this);return et},y=function(){var P=this.fillStyle,W=this.strokeStyle,H=this.font,et=this.lineCap,st=this.lineWidth,$=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=W,this.font=H,this.lineCap=et,this.lineWidth=st,this.lineJoin=$},x=function(P,W,H){for(var et=0;et<P.length;et++)switch(P[et].type){case"bct":P[et].x2+=W,P[et].y2+=H;case"qct":P[et].x1+=W,P[et].y1+=H;case"mt":case"lt":case"arc":default:P[et].x+=W,P[et].y+=H}return P},N=function(P){return P.sort(function(W,H){return W-H})},L=function(P,W){for(var H,et,st=this.fillStyle,$=this.strokeStyle,z=this.lineCap,U=this.lineWidth,at=Math.abs(U*this.ctx.transform.scaleX),Lt=this.lineJoin,R=JSON.parse(JSON.stringify(this.path)),O=JSON.parse(JSON.stringify(this.path)),tt=[],K=0;K<O.length;K++)if(O[K].x!==void 0)for(var I=k.call(this,O[K]),St=0;St<I.length;St+=1)tt.indexOf(I[St])===-1&&tt.push(I[St]);for(var Pt=0;Pt<tt.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<tt[Pt];)y.call(this);if(N(tt),this.autoPaging)for(var bt=tt[0],_t=tt[tt.length-1],vt=bt;vt<_t+1;vt++){this.pdf.setPage(vt),this.fillStyle=st,this.strokeStyle=$,this.lineCap=z,this.lineWidth=at,this.lineJoin=Lt;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=vt===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=vt===1?0:jt+(vt-2)*pt;if(this.ctx.clip_path.length!==0){var xt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(H,this.posX+this.margin[3],-Tt+Mt+this.ctx.prevPageLastElemOffset),j.call(this,P,!0),this.path=xt}if(et=JSON.parse(JSON.stringify(R)),this.path=x(et,this.posX+this.margin[3],-Tt+Mt+this.ctx.prevPageLastElemOffset),W===!1||vt===0){var $t=(vt>bt||vt<_t)&&v.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,pt,null).clip().discardPath()),j.call(this,P,W),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=U}else this.lineWidth=at,j.call(this,P,W),this.lineWidth=U;this.path=R},j=function(P,W){if((P!=="stroke"||W||!w.call(this))&&(P==="stroke"||W||!f.call(this))){for(var H,et,st=[],$=this.path,z=0;z<$.length;z++){var U=$[z];switch(U.type){case"begin":st.push({begin:!0});break;case"close":st.push({close:!0});break;case"mt":st.push({start:U,deltas:[],abs:[]});break;case"lt":var at=st.length;if($[z-1]&&!isNaN($[z-1].x)&&(H=[U.x-$[z-1].x,U.y-$[z-1].y],at>0)){for(;at>=0;at--)if(st[at-1].close!==!0&&st[at-1].begin!==!0){st[at-1].deltas.push(H),st[at-1].abs.push(U);break}}break;case"bct":H=[U.x1-$[z-1].x,U.y1-$[z-1].y,U.x2-$[z-1].x,U.y2-$[z-1].y,U.x-$[z-1].x,U.y-$[z-1].y],st[st.length-1].deltas.push(H);break;case"qct":var Lt=$[z-1].x+2/3*(U.x1-$[z-1].x),R=$[z-1].y+2/3*(U.y1-$[z-1].y),O=U.x+2/3*(U.x1-U.x),tt=U.y+2/3*(U.y1-U.y),K=U.x,I=U.y;H=[Lt-$[z-1].x,R-$[z-1].y,O-$[z-1].x,tt-$[z-1].y,K-$[z-1].x,I-$[z-1].y],st[st.length-1].deltas.push(H);break;case"arc":st.push({deltas:[],abs:[],arc:!0}),Array.isArray(st[st.length-1].abs)&&st[st.length-1].abs.push(U)}}et=W?null:P==="stroke"?"stroke":"fill";for(var St=!1,Pt=0;Pt<st.length;Pt++)if(st[Pt].arc)for(var bt=st[Pt].abs,_t=0;_t<bt.length;_t++){var vt=bt[_t];vt.type==="arc"?G.call(this,vt.x,vt.y,vt.radius,vt.startAngle,vt.endAngle,vt.counterclockwise,void 0,W,!St):Q.call(this,vt.x,vt.y),St=!0}else if(st[Pt].close===!0)this.pdf.internal.out("h"),St=!1;else if(st[Pt].begin!==!0){var Nt=st[Pt].start.x,Mt=st[Pt].start.y;M.call(this,st[Pt].deltas,Nt,Mt),St=!0}et&&nt.call(this,et),W&&mt.call(this)}},it=function(P){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-H;case"top":return P+W-H;case"hanging":return P+W-2*H;case"middle":return P+W/2-H;case"ideographic":return P;case"alphabetic":default:return P}},J=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(W,H){this.colorStops.push([W,H])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(P,W,H,et,st,$,z,U,at){for(var Lt=Y.call(this,H,et,st,$),R=0;R<Lt.length;R++){var O=Lt[R];R===0&&(at?E.call(this,O.x1+P,O.y1+W):Q.call(this,O.x1+P,O.y1+W)),ot.call(this,P,W,O.x2,O.y2,O.x3,O.y3,O.x4,O.y4)}U?mt.call(this):nt.call(this,z)},nt=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},mt=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,W){this.pdf.internal.out(n(P)+" "+r(W)+" m")},B=function(P){var W;switch(P.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var H=this.pdf.getTextDimensions(P.text),et=it.call(this,P.y),st=J.call(this,et)-H.h,$=this.ctx.transform.applyToPoint(new a(P.x,et)),z=this.ctx.transform.decompose(),U=new l;U=(U=(U=U.multiply(z.translate)).multiply(z.skew)).multiply(z.scale);for(var at,Lt,R,O=this.ctx.transform.applyToRectangle(new o(P.x,et,H.w,H.h)),tt=U.applyToRectangle(new o(P.x,st,H.w,H.h)),K=k.call(this,tt),I=[],St=0;St<K.length;St+=1)I.indexOf(K[St])===-1&&I.push(K[St]);if(N(I),this.autoPaging)for(var Pt=I[0],bt=I[I.length-1],_t=Pt;_t<bt+1;_t++){this.pdf.setPage(_t);var vt=_t===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[2],jt=Mt-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],Tt=pt-this.margin[3],xt=_t===1?0:Nt+(_t-2)*jt;if(this.ctx.clip_path.length!==0){var $t=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(at,this.posX+this.margin[3],-1*xt+vt),j.call(this,"fill",!0),this.path=$t}var Yt=x([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-xt+vt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Lt*P.scale),R=this.lineWidth,this.lineWidth=R*P.scale);var ee=this.autoPaging!=="text";if(ee||Yt.y+Yt.h<=Mt){if(ee||Yt.y>=vt&&Yt.x<=pt){var Ht=ee?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||pt-Yt.x)[0],Ae=x([JSON.parse(JSON.stringify(O))],this.posX+this.margin[3],-xt+vt+this.ctx.prevPageLastElemOffset)[0],fe=ee&&(_t>Pt||_t<bt)&&v.call(this);fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,jt,null).clip().discardPath()),this.pdf.text(Ht,Ae.x,Ae.y,{angle:P.angle,align:W,renderingMode:P.renderingMode}),fe&&this.pdf.restoreGraphicsState()}}else Yt.y<Mt&&(this.ctx.prevPageLastElemOffset+=Mt-Yt.y);P.scale>=.01&&(this.pdf.setFontSize(Lt),this.lineWidth=R)}else P.scale>=.01&&(Lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Lt*P.scale),R=this.lineWidth,this.lineWidth=R*P.scale),this.pdf.text(P.text,$.x+this.posX,$.y+this.posY,{angle:P.angle,align:W,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Lt),this.lineWidth=R)},Q=function(P,W,H,et){H=H||0,et=et||0,this.pdf.internal.out(n(P+H)+" "+r(W+et)+" l")},M=function(P,W,H){return this.pdf.lines(P,W,H,null,null)},ot=function(P,W,H,et,st,$,z,U){this.pdf.internal.out([e(i(H+P)),e(s(et+W)),e(i(st+P)),e(s($+W)),e(i(z+P)),e(s(U+W)),"c"].join(" "))},Y=function(P,W,H,et){for(var st=2*Math.PI,$=Math.PI/2;W>H;)W-=st;var z=Math.abs(H-W);z<st&&et&&(z=st-z);for(var U=[],at=et?-1:1,Lt=W;z>1e-5;){var R=Lt+at*Math.min(z,$);U.push(rt.call(this,P,Lt,R)),z-=Math.abs(R-Lt),Lt=R}return U},rt=function(P,W,H){var et=(H-W)/2,st=P*Math.cos(et),$=P*Math.sin(et),z=st,U=-$,at=z*z+U*U,Lt=at+z*st+U*$,R=4/3*(Math.sqrt(2*at*Lt)-Lt)/(z*$-U*st),O=z-R*U,tt=U+R*z,K=O,I=-tt,St=et+W,Pt=Math.cos(St),bt=Math.sin(St);return{x1:P*Math.cos(W),y1:P*Math.sin(W),x2:O*Pt-tt*bt,y2:O*bt+tt*Pt,x3:K*Pt-I*bt,y3:K*bt+I*Pt,x4:P*Math.cos(H),y4:P*Math.sin(H)}},Z=function(P){return 180*P/Math.PI},lt=function(P,W,H,et,st,$){var z=P+.5*(H-P),U=W+.5*(et-W),at=st+.5*(H-st),Lt=$+.5*(et-$),R=Math.min(P,st,z,at),O=Math.max(P,st,z,at),tt=Math.min(W,$,U,Lt),K=Math.max(W,$,U,Lt);return new o(R,tt,O-R,K-tt)},ft=function(P,W,H,et,st,$,z,U){var at,Lt,R,O,tt,K,I,St,Pt,bt,_t,vt,Nt,Mt,jt=H-P,pt=et-W,Tt=st-H,xt=$-et,$t=z-st,Yt=U-$;for(Lt=0;Lt<41;Lt++)Pt=(I=(R=P+(at=Lt/40)*jt)+at*((tt=H+at*Tt)-R))+at*(tt+at*(st+at*$t-tt)-I),bt=(St=(O=W+at*pt)+at*((K=et+at*xt)-O))+at*(K+at*($+at*Yt-K)-St),Lt==0?(_t=Pt,vt=bt,Nt=Pt,Mt=bt):(_t=Math.min(_t,Pt),vt=Math.min(vt,bt),Nt=Math.max(Nt,Pt),Mt=Math.max(Mt,bt));return new o(Math.round(_t),Math.round(vt),Math.round(Nt-_t),Math.round(Mt-vt))},It=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,W,H=(P=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:W}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(ae.API),function(t){var e=function(s){var a,o,l,c,u,d,p,f,w,v;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(v=u%85))/85)-(w=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,o.push(d+33,p+33,f+33,w+33,v+33)):o.push(122);return function(k,y){for(var x=y;x>0;x--)k.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,c,u,d=String,p="length",f=255,w="charCodeAt",v="slice",k="replace";for(s[v](-2),s=s[v](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],c=0,u=(s+=a="uuuuu"[v](s[p]%5||5))[p];u>c;c+=5)o=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),l.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(y,x){for(var N=x;N>0;N--)y.pop()}(l,a[p]),d.fromCharCode.apply(d,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=hp(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ae.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,p=0,f=function(w){var v=w.length,k=[],y=String.fromCharCode;for(p=0;p<v;p+=1)k.push(y(255&w.charCodeAt(p)));return k.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(ae.API),function(t){function e(){return(ce.html2canvas?Promise.resolve(ce.html2canvas):ap(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(ce.DOMPurify?Promise.resolve(ce.DOMPurify):ap(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Re(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],w=f.src.find(function(v){return v.format==="truetype"});w&&l.addFont(w.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||ae.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ae.getPageSize=function(a,o,l){if(Re(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var f,w=0,v=0;if(p.hasOwnProperty(d))w=p[d][1]/u,v=p[d][0]/u;else try{w=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",v>w&&(f=v,v=w,w=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",w>v&&(f=v,v=w,w=f)}return{width:v,height:w,unit:o,k:u,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(vp):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(ae.API),ae.API.addJS=function(t){return Ym=t,this.internal.events.subscribe("postPutResources",function(){Nu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Nu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Gm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ym+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Nu!==void 0&&Gm!==void 0&&this.internal.out("/Names <</JavaScript "+Nu+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ae.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,v={width:0,height:0,numcomponents:1},k=4;k<w;k+=2){if(k+=f,e.indexOf(d.charCodeAt(k+1))!==-1){p=256*d.charCodeAt(k+5)+d.charCodeAt(k+6),v={width:256*d.charCodeAt(k+7)+d.charCodeAt(k+8),height:p,numcomponents:d.charCodeAt(k+9)};break}f=256*d.charCodeAt(k+2)+d.charCodeAt(k+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(ae.API);var co,Mu,Km,Xm,Jm,LP=function(){var t,e,n;function r(s){var a,o,l,c,u,d,p,f,w,v,k,y,x,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),w=(function(){var L,j;for(j=[],L=0;L<4;++L)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(x=0;0<=v?x<v:x>v;0<=v?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(k=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,k.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,k.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,p,f,w){var v,k,y,x,N,L,j,it,J,G,nt,mt,E,B,Q,M,ot,Y,rt,Z,lt,ft=Math.ceil((c.width-d)/f),It=Math.ceil((c.height-p)/w),P=c.width==ft&&c.height==It;for(B=a*ft,mt=P?o:new Uint8Array(B*It),L=s.length,E=0,k=0;E<It&&l<L;){switch(s[l++]){case 0:for(x=ot=0;ot<B;x=ot+=1)mt[k++]=s[l++];break;case 1:for(x=Y=0;Y<B;x=Y+=1)v=s[l++],N=x<a?0:mt[k-a],mt[k++]=(v+N)%256;break;case 2:for(x=rt=0;rt<B;x=rt+=1)v=s[l++],y=(x-x%a)/a,Q=E&&mt[(E-1)*B+y*a+x%a],mt[k++]=(Q+v)%256;break;case 3:for(x=Z=0;Z<B;x=Z+=1)v=s[l++],y=(x-x%a)/a,N=x<a?0:mt[k-a],Q=E&&mt[(E-1)*B+y*a+x%a],mt[k++]=(v+Math.floor((N+Q)/2))%256;break;case 4:for(x=lt=0;lt<B;x=lt+=1)v=s[l++],y=(x-x%a)/a,N=x<a?0:mt[k-a],E===0?Q=M=0:(Q=mt[(E-1)*B+y*a+x%a],M=y&&mt[(E-1)*B+(y-1)*a+x%a]),j=N+Q-M,it=Math.abs(j-N),G=Math.abs(j-Q),nt=Math.abs(j-M),J=it<=G&&it<=nt?N:G<=nt?Q:M,mt[k++]=(v+J)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!P){var W=((p+E*w)*c.width+d)*a,H=E*B;for(x=0;x<ft;x+=1){for(var et=0;et<a;et+=1)o[W++]=mt[H++];W+=(f-1)*a}}E++}}return s=sP(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,c,u,d,p,f;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,s=0,a=d=0,p=o.length;d<p;a=d+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,a){var o,l,c,u,d,p,f,w,v,k,y;if(l=this.colors,v=null,o=this.hasAlphaChannel,this.palette.length&&(v=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),w=(c=s.data||s).length,d=v||a,u=p=0,l===1)for(;u<w;)f=v?4*a[u/4]:p,k=d[f++],c[u++]=k,c[u++]=k,c[u++]=k,c[u++]=o?d[f++]:255,p=f;else for(;u<w;)f=v?4*a[u/4]:p,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=o?d[f++]:255,p=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ce)==="[object Window]"){try{e=ce.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,c,u,d,p,f;if(this.animation){for(f=[],o=u=0,d=(p=this.animation.frames).length;u<d;o=++u)a=p[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,f.push(a.image=t(l));return f}},r.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,c,u,d,p=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(a=function(){var f,w;if(f=o++%c,w=l[f],p.renderFrame(s,f),c>1&&o/c<u)return p.animation._timeout=setTimeout(a,w.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function PP(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],d=0,p=null,f=0,w=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];d=t[e++]|t[e++]<<8,p=t[e++],(1&v)==0&&(p=null),f=v>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,L=t[e++],j=L>>6&1,it=1<<(7&L)+1,J=o,G=l,nt=!1;L>>7&&(nt=!0,J=e,G=it,e+=3*it);var mt=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}u.push({x:k,y,width:x,height:N,has_local_palette:nt,palette_offset:J,palette_size:G,data_offset:mt,data_length:e-mt,transparent_index:p,interlaced:!!j,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(B){if(B<0||B>=u.length)throw new Error("Frame index out of range.");return u[B]},this.decodeAndBlitFrameBGRA=function(B,Q){var M=this.frameInfo(B),ot=M.width*M.height,Y=new Uint8Array(ot);Qm(t,M.data_offset,Y,ot);var rt=M.palette_offset,Z=M.transparent_index;Z===null&&(Z=256);var lt=M.width,ft=n-lt,It=lt,P=4*(M.y*n+M.x),W=4*((M.y+M.height)*n+M.x),H=P,et=4*ft;M.interlaced===!0&&(et+=4*n*7);for(var st=8,$=0,z=Y.length;$<z;++$){var U=Y[$];if(It===0&&(It=lt,(H+=et)>=W&&(et=4*ft+4*n*(st-1),H=P+(lt+ft)*(st<<1),st>>=1)),U===Z)H+=4;else{var at=t[rt+3*U],Lt=t[rt+3*U+1],R=t[rt+3*U+2];Q[H++]=R,Q[H++]=Lt,Q[H++]=at,Q[H++]=255}--It}},this.decodeAndBlitFrameRGBA=function(B,Q){var M=this.frameInfo(B),ot=M.width*M.height,Y=new Uint8Array(ot);Qm(t,M.data_offset,Y,ot);var rt=M.palette_offset,Z=M.transparent_index;Z===null&&(Z=256);var lt=M.width,ft=n-lt,It=lt,P=4*(M.y*n+M.x),W=4*((M.y+M.height)*n+M.x),H=P,et=4*ft;M.interlaced===!0&&(et+=4*n*7);for(var st=8,$=0,z=Y.length;$<z;++$){var U=Y[$];if(It===0&&(It=lt,(H+=et)>=W&&(et=4*ft+4*n*(st-1),H=P+(lt+ft)*(st<<1),st>>=1)),U===Z)H+=4;else{var at=t[rt+3*U],Lt=t[rt+3*U+1],R=t[rt+3*U+2];Q[H++]=at,Q[H++]=Lt,Q[H++]=R,Q[H++]=255}--It}}}function Qm(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,d=0,p=0,f=t[e++],w=new Int32Array(4096),v=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var k=d&c;if(d>>=l,u-=l,k!==s){if(k===a)break;for(var y=k<o?k:v,x=0,N=y;N>s;)N=w[N]>>8,++x;var L=N;if(p+x+(y!==k?1:0)>r)return void We.log("Warning, gif stream longer than expected.");n[p++]=L;var j=p+=x;for(y!==k&&(n[p++]=L),N=y;x--;)N=w[N],n[--j]=255&N,N>>=8;v!==null&&o<4096&&(w[o++]=v<<8|L,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=k}else o=a+1,c=(1<<(l=i+1))-1,v=null}return p!==r&&We.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function md(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),w=new Array(64),v=[],k=0,y=7,x=new Array(64),N=new Array(64),L=new Array(64),j=new Array(256),it=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],nt=[0,1,2,3,4,5,6,7,8,9,10,11],mt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ot=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(P,W){for(var H=0,et=0,st=new Array,$=1;$<=16;$++){for(var z=1;z<=P[$];z++)st[W[et]]=[],st[W[et]][0]=H,st[W[et]][1]=$,et++,H++;H*=2}return st}function rt(P){for(var W=P[0],H=P[1]-1;H>=0;)W&1<<H&&(k|=1<<y),H--,--y<0&&(k==255?(Z(255),Z(0)):Z(k),y=7,k=0)}function Z(P){v.push(P)}function lt(P){Z(P>>8&255),Z(255&P)}function ft(P,W,H,et,st){for(var $,z=st[0],U=st[240],at=function(bt,_t){var vt,Nt,Mt,jt,pt,Tt,xt,$t,Yt,ee,Ht=0;for(Yt=0;Yt<8;++Yt){vt=bt[Ht],Nt=bt[Ht+1],Mt=bt[Ht+2],jt=bt[Ht+3],pt=bt[Ht+4],Tt=bt[Ht+5],xt=bt[Ht+6];var Ae=vt+($t=bt[Ht+7]),fe=vt-$t,vn=Nt+xt,he=Nt-xt,xe=Mt+Tt,Mn=Mt-Tt,Me=jt+pt,Zs=jt-pt,nn=Ae+Me,Wr=Ae-Me,Fi=vn+xe,rn=vn-xe;bt[Ht]=nn+Fi,bt[Ht+4]=nn-Fi;var pe=.707106781*(rn+Wr);bt[Ht+2]=Wr+pe,bt[Ht+6]=Wr-pe;var De=.382683433*((nn=Zs+Mn)-(rn=he+fe)),ta=.5411961*nn+De,Dn=1.306562965*rn+De,hi=.707106781*(Fi=Mn+he),fi=fe+hi,oe=fe-hi;bt[Ht+5]=oe+ta,bt[Ht+3]=oe-ta,bt[Ht+1]=fi+Dn,bt[Ht+7]=fi-Dn,Ht+=8}for(Ht=0,Yt=0;Yt<8;++Yt){vt=bt[Ht],Nt=bt[Ht+8],Mt=bt[Ht+16],jt=bt[Ht+24],pt=bt[Ht+32],Tt=bt[Ht+40],xt=bt[Ht+48];var Ur=vt+($t=bt[Ht+56]),di=vt-$t,rr=Nt+xt,Sn=Nt-xt,yn=Mt+Tt,mr=Mt-Tt,Ma=jt+pt,Oi=jt-pt,$r=Ur+Ma,Hr=Ur-Ma,Vr=rr+yn,pi=rr-yn;bt[Ht]=$r+Vr,bt[Ht+32]=$r-Vr;var Pr=.707106781*(pi+Hr);bt[Ht+16]=Hr+Pr,bt[Ht+48]=Hr-Pr;var mi=.382683433*(($r=Oi+mr)-(pi=Sn+di)),ea=.5411961*$r+mi,Da=1.306562965*pi+mi,Ta=.707106781*(Vr=mr+Sn),Ea=di+Ta,Ia=di-Ta;bt[Ht+40]=Ia+ea,bt[Ht+24]=Ia-ea,bt[Ht+8]=Ea+Da,bt[Ht+56]=Ea-Da,Ht++}for(Yt=0;Yt<64;++Yt)ee=bt[Yt]*_t[Yt],f[Yt]=ee>0?ee+.5|0:ee-.5|0;return f}(P,W),Lt=0;Lt<64;++Lt)w[J[Lt]]=at[Lt];var R=w[0]-H;H=w[0],R==0?rt(et[0]):(rt(et[p[$=32767+R]]),rt(d[$]));for(var O=63;O>0&&w[O]==0;)O--;if(O==0)return rt(z),H;for(var tt,K=1;K<=O;){for(var I=K;w[K]==0&&K<=O;)++K;var St=K-I;if(St>=16){tt=St>>4;for(var Pt=1;Pt<=tt;++Pt)rt(U);St&=15}$=32767+w[K],rt(st[(St<<4)+p[$]]),rt(d[$]),K++}return O!=63&&rt(z),H}function It(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(W){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],et=0;et<64;et++){var st=a((H[et]*W+50)/100);st=Math.min(Math.max(st,1),255),o[J[et]]=st}for(var $=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var U=a(($[z]*W+50)/100);U=Math.min(Math.max(U,1),255),l[J[z]]=U}for(var at=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Lt=0,R=0;R<8;R++)for(var O=0;O<8;O++)c[Lt]=1/(o[J[Lt]]*at[R]*at[O]*8),u[Lt]=1/(l[J[Lt]]*at[R]*at[O]*8),Lt++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,W){W&&It(W),v=new Array,k=0,y=7,lt(65496),lt(65504),lt(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),lt(1),lt(1),Z(0),Z(0),function(){lt(65499),lt(132),Z(0);for(var Nt=0;Nt<64;Nt++)Z(o[Nt]);Z(1);for(var Mt=0;Mt<64;Mt++)Z(l[Mt])}(),function(Nt,Mt){lt(65472),lt(17),Z(8),lt(Mt),lt(Nt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(P.width,P.height),function(){lt(65476),lt(418),Z(0);for(var Nt=0;Nt<16;Nt++)Z(G[Nt+1]);for(var Mt=0;Mt<=11;Mt++)Z(nt[Mt]);Z(16);for(var jt=0;jt<16;jt++)Z(mt[jt+1]);for(var pt=0;pt<=161;pt++)Z(E[pt]);Z(1);for(var Tt=0;Tt<16;Tt++)Z(B[Tt+1]);for(var xt=0;xt<=11;xt++)Z(Q[xt]);Z(17);for(var $t=0;$t<16;$t++)Z(M[$t+1]);for(var Yt=0;Yt<=161;Yt++)Z(ot[Yt])}(),lt(65498),lt(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var H=0,et=0,st=0;k=0,y=7,this.encode.displayName="_encode_";for(var $,z,U,at,Lt,R,O,tt,K,I=P.data,St=P.width,Pt=P.height,bt=4*St,_t=0;_t<Pt;){for($=0;$<bt;){for(Lt=bt*_t+$,O=-1,tt=0,K=0;K<64;K++)R=Lt+(tt=K>>3)*bt+(O=4*(7&K)),_t+tt>=Pt&&(R-=bt*(_t+1+tt-Pt)),$+O>=bt&&(R-=$+O-bt+4),z=I[R++],U=I[R++],at=I[R++],x[K]=(it[z]+it[U+256>>0]+it[at+512>>0]>>16)-128,N[K]=(it[z+768>>0]+it[U+1024>>0]+it[at+1280>>0]>>16)-128,L[K]=(it[z+1280>>0]+it[U+1536>>0]+it[at+1792>>0]>>16)-128;H=ft(x,c,H,e,r),et=ft(N,u,et,n,i),st=ft(L,u,st,n,i),$+=32}_t+=8}if(y>=0){var vt=[];vt[1]=y+1,vt[0]=(1<<y+1)-1,rt(vt)}return lt(65497),new Uint8Array(v)},t=t||50,function(){for(var P=String.fromCharCode,W=0;W<256;W++)j[W]=P(W)}(),e=Y(G,nt),n=Y(B,Q),r=Y(mt,E),i=Y(M,ot),function(){for(var P=1,W=2,H=1;H<=15;H++){for(var et=P;et<W;et++)p[32767+et]=H,d[32767+et]=[],d[32767+et][1]=H,d[32767+et][0]=et;for(var st=-(W-1);st<=-P;st++)p[32767+st]=H,d[32767+st]=[],d[32767+st][1]=H,d[32767+st][0]=W-1+st;P<<=1,W<<=1}}(),function(){for(var P=0;P<256;P++)it[P]=19595*P,it[P+256>>0]=38470*P,it[P+512>>0]=7471*P+32768,it[P+768>>0]=-11059*P,it[P+1024>>0]=-21709*P,it[P+1280>>0]=32768*P+8421375,it[P+1536>>0]=-27439*P,it[P+1792>>0]=-5329*P}(),It(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ti(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Zm(t){function e(G){if(!G)throw Error("assert :P")}function n(G,nt,mt){for(var E=0;4>E;E++)if(G[nt+E]!=mt.charCodeAt(E))return!0;return!1}function r(G,nt,mt,E,B){for(var Q=0;Q<B;Q++)G[nt+Q]=mt[E+Q]}function i(G,nt,mt,E){for(var B=0;B<E;B++)G[nt+B]=mt}function s(G){return new Int32Array(G)}function a(G,nt){for(var mt=[],E=0;E<G;E++)mt.push(new nt);return mt}function o(G,nt){var mt=[];return function E(B,Q,M){for(var ot=M[Q],Y=0;Y<ot&&(B.push(M.length>Q+1?[]:new nt),!(M.length<Q+1));Y++)E(B[Y],Q+1,M)}(mt,0,G),mt}var l=function(){var G=this;function nt(h,m){for(var b=1<<m-1>>>0;h&b;)b>>>=1;return b?(h&b-1)+b:h}function mt(h,m,b,S,A){e(!(S%b));do h[m+(S-=b)]=A;while(0<S)}function E(h,m,b,S,A){if(e(2328>=A),512>=A)var D=s(512);else if((D=s(A))==null)return 0;return function(T,F,q,V,ut,At){var Ct,yt,Rt=F,Dt=1<<q,ht=s(16),gt=s(16);for(e(ut!=0),e(V!=null),e(T!=null),e(0<q),yt=0;yt<ut;++yt){if(15<V[yt])return 0;++ht[V[yt]]}if(ht[0]==ut)return 0;for(gt[1]=0,Ct=1;15>Ct;++Ct){if(ht[Ct]>1<<Ct)return 0;gt[Ct+1]=gt[Ct]+ht[Ct]}for(yt=0;yt<ut;++yt)Ct=V[yt],0<V[yt]&&(At[gt[Ct]++]=yt);if(gt[15]==1)return(V=new B).g=0,V.value=At[0],mt(T,Rt,1,Dt,V),Dt;var Ft,Bt=-1,Ot=Dt-1,Qt=0,Gt=1,se=1,Kt=1<<q;for(yt=0,Ct=1,ut=2;Ct<=q;++Ct,ut<<=1){if(Gt+=se<<=1,0>(se-=ht[Ct]))return 0;for(;0<ht[Ct];--ht[Ct])(V=new B).g=Ct,V.value=At[yt++],mt(T,Rt+Qt,ut,Kt,V),Qt=nt(Qt,Ct)}for(Ct=q+1,ut=2;15>=Ct;++Ct,ut<<=1){if(Gt+=se<<=1,0>(se-=ht[Ct]))return 0;for(;0<ht[Ct];--ht[Ct]){if(V=new B,(Qt&Ot)!=Bt){for(Rt+=Kt,Ft=1<<(Bt=Ct)-q;15>Bt&&!(0>=(Ft-=ht[Bt]));)++Bt,Ft<<=1;Dt+=Kt=1<<(Ft=Bt-q),T[F+(Bt=Qt&Ot)].g=Ft+q,T[F+Bt].value=Rt-F-Bt}V.g=Ct-q,V.value=At[yt++],mt(T,Rt+(Qt>>q),ut,Kt,V),Qt=nt(Qt,Ct)}}return Gt!=2*gt[15]-1?0:Dt}(h,m,b,S,A,D)}function B(){this.value=this.g=0}function Q(){this.value=this.g=0}function M(){this.G=a(5,B),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Tn,Q)}function ot(h,m,b,S){e(h!=null),e(m!=null),e(2147483648>S),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=b,h.Jd=m,h.Yc=b+S,h.Zc=4<=S?b+S-4+1:b,$(h)}function Y(h,m){for(var b=0;0<m--;)b|=U(h,128)<<m;return b}function rt(h,m){var b=Y(h,m);return z(h)?-b:b}function Z(h,m,b,S){var A,D=0;for(e(h!=null),e(m!=null),e(4294967288>S),h.Sb=S,h.Ra=0,h.u=0,h.h=0,4<S&&(S=4),A=0;A<S;++A)D+=m[b+A]<<8*A;h.Ra=D,h.bb=S,h.oa=m,h.pa=b}function lt(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ka-8>>>0,++h.bb,h.u-=8;H(h)&&(h.h=1,h.u=0)}function ft(h,m){if(e(0<=m),!h.h&&m<=Ya){var b=W(h)&Ga[m];return h.u+=m,lt(h),b}return h.h=1,h.u=0}function It(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(h){return h.Ra>>>(h.u&Ka-1)>>>0}function H(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ka}function et(h,m){h.u=m,h.h=H(h)}function st(h){h.u>=cl&&(e(h.u>=cl),lt(h))}function $(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function z(h){return Y(h,1)}function U(h,m){var b=h.Ca;0>h.b&&$(h);var S=h.b,A=b*m>>>8,D=(h.I>>>S>A)+0;for(D?(b-=A,h.I-=A+1<<S>>>0):b=A+1,S=b,A=0;256<=S;)A+=8,S>>=8;return S=7^A+sr[S],h.b-=S,h.Ca=(b<<S)-1,D}function at(h,m,b){h[m+0]=b>>24&255,h[m+1]=b>>16&255,h[m+2]=b>>8&255,h[m+3]=b>>0&255}function Lt(h,m){return h[m+0]<<0|h[m+1]<<8}function R(h,m){return Lt(h,m)|h[m+2]<<16}function O(h,m){return Lt(h,m)|Lt(h,m+2)<<16}function tt(h,m){var b=1<<m;return e(h!=null),e(0<m),h.X=s(b),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function K(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function St(h,m,b,S){e(b!=null),e(S!=null);var A=b[0],D=S[0];return A==0&&(A=(h*D+m/2)/m),D==0&&(D=(m*A+h/2)/h),0>=A||0>=D?0:(b[0]=A,S[0]=D,1)}function Pt(h,m){return h+(1<<m)-1>>>m}function bt(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function _t(h,m){G[m]=function(b,S,A,D,T,F,q){var V;for(V=0;V<T;++V){var ut=G[h](F[q+V-1],A,D+V);F[q+V]=bt(b[S+V],ut)}}}function vt(){this.ud=this.hd=this.jd=0}function Nt(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function Mt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function jt(h,m){return Mt(h+(h-m+.5>>1))}function pt(h,m,b){return Math.abs(m-b)-Math.abs(h-b)}function Tt(h,m,b,S,A,D,T){for(S=D[T-1],b=0;b<A;++b)D[T+b]=S=bt(h[m+b],S)}function xt(h,m,b,S,A){var D;for(D=0;D<b;++D){var T=h[m+D],F=T>>8&255,q=16711935&(q=(q=16711935&T)+((F<<16)+F));S[A+D]=(4278255360&T)+q>>>0}}function $t(h,m){m.jd=h>>0&255,m.hd=h>>8&255,m.ud=h>>16&255}function Yt(h,m,b,S,A,D){var T;for(T=0;T<S;++T){var F=m[b+T],q=F>>>8,V=F,ut=255&(ut=(ut=F>>>16)+((h.jd<<24>>24)*(q<<24>>24)>>>5));V=255&(V=(V=V+((h.hd<<24>>24)*(q<<24>>24)>>>5))+((h.ud<<24>>24)*(ut<<24>>24)>>>5)),A[D+T]=(4278255360&F)+(ut<<16)+V}}function ee(h,m,b,S,A){G[m]=function(D,T,F,q,V,ut,At,Ct,yt){for(q=At;q<Ct;++q)for(At=0;At<yt;++At)V[ut++]=A(F[S(D[T++])])},G[h]=function(D,T,F,q,V,ut,At){var Ct=8>>D.b,yt=D.Ea,Rt=D.K[0],Dt=D.w;if(8>Ct)for(D=(1<<D.b)-1,Dt=(1<<Ct)-1;T<F;++T){var ht,gt=0;for(ht=0;ht<yt;++ht)ht&D||(gt=S(q[V++])),ut[At++]=A(Rt[gt&Dt]),gt>>=Ct}else G["VP8LMapColor"+b](q,V,Rt,Dt,ut,At,T,F,yt)}}function Ht(h,m,b,S,A){for(b=m+b;m<b;){var D=h[m++];S[A++]=D>>16&255,S[A++]=D>>8&255,S[A++]=D>>0&255}}function Ae(h,m,b,S,A){for(b=m+b;m<b;){var D=h[m++];S[A++]=D>>16&255,S[A++]=D>>8&255,S[A++]=D>>0&255,S[A++]=D>>24&255}}function fe(h,m,b,S,A){for(b=m+b;m<b;){var D=(T=h[m++])>>16&240|T>>12&15,T=T>>0&240|T>>28&15;S[A++]=D,S[A++]=T}}function vn(h,m,b,S,A){for(b=m+b;m<b;){var D=(T=h[m++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;S[A++]=D,S[A++]=T}}function he(h,m,b,S,A){for(b=m+b;m<b;){var D=h[m++];S[A++]=D>>0&255,S[A++]=D>>8&255,S[A++]=D>>16&255}}function xe(h,m,b,S,A,D){if(D==0)for(b=m+b;m<b;)at(S,((D=h[m++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),A+=32;else r(S,A,h,m,b)}function Mn(h,m){G[m][0]=G[h+"0"],G[m][1]=G[h+"1"],G[m][2]=G[h+"2"],G[m][3]=G[h+"3"],G[m][4]=G[h+"4"],G[m][5]=G[h+"5"],G[m][6]=G[h+"6"],G[m][7]=G[h+"7"],G[m][8]=G[h+"8"],G[m][9]=G[h+"9"],G[m][10]=G[h+"10"],G[m][11]=G[h+"11"],G[m][12]=G[h+"12"],G[m][13]=G[h+"13"],G[m][14]=G[h+"0"],G[m][15]=G[h+"0"]}function Me(h){return h==Af||h==Cf||h==nu||h==Lf}function Zs(){this.eb=[],this.size=this.A=this.fb=0}function nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zs,this.f.kb=new nn,this.sd=null}function Fi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pe(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function De(h,m){var b=h.T,S=m.ba.f.RGBA,A=S.eb,D=S.fb+h.ka*S.A,T=Ir[m.ba.S],F=h.y,q=h.O,V=h.f,ut=h.N,At=h.ea,Ct=h.W,yt=m.cc,Rt=m.dc,Dt=m.Mc,ht=m.Nc,gt=h.ka,Ft=h.ka+h.T,Bt=h.U,Ot=Bt+1>>1;for(gt==0?T(F,q,null,null,V,ut,At,Ct,V,ut,At,Ct,A,D,null,null,Bt):(T(m.ec,m.fc,F,q,yt,Rt,Dt,ht,V,ut,At,Ct,A,D-S.A,A,D,Bt),++b);gt+2<Ft;gt+=2)yt=V,Rt=ut,Dt=At,ht=Ct,ut+=h.Rc,Ct+=h.Rc,D+=2*S.A,T(F,(q+=2*h.fa)-h.fa,F,q,yt,Rt,Dt,ht,V,ut,At,Ct,A,D-S.A,A,D,Bt);return q+=h.fa,h.j+Ft<h.o?(r(m.ec,m.fc,F,q,Bt),r(m.cc,m.dc,V,ut,Ot),r(m.Mc,m.Nc,At,Ct,Ot),b--):1&Ft||T(F,q,null,null,V,ut,At,Ct,V,ut,At,Ct,A,D+S.A,null,null,Bt),b}function ta(h,m,b){var S=h.F,A=[h.J];if(S!=null){var D=h.U,T=m.ba.S,F=T==eu||T==nu;m=m.ba.f.RGBA;var q=[0],V=h.ka;q[0]=h.T,h.Kb&&(V==0?--q[0]:(--V,A[0]-=h.width),h.j+h.ka+h.T==h.o&&(q[0]=h.o-h.j-V));var ut=m.eb;V=m.fb+V*m.A,h=Ge(S,A[0],h.width,D,q,ut,V+(F?0:3),m.A),e(b==q),h&&Me(T)&&Tr(ut,V,F,D,q,m.A)}return 0}function Dn(h){var m=h.ma,b=m.ba.S,S=11>b,A=b==Zc||b==tu||b==eu||b==_f||b==12||Me(b);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!ol(m.Oa,h,A?11:12))return 0;if(A&&Me(b)&&zt(),h.da)alert("todo:use_scaling");else{if(S){if(m.Ib=pe,h.Kb){if(b=h.U+1>>1,m.memory=s(h.U+2*b),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+b,m.Ib=De,zt()}}else alert("todo:EmitYUV");A&&(m.Jb=ta,S&&kt())}if(S&&!V1){for(h=0;256>h;++h)Xy[h]=89858*(h-128)+iu>>ru,Zy[h]=-22014*(h-128)+iu,Qy[h]=-45773*(h-128),Jy[h]=113618*(h-128)+iu>>ru;for(h=gl;h<Mf;++h)m=76283*(h-16)+iu>>ru,tb[h-gl]=gr(m,255),eb[h-gl]=gr(m+8>>4,15);V1=1}return 1}function hi(h){var m=h.ma,b=h.U,S=h.T;return e(!(1&h.ka)),0>=b||0>=S?0:(b=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,b),m.Dc+=b,1)}function fi(h){h.ma.memory=null}function oe(h,m,b,S){return ft(h,8)!=47?0:(m[0]=ft(h,14)+1,b[0]=ft(h,14)+1,S[0]=ft(h,1),ft(h,3)!=0?0:!h.h)}function Ur(h,m){if(4>h)return h+1;var b=h-2>>1;return(2+(1&h)<<b)+ft(m,b)+1}function di(h,m){return 120<m?m-120:1<=(b=((b=Oy[m-1])>>4)*h+(8-(15&b)))?b:1;var b}function rr(h,m,b){var S=W(b),A=h[m+=255&S].g-8;return 0<A&&(et(b,b.u+8),S=W(b),m+=h[m].value,m+=S&(1<<A)-1),et(b,b.u+h[m].g),h[m].value}function Sn(h,m,b){return b.g+=h.g,b.value+=h.value<<m>>>0,e(8>=b.g),h.g}function yn(h,m,b){var S=h.xc;return e((m=S==0?0:h.vc[h.md*(b>>S)+(m>>S)])<h.Wb),h.Ya[m]}function mr(h,m,b,S){var A=h.ab,D=h.c*m,T=h.C;m=T+m;var F=b,q=S;for(S=h.Ta,b=h.Ua;0<A--;){var V=h.gc[A],ut=T,At=m,Ct=F,yt=q,Rt=(q=S,F=b,V.Ea);switch(e(ut<At),e(At<=V.nc),V.hc){case 2:Vc(Ct,yt,(At-ut)*Rt,q,F);break;case 0:var Dt=ut,ht=At,gt=q,Ft=F,Bt=(Kt=V).Ea;Dt==0&&(kf(Ct,yt,null,null,1,gt,Ft),Tt(Ct,yt+1,0,0,Bt-1,gt,Ft+1),yt+=Bt,Ft+=Bt,++Dt);for(var Ot=1<<Kt.b,Qt=Ot-1,Gt=Pt(Bt,Kt.b),se=Kt.K,Kt=Kt.w+(Dt>>Kt.b)*Gt;Dt<ht;){var Ne=se,Fe=Kt,Pe=1;for(ul(Ct,yt,gt,Ft-Bt,1,gt,Ft);Pe<Bt;){var Se=(Pe&~Qt)+Ot;Se>Bt&&(Se=Bt),(0,gs[Ne[Fe++]>>8&15])(Ct,yt+ +Pe,gt,Ft+Pe-Bt,Se-Pe,gt,Ft+Pe),Pe=Se}yt+=Bt,Ft+=Bt,++Dt&Qt||(Kt+=Gt)}At!=V.nc&&r(q,F-Rt,q,F+(At-ut-1)*Rt,Rt);break;case 1:for(Rt=Ct,ht=yt,Bt=(Ct=V.Ea)-(Ft=Ct&~(gt=(yt=1<<V.b)-1)),Dt=Pt(Ct,V.b),Ot=V.K,V=V.w+(ut>>V.b)*Dt;ut<At;){for(Qt=Ot,Gt=V,se=new vt,Kt=ht+Ft,Ne=ht+Ct;ht<Kt;)$t(Qt[Gt++],se),aa(se,Rt,ht,yt,q,F),ht+=yt,F+=yt;ht<Ne&&($t(Qt[Gt++],se),aa(se,Rt,ht,Bt,q,F),ht+=Bt,F+=Bt),++ut&gt||(V+=Dt)}break;case 3:if(Ct==q&&yt==F&&0<V.b){for(ht=q,Ct=Rt=F+(At-ut)*Rt-(Ft=(At-ut)*Pt(V.Ea,V.b)),yt=q,gt=F,Dt=[],Ft=(Bt=Ft)-1;0<=Ft;--Ft)Dt[Ft]=yt[gt+Ft];for(Ft=Bt-1;0<=Ft;--Ft)ht[Ct+Ft]=Dt[Ft];Nr(V,ut,At,q,Rt,q,F)}else Nr(V,ut,At,Ct,yt,q,F)}F=S,q=b}q!=b&&r(S,b,F,q,D)}function Ma(h,m){var b=h.V,S=h.Ba+h.c*h.C,A=m-h.C;if(e(m<=h.l.o),e(16>=A),0<A){var D=h.l,T=h.Ta,F=h.Ua,q=D.width;if(mr(h,A,b,S),A=F=[F],e((b=h.C)<(S=m)),e(D.v<D.va),S>D.o&&(S=D.o),b<D.j){var V=D.j-b;b=D.j,A[0]+=V*q}if(b>=S?b=0:(A[0]+=4*D.v,D.ka=b-D.j,D.U=D.va-D.v,D.T=S-b,b=1),b){if(F=F[0],11>(b=h.ca).S){var ut=b.f.RGBA,At=(S=b.S,A=D.U,D=D.T,V=ut.eb,ut.A),Ct=D;for(ut=ut.fb+h.Ma*ut.A;0<Ct--;){var yt=T,Rt=F,Dt=A,ht=V,gt=ut;switch(S){case Qc:ar(yt,Rt,Dt,ht,gt);break;case Zc:Kn(yt,Rt,Dt,ht,gt);break;case Af:Kn(yt,Rt,Dt,ht,gt),Tr(ht,gt,0,Dt,1,0);break;case R1:zi(yt,Rt,Dt,ht,gt);break;case tu:xe(yt,Rt,Dt,ht,gt,1);break;case Cf:xe(yt,Rt,Dt,ht,gt,1),Tr(ht,gt,0,Dt,1,0);break;case eu:xe(yt,Rt,Dt,ht,gt,0);break;case nu:xe(yt,Rt,Dt,ht,gt,0),Tr(ht,gt,1,Dt,1,0);break;case _f:vs(yt,Rt,Dt,ht,gt);break;case Lf:vs(yt,Rt,Dt,ht,gt),Ve(ht,gt,Dt,1,0);break;case j1:Bi(yt,Rt,Dt,ht,gt);break;default:e(0)}F+=q,ut+=At}h.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=b.height)}}h.C=m,e(h.C<=h.i)}function Oi(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var b=h.Ya[m].G,S=h.Ya[m].H;if(0<b[1][S[1]+0].g||0<b[2][S[2]+0].g||0<b[3][S[3]+0].g)return 0}return 1}function $r(h,m,b,S,A,D){if(h.Z!=0){var T=h.qd,F=h.rd;for(e(xs[h.Z]!=null);m<b;++m)xs[h.Z](T,F,S,A,S,A,D),T=S,F=A,A+=D;h.qd=T,h.rd=F}}function Hr(h,m){var b=h.l.ma,S=b.Z==0||b.Z==1?h.l.j:h.C;if(S=h.C<S?S:h.C,e(m<=h.l.o),m>S){var A=h.l.width,D=b.ca,T=b.tb+A*S,F=h.V,q=h.Ba+h.c*S,V=h.gc;e(h.ab==1),e(V[0].hc==3),Gc(V[0],S,m,F,q,D,T),$r(b,S,m,D,T,A)}h.C=h.Ma=m}function Vr(h,m,b,S,A,D,T){var F=h.$/S,q=h.$%S,V=h.m,ut=h.s,At=b+h.$,Ct=At;A=b+S*A;var yt=b+S*D,Rt=280+ut.ua,Dt=h.Pb?F:16777216,ht=0<ut.ua?ut.Wa:null,gt=ut.wc,Ft=At<yt?yn(ut,q,F):null;e(h.C<D),e(yt<=A);var Bt=!1;t:for(;;){for(;Bt||At<yt;){var Ot=0;if(F>=Dt){var Qt=At-b;e((Dt=h).Pb),Dt.wd=Dt.m,Dt.xd=Qt,0<Dt.s.ua&&K(Dt.s.Wa,Dt.s.vb),Dt=F+jy}if(q&gt||(Ft=yn(ut,q,F)),e(Ft!=null),Ft.Qb&&(m[At]=Ft.qb,Bt=!0),!Bt)if(st(V),Ft.jc){Ot=V,Qt=m;var Gt=At,se=Ft.pd[W(Ot)&Tn-1];e(Ft.jc),256>se.g?(et(Ot,Ot.u+se.g),Qt[Gt]=se.value,Ot=0):(et(Ot,Ot.u+se.g-256),e(256<=se.value),Ot=se.value),Ot==0&&(Bt=!0)}else Ot=rr(Ft.G[0],Ft.H[0],V);if(V.h)break;if(Bt||256>Ot){if(!Bt)if(Ft.nd)m[At]=(Ft.qb|Ot<<8)>>>0;else{if(st(V),Bt=rr(Ft.G[1],Ft.H[1],V),st(V),Qt=rr(Ft.G[2],Ft.H[2],V),Gt=rr(Ft.G[3],Ft.H[3],V),V.h)break;m[At]=(Gt<<24|Bt<<16|Ot<<8|Qt)>>>0}if(Bt=!1,++At,++q>=S&&(q=0,++F,T!=null&&F<=D&&!(F%16)&&T(h,F),ht!=null))for(;Ct<At;)Ot=m[Ct++],ht.X[(506832829*Ot&4294967295)>>>ht.Mb]=Ot}else if(280>Ot){if(Ot=Ur(Ot-256,V),Qt=rr(Ft.G[4],Ft.H[4],V),st(V),Qt=di(S,Qt=Ur(Qt,V)),V.h)break;if(At-b<Qt||A-At<Ot)break t;for(Gt=0;Gt<Ot;++Gt)m[At+Gt]=m[At+Gt-Qt];for(At+=Ot,q+=Ot;q>=S;)q-=S,++F,T!=null&&F<=D&&!(F%16)&&T(h,F);if(e(At<=A),q&gt&&(Ft=yn(ut,q,F)),ht!=null)for(;Ct<At;)Ot=m[Ct++],ht.X[(506832829*Ot&4294967295)>>>ht.Mb]=Ot}else{if(!(Ot<Rt))break t;for(Bt=Ot-280,e(ht!=null);Ct<At;)Ot=m[Ct++],ht.X[(506832829*Ot&4294967295)>>>ht.Mb]=Ot;Ot=At,e(!(Bt>>>(Qt=ht).Xa)),m[Ot]=Qt.X[Bt],Bt=!0}Bt||e(V.h==H(V))}if(h.Pb&&V.h&&At<A)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&K(h.s.vb,h.s.Wa);else{if(V.h)break t;T!=null&&T(h,F>D?D:F),h.a=0,h.$=At-b}return 1}return h.a=3,0}function pi(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function Pr(){var h=new xf;return h==null?null:(h.a=0,h.xb=q1,Mn("Predictor","VP8LPredictors"),Mn("Predictor","VP8LPredictors_C"),Mn("PredictorAdd","VP8LPredictorsAdd"),Mn("PredictorAdd","VP8LPredictorsAdd_C"),Vc=xt,aa=Yt,ar=Ht,Kn=Ae,vs=fe,Bi=vn,zi=he,G.VP8LMapColor32b=Xa,G.VP8LMapColor8b=Yc,h)}function mi(h,m,b,S,A){var D=1,T=[h],F=[m],q=S.m,V=S.s,ut=null,At=0;t:for(;;){if(b)for(;D&&ft(q,1);){var Ct=T,yt=F,Rt=S,Dt=1,ht=Rt.m,gt=Rt.gc[Rt.ab],Ft=ft(ht,2);if(Rt.Oc&1<<Ft)D=0;else{switch(Rt.Oc|=1<<Ft,gt.hc=Ft,gt.Ea=Ct[0],gt.nc=yt[0],gt.K=[null],++Rt.ab,e(4>=Rt.ab),Ft){case 0:case 1:gt.b=ft(ht,3)+2,Dt=mi(Pt(gt.Ea,gt.b),Pt(gt.nc,gt.b),0,Rt,gt.K),gt.K=gt.K[0];break;case 3:var Bt,Ot=ft(ht,8)+1,Qt=16<Ot?0:4<Ot?1:2<Ot?2:3;if(Ct[0]=Pt(gt.Ea,Qt),gt.b=Qt,Bt=Dt=mi(Ot,1,0,Rt,gt.K)){var Gt,se=Ot,Kt=gt,Ne=1<<(8>>Kt.b),Fe=s(Ne);if(Fe==null)Bt=0;else{var Pe=Kt.K[0],Se=Kt.w;for(Fe[0]=Kt.K[0][0],Gt=1;Gt<1*se;++Gt)Fe[Gt]=bt(Pe[Se+Gt],Fe[Gt-1]);for(;Gt<4*Ne;++Gt)Fe[Gt]=0;Kt.K[0]=null,Kt.K[0]=Fe,Bt=1}}Dt=Bt;break;case 2:break;default:e(0)}D=Dt}}if(T=T[0],F=F[0],D&&ft(q,1)&&!(D=1<=(At=ft(q,4))&&11>=At)){S.a=3;break t}var qe;if(qe=D)e:{var je,be,wn,or=S,xn=T,lr=F,Oe=At,yr=b,br=or.m,Cn=or.s,En=[null],Jn=1,Fr=0,bi=Ry[Oe];n:for(;;){if(yr&&ft(br,1)){var Ln=ft(br,3)+2,$i=Pt(xn,Ln),ha=Pt(lr,Ln),eo=$i*ha;if(!mi($i,ha,0,or,En))break n;for(En=En[0],Cn.xc=Ln,je=0;je<eo;++je){var ks=En[je]>>8&65535;En[je]=ks,ks>=Jn&&(Jn=ks+1)}}if(br.h)break n;for(be=0;5>be;++be){var an=B1[be];!be&&0<Oe&&(an+=1<<Oe),Fr<an&&(Fr=an)}var Df=a(Jn*bi,B),K1=Jn,X1=a(K1,M);if(X1==null)var au=null;else e(65536>=K1),au=X1;var vl=s(Fr);if(au==null||vl==null||Df==null){or.a=1;break n}var ou=Df;for(je=wn=0;je<Jn;++je){var Jr=au[je],no=Jr.G,ro=Jr.H,J1=0,lu=1,Q1=0;for(be=0;5>be;++be){an=B1[be],no[be]=ou,ro[be]=wn,!be&&0<Oe&&(an+=1<<Oe);i:{var cu,Tf=an,uu=or,yl=vl,ib=ou,sb=wn,Ef=0,Ss=uu.m,ab=ft(Ss,1);if(i(yl,0,0,Tf),ab){var ob=ft(Ss,1)+1,lb=ft(Ss,1),Z1=ft(Ss,lb==0?1:8);yl[Z1]=1,ob==2&&(yl[Z1=ft(Ss,8)]=1);var hu=1}else{var t0=s(19),e0=ft(Ss,4)+4;if(19<e0){uu.a=3;var fu=0;break i}for(cu=0;cu<e0;++cu)t0[Fy[cu]]=ft(Ss,3);var If=void 0,bl=void 0,n0=uu,cb=t0,du=Tf,r0=yl,Ff=0,_s=n0.m,i0=8,s0=a(128,B);r:for(;E(s0,0,7,cb,19);){if(ft(_s,1)){var ub=2+2*ft(_s,3);if((If=2+ft(_s,ub))>du)break r}else If=du;for(bl=0;bl<du&&If--;){st(_s);var a0=s0[0+(127&W(_s))];et(_s,_s.u+a0.g);var io=a0.value;if(16>io)r0[bl++]=io,io!=0&&(i0=io);else{var hb=io==16,o0=io-16,fb=Ey[o0],l0=ft(_s,Ty[o0])+fb;if(bl+l0>du)break r;for(var db=hb?i0:0;0<l0--;)r0[bl++]=db}}Ff=1;break r}Ff||(n0.a=3),hu=Ff}(hu=hu&&!Ss.h)&&(Ef=E(ib,sb,8,yl,Tf)),hu&&Ef!=0?fu=Ef:(uu.a=3,fu=0)}if(fu==0)break n;if(lu&&Iy[be]==1&&(lu=ou[wn].g==0),J1+=ou[wn].g,wn+=fu,3>=be){var wl,Of=vl[0];for(wl=1;wl<an;++wl)vl[wl]>Of&&(Of=vl[wl]);Q1+=Of}}if(Jr.nd=lu,Jr.Qb=0,lu&&(Jr.qb=(no[3][ro[3]+0].value<<24|no[1][ro[1]+0].value<<16|no[2][ro[2]+0].value)>>>0,J1==0&&256>no[0][ro[0]+0].value&&(Jr.Qb=1,Jr.qb+=no[0][ro[0]+0].value<<8)),Jr.jc=!Jr.Qb&&6>Q1,Jr.jc){var pu,Hi=Jr;for(pu=0;pu<Tn;++pu){var As=pu,Cs=Hi.pd[As],mu=Hi.G[0][Hi.H[0]+As];256<=mu.value?(Cs.g=mu.g+256,Cs.value=mu.value):(Cs.g=0,Cs.value=0,As>>=Sn(mu,8,Cs),As>>=Sn(Hi.G[1][Hi.H[1]+As],16,Cs),As>>=Sn(Hi.G[2][Hi.H[2]+As],0,Cs),Sn(Hi.G[3][Hi.H[3]+As],24,Cs))}}}Cn.vc=En,Cn.Wb=Jn,Cn.Ya=au,Cn.yc=Df,qe=1;break e}qe=0}if(!(D=qe)){S.a=3;break t}if(0<At){if(V.ua=1<<At,!tt(V.Wa,At)){S.a=1,D=0;break t}}else V.ua=0;var Rf=S,c0=T,pb=F,jf=Rf.s,Bf=jf.xc;if(Rf.c=c0,Rf.i=pb,jf.md=Pt(c0,Bf),jf.wc=Bf==0?-1:(1<<Bf)-1,b){S.xb=Hy;break t}if((ut=s(T*F))==null){S.a=1,D=0;break t}D=(D=Vr(S,ut,0,T,F,F,null))&&!q.h;break t}return D?(A!=null?A[0]=ut:(e(ut==null),e(b)),S.$=0,b||pi(V)):pi(V),D}function ea(h,m){var b=h.c*h.i,S=b+m+16*m;return e(h.c<=m),h.V=s(S),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+b+m,1)}function Da(h,m){var b=h.C,S=m-b,A=h.V,D=h.Ba+h.c*b;for(e(m<=h.l.o);0<S;){var T=16<S?16:S,F=h.l.ma,q=h.l.width,V=q*T,ut=F.ca,At=F.tb+q*b,Ct=h.Ta,yt=h.Ua;mr(h,T,A,D),hn(Ct,yt,ut,At,V),$r(F,b,b+T,ut,At,q),S-=T,A+=T*h.c,b+=T}e(b==m),h.C=h.Ma=m}function Ta(){this.ub=this.yd=this.td=this.Rb=0}function Ea(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ia(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cc(){this.Yb=function(){var h=[];return function m(b,S,A){for(var D=A[S],T=0;T<D&&(b.push(A.length>S+1?[]:0),!(A.length<S+1));T++)m(b[T],S+1,A)}(h,0,[3,11]),h}()}function Jh(){this.jb=s(3),this.Wc=o([4,8],Cc),this.Xc=o([4,17],Cc)}function Qh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fa(){this.ld=this.La=this.dd=this.tc=0}function Lc(){this.Na=this.la=0}function Zh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ho(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fa),this.Y=0,this.ya=Array(new Ho),this.aa=0,this.l=new Oa}function Pc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ef(){this.cb=this.a=0,this.sc="",this.m=new It,this.Od=new Ta,this.Kc=new Ea,this.ed=new Qh,this.Qa=new Ia,this.Ic=this.$c=this.Aa=0,this.D=new tf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,It),this.ia=0,this.pb=a(4,Zh),this.Pa=new Jh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pc),this.Hd=0,this.rb=Array(new Lc),this.sb=0,this.wa=Array(new Fa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ho),this.L=this.aa=0,this.gd=o([4,2],Fa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function nf(){var h=new ef;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,ml||(ml=Dc)),h}function cn(h,m,b){return h.a==0&&(h.a=m,h.sc=b,h.cb=0),0}function Nc(h,m,b){return 3<=b&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Mc(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return cn(h,2,"null VP8Io passed to VP8GetHeaders()");var b=m.data,S=m.w,A=m.ha;if(4>A)return cn(h,7,"Truncated header.");var D=b[S+0]|b[S+1]<<8|b[S+2]<<16,T=h.Od;if(T.Rb=!(1&D),T.td=D>>1&7,T.yd=D>>4&1,T.ub=D>>5,3<T.td)return cn(h,3,"Incorrect keyframe parameters.");if(!T.yd)return cn(h,4,"Frame not displayable.");S+=3,A-=3;var F=h.Kc;if(T.Rb){if(7>A)return cn(h,7,"cannot parse picture header");if(!Nc(b,S,A))return cn(h,3,"Bad code word");F.c=16383&(b[S+4]<<8|b[S+3]),F.Td=b[S+4]>>6,F.i=16383&(b[S+6]<<8|b[S+5]),F.Ud=b[S+6]>>6,S+=7,A-=7,h.za=F.c+15>>4,h.Ub=F.i+15>>4,m.width=F.c,m.height=F.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((D=h.Pa).jb,0,255,D.jb.length),e((D=h.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(T.ub>A)return cn(h,7,"bad partition length");ot(D=h.m,b,S,T.ub),S+=T.ub,A-=T.ub,T.Rb&&(F.Ld=z(D),F.Kd=z(D)),F=h.Qa;var q,V=h.Pa;if(e(D!=null),e(F!=null),F.Cb=z(D),F.Cb){if(F.Bb=z(D),z(D)){for(F.Fb=z(D),q=0;4>q;++q)F.Zb[q]=z(D)?rt(D,7):0;for(q=0;4>q;++q)F.Lb[q]=z(D)?rt(D,6):0}if(F.Bb)for(q=0;3>q;++q)V.jb[q]=z(D)?Y(D,8):255}else F.Bb=0;if(D.Ka)return cn(h,3,"cannot parse segment header");if((F=h.ed).zd=z(D),F.Tb=Y(D,6),F.wb=Y(D,3),F.Pc=z(D),F.Pc&&z(D)){for(V=0;4>V;++V)z(D)&&(F.vd[V]=rt(D,6));for(V=0;4>V;++V)z(D)&&(F.od[V]=rt(D,6))}if(h.L=F.Tb==0?0:F.zd?1:2,D.Ka)return cn(h,3,"cannot parse filter header");var ut=A;if(A=q=S,S=q+ut,F=ut,h.Xb=(1<<Y(h.m,2))-1,ut<3*(V=h.Xb))b=7;else{for(q+=3*V,F-=3*V,ut=0;ut<V;++ut){var At=b[A+0]|b[A+1]<<8|b[A+2]<<16;At>F&&(At=F),ot(h.Jc[+ut],b,q,At),q+=At,F-=At,A+=3}ot(h.Jc[+V],b,q,F),b=q<S?0:5}if(b!=0)return cn(h,b,"cannot parse partitions");for(b=Y(q=h.m,7),A=z(q)?rt(q,4):0,S=z(q)?rt(q,4):0,F=z(q)?rt(q,4):0,V=z(q)?rt(q,4):0,q=z(q)?rt(q,4):0,ut=h.Qa,At=0;4>At;++At){if(ut.Cb){var Ct=ut.Zb[At];ut.Fb||(Ct+=b)}else{if(0<At){h.pb[At]=h.pb[0];continue}Ct=b}var yt=h.pb[At];yt.Sc[0]=Pf[gr(Ct+A,127)],yt.Sc[1]=Nf[gr(Ct+0,127)],yt.Eb[0]=2*Pf[gr(Ct+S,127)],yt.Eb[1]=101581*Nf[gr(Ct+F,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=Pf[gr(Ct+V,117)],yt.Qc[1]=Nf[gr(Ct+q,127)],yt.lc=Ct+q}if(!T.Rb)return cn(h,4,"Not a key frame.");for(z(D),T=h.Pa,b=0;4>b;++b){for(A=0;8>A;++A)for(S=0;3>S;++S)for(F=0;11>F;++F)V=U(D,Uy[b][A][S][F])?Y(D,8):qy[b][A][S][F],T.Wc[b][A].Yb[S][F]=V;for(A=0;17>A;++A)T.Xc[b][A]=T.Wc[b][$y[A]]}return h.kc=z(D),h.kc&&(h.Bd=Y(D,8)),h.cb=1}function Dc(h,m,b,S,A,D,T){var F=m[A].Yb[b];for(b=0;16>A;++A){if(!U(h,F[b+0]))return A;for(;!U(h,F[b+1]);)if(F=m[++A].Yb[0],b=0,A==16)return 16;var q=m[A+1].Yb;if(U(h,F[b+2])){var V=h,ut=0;if(U(V,(Ct=F)[(At=b)+3]))if(U(V,Ct[At+6])){for(F=0,At=2*(ut=U(V,Ct[At+8]))+(Ct=U(V,Ct[At+9+ut])),ut=0,Ct=By[At];Ct[F];++F)ut+=ut+U(V,Ct[F]);ut+=3+(8<<At)}else U(V,Ct[At+7])?(ut=7+2*U(V,165),ut+=U(V,145)):ut=5+U(V,159);else ut=U(V,Ct[At+4])?3+U(V,Ct[At+5]):2;F=q[2]}else ut=1,F=q[1];q=T+zy[A],0>(V=h).b&&$(V);var At,Ct=V.b,yt=(At=V.Ca>>1)-(V.I>>Ct)>>31;--V.b,V.Ca+=yt,V.Ca|=1,V.I-=(At+1&yt)<<Ct,D[q]=((ut^yt)-yt)*S[(0<A)+0]}return 16}function Vo(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function rf(h,m){if(h==null)return 0;if(m==null)return cn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Mc(h,m))return 0;if(e(h.cb),m.ac==null||m.ac(m)){m.ob&&(h.L=0);var b=su[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=m.v-b>>4,h.zb=m.j-b>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=m.o+15+b>>4,h.Hb=m.va+15+b>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var S=h.ed;for(b=0;4>b;++b){var A;if(h.Qa.Cb){var D=h.Qa.Lb[b];h.Qa.Fb||(D+=S.Tb)}else D=S.Tb;for(A=0;1>=A;++A){var T=h.gd[b][A],F=D;if(S.Pc&&(F+=S.vd[0],A&&(F+=S.od[0])),0<(F=0>F?0:63<F?63:F)){var q=F;0<S.wb&&(q=4<S.wb?q>>2:q>>1)>9-S.wb&&(q=9-S.wb),1>q&&(q=1),T.dd=q,T.tc=2*F+q,T.ld=40<=F?2:15<=F?1:0}else T.tc=0;T.La=A}}}b=0}else cn(h,6,"Frame setup failed"),b=h.a;if(b=b==0){if(b){h.$c=0,0<h.Aa||(h.Ic=rb);t:{b=h.Ic,S=4*(q=h.za);var V=32*q,ut=q+1,At=0<h.L?q*(0<h.Aa?2:1):0,Ct=(h.Aa==2?2:1)*q;if((T=S+832+(A=3*(16*b+su[h.L])/2*V)+(D=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=T)b=0;else{if(T>h.Vb){if(h.Vb=0,h.Ec=s(T),h.Fc=0,h.Ec==null){b=cn(h,1,"no memory during frame initialization.");break t}h.Vb=T}T=h.Ec,F=h.Fc,h.Ac=T,h.Bc=F,F+=S,h.Gd=a(V,Pc),h.Hd=0,h.rb=a(ut+1,Lc),h.sb=1,h.wa=At?a(At,Fa):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=q),e(!0),h.oc=T,h.pc=F,F+=832,h.ya=a(Ct,Ho),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=q),h.R=16*q,h.B=8*q,q=(V=su[h.L])*h.R,V=V/2*h.B,h.sa=T,h.ta=F+q,h.qa=h.sa,h.ra=h.ta+16*b*h.R+V,h.Ha=h.qa,h.Ia=h.ra+8*b*h.B+V,h.$c=0,F+=A,h.mb=D?T:null,h.nb=D?F:null,e(F+D<=h.Fc+h.Vb),Vo(h),i(h.Ac,h.Bc,0,S),b=1}}if(b){if(m.ka=0,m.y=h.sa,m.O=h.ta,m.f=h.qa,m.N=h.ra,m.ea=h.Ha,m.Vd=h.Ia,m.fa=h.R,m.Rc=h.B,m.F=null,m.J=0,!Xc){for(b=-255;255>=b;++b)_n[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)Wi[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)pl[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)to[255+b]=0>b?0:255<b?255:b;Xc=1}Ja=of,qi=sf,hl=Ec,Xn=af,Mr=Ic,un=Tc,Qa=Qo,Kc=ia,fl=wf,oa=Zo,la=bf,ys=Wa,ca=tl,Za=Uc,ua=Wc,bs=vi,dl=ji,Dr=yf,Xr[0]=gi,Xr[1]=lf,Xr[2]=ff,Xr[3]=df,Xr[4]=Rc,Xr[5]=za,Xr[6]=jc,Xr[7]=Ko,Xr[8]=mf,Xr[9]=pf,ws[0]=Fc,ws[1]=uf,ws[2]=Ri,ws[3]=ja,ws[4]=Rn,ws[5]=hf,ws[6]=Oc,Ui[0]=ds,Ui[1]=cf,Ui[2]=gf,Ui[3]=Xo,Ui[4]=ra,Ui[5]=vf,Ui[6]=Jo,b=1}else b=0}b&&(b=function(yt,Rt){for(yt.M=0;yt.M<yt.Va;++yt.M){var Dt,ht=yt.Jc[yt.M&yt.Xb],gt=yt.m,Ft=yt;for(Dt=0;Dt<Ft.za;++Dt){var Bt=gt,Ot=Ft,Qt=Ot.Ac,Gt=Ot.Bc+4*Dt,se=Ot.zc,Kt=Ot.ya[Ot.aa+Dt];if(Ot.Qa.Bb?Kt.$b=U(Bt,Ot.Pa.jb[0])?2+U(Bt,Ot.Pa.jb[2]):U(Bt,Ot.Pa.jb[1]):Kt.$b=0,Ot.kc&&(Kt.Ad=U(Bt,Ot.Bd)),Kt.Za=!U(Bt,145)+0,Kt.Za){var Ne=Kt.Ob,Fe=0;for(Ot=0;4>Ot;++Ot){var Pe,Se=se[0+Ot];for(Pe=0;4>Pe;++Pe){Se=Wy[Qt[Gt+Pe]][Se];for(var qe=z1[U(Bt,Se[0])];0<qe;)qe=z1[2*qe+U(Bt,Se[qe])];Se=-qe,Qt[Gt+Pe]=Se}r(Ne,Fe,Qt,Gt,4),Fe+=4,se[0+Ot]=Se}}else Se=U(Bt,156)?U(Bt,128)?1:3:U(Bt,163)?2:0,Kt.Ob[0]=Se,i(Qt,Gt,Se,4),i(se,0,Se,4);Kt.Dd=U(Bt,142)?U(Bt,114)?U(Bt,183)?1:3:2:0}if(Ft.m.Ka)return cn(yt,7,"Premature end-of-partition0 encountered.");for(;yt.ja<yt.za;++yt.ja){if(Ft=ht,Bt=(gt=yt).rb[gt.sb-1],Qt=gt.rb[gt.sb+gt.ja],Dt=gt.ya[gt.aa+gt.ja],Gt=gt.kc?Dt.Ad:0)Bt.la=Qt.la=0,Dt.Za||(Bt.Na=Qt.Na=0),Dt.Hc=0,Dt.Gc=0,Dt.ia=0;else{var je,be;if(Bt=Qt,Qt=Ft,Gt=gt.Pa.Xc,se=gt.ya[gt.aa+gt.ja],Kt=gt.pb[se.$b],Ot=se.ad,Ne=0,Fe=gt.rb[gt.sb-1],Se=Pe=0,i(Ot,Ne,0,384),se.Za)var wn=0,or=Gt[3];else{qe=s(16);var xn=Bt.Na+Fe.Na;if(xn=ml(Qt,Gt[1],xn,Kt.Eb,0,qe,0),Bt.Na=Fe.Na=(0<xn)+0,1<xn)Ja(qe,0,Ot,Ne);else{var lr=qe[0]+3>>3;for(qe=0;256>qe;qe+=16)Ot[Ne+qe]=lr}wn=1,or=Gt[0]}var Oe=15&Bt.la,yr=15&Fe.la;for(qe=0;4>qe;++qe){var br=1&yr;for(lr=be=0;4>lr;++lr)Oe=Oe>>1|(br=(xn=ml(Qt,or,xn=br+(1&Oe),Kt.Sc,wn,Ot,Ne))>wn)<<7,be=be<<2|(3<xn?3:1<xn?2:Ot[Ne+0]!=0),Ne+=16;Oe>>=4,yr=yr>>1|br<<7,Pe=(Pe<<8|be)>>>0}for(or=Oe,wn=yr>>4,je=0;4>je;je+=2){for(be=0,Oe=Bt.la>>4+je,yr=Fe.la>>4+je,qe=0;2>qe;++qe){for(br=1&yr,lr=0;2>lr;++lr)xn=br+(1&Oe),Oe=Oe>>1|(br=0<(xn=ml(Qt,Gt[2],xn,Kt.Qc,0,Ot,Ne)))<<3,be=be<<2|(3<xn?3:1<xn?2:Ot[Ne+0]!=0),Ne+=16;Oe>>=2,yr=yr>>1|br<<5}Se|=be<<4*je,or|=Oe<<4<<je,wn|=(240&yr)<<je}Bt.la=or,Fe.la=wn,se.Hc=Pe,se.Gc=Se,se.ia=43690&Se?0:Kt.ia,Gt=!(Pe|Se)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[Dt.$b][Dt.Za],gt.wa[gt.Y+gt.ja].La|=!Gt),Ft.Ka)return cn(yt,7,"Premature end-of-file encountered.")}if(Vo(yt),gt=Rt,Ft=1,Dt=(ht=yt).D,Bt=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(Dt.M=ht.M,Dt.uc=Bt,al(ht,Dt),Ft=1,Dt=(be=ht.D).Nb,Bt=(Se=su[ht.L])*ht.R,Qt=Se/2*ht.B,qe=16*Dt*ht.R,lr=8*Dt*ht.B,Gt=ht.sa,se=ht.ta-Bt+qe,Kt=ht.qa,Ot=ht.ra-Qt+lr,Ne=ht.Ha,Fe=ht.Ia-Qt+lr,yr=(Oe=be.M)==0,Pe=Oe>=ht.Va-1,ht.Aa==2&&al(ht,be),be.uc)for(br=(xn=ht).D.M,e(xn.D.uc),be=xn.yb;be<xn.Hb;++be){wn=be,or=br;var Cn=(En=(an=xn).D).Nb;je=an.R;var En=En.wa[En.Y+wn],Jn=an.sa,Fr=an.ta+16*Cn*je+16*wn,bi=En.dd,Ln=En.tc;if(Ln!=0)if(e(3<=Ln),an.L==1)0<wn&&bs(Jn,Fr,je,Ln+4),En.La&&Dr(Jn,Fr,je,Ln),0<or&&ua(Jn,Fr,je,Ln+4),En.La&&dl(Jn,Fr,je,Ln);else{var $i=an.B,ha=an.qa,eo=an.ra+8*Cn*$i+8*wn,ks=an.Ha,an=an.Ia+8*Cn*$i+8*wn;Cn=En.ld,0<wn&&(Kc(Jn,Fr,je,Ln+4,bi,Cn),oa(ha,eo,ks,an,$i,Ln+4,bi,Cn)),En.La&&(ys(Jn,Fr,je,Ln,bi,Cn),Za(ha,eo,ks,an,$i,Ln,bi,Cn)),0<or&&(Qa(Jn,Fr,je,Ln+4,bi,Cn),fl(ha,eo,ks,an,$i,Ln+4,bi,Cn)),En.La&&(la(Jn,Fr,je,Ln,bi,Cn),ca(ha,eo,ks,an,$i,Ln,bi,Cn))}}if(ht.ia&&alert("todo:DitherRow"),gt.put!=null){if(be=16*Oe,Oe=16*(Oe+1),yr?(gt.y=ht.sa,gt.O=ht.ta+qe,gt.f=ht.qa,gt.N=ht.ra+lr,gt.ea=ht.Ha,gt.W=ht.Ia+lr):(be-=Se,gt.y=Gt,gt.O=se,gt.f=Kt,gt.N=Ot,gt.ea=Ne,gt.W=Fe),Pe||(Oe-=Se),Oe>gt.o&&(Oe=gt.o),gt.F=null,gt.J=null,ht.Fa!=null&&0<ht.Fa.length&&be<Oe&&(gt.J=il(ht,gt,be,Oe-be),gt.F=ht.mb,gt.F==null&&gt.F.length==0)){Ft=cn(ht,3,"Could not decode alpha data.");break t}be<gt.j&&(Se=gt.j-be,be=gt.j,e(!(1&Se)),gt.O+=ht.R*Se,gt.N+=ht.B*(Se>>1),gt.W+=ht.B*(Se>>1),gt.F!=null&&(gt.J+=gt.width*Se)),be<Oe&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=be-gt.j,gt.U=gt.va-gt.v,gt.T=Oe-be,Ft=gt.put(gt))}Dt+1!=ht.Ic||Pe||(r(ht.sa,ht.ta-Bt,Gt,se+16*ht.R,Bt),r(ht.qa,ht.ra-Qt,Kt,Ot+8*ht.B,Qt),r(ht.Ha,ht.Ia-Qt,Ne,Fe+8*ht.B,Qt))}if(!Ft)return cn(yt,6,"Output aborted.")}return 1}(h,m)),m.bc!=null&&m.bc(m),b&=1}return b?(h.cb=0,b):0}function Gr(h,m,b,S,A){A=h[m+b+32*S]+(A>>3),h[m+b+32*S]=-256&A?0>A?0:255:A}function Ra(h,m,b,S,A,D){Gr(h,m,0,b,S+A),Gr(h,m,1,b,S+D),Gr(h,m,2,b,S-D),Gr(h,m,3,b,S-A)}function ir(h){return(20091*h>>16)+h}function Go(h,m,b,S){var A,D=0,T=s(16);for(A=0;4>A;++A){var F=h[m+0]+h[m+8],q=h[m+0]-h[m+8],V=(35468*h[m+4]>>16)-ir(h[m+12]),ut=ir(h[m+4])+(35468*h[m+12]>>16);T[D+0]=F+ut,T[D+1]=q+V,T[D+2]=q-V,T[D+3]=F-ut,D+=4,m++}for(A=D=0;4>A;++A)F=(h=T[D+0]+4)+T[D+8],q=h-T[D+8],V=(35468*T[D+4]>>16)-ir(T[D+12]),Gr(b,S,0,0,F+(ut=ir(T[D+4])+(35468*T[D+12]>>16))),Gr(b,S,1,0,q+V),Gr(b,S,2,0,q-V),Gr(b,S,3,0,F-ut),D++,S+=32}function Tc(h,m,b,S){var A=h[m+0]+4,D=35468*h[m+4]>>16,T=ir(h[m+4]),F=35468*h[m+1]>>16;Ra(b,S,0,A+T,h=ir(h[m+1]),F),Ra(b,S,1,A+D,h,F),Ra(b,S,2,A-D,h,F),Ra(b,S,3,A-T,h,F)}function sf(h,m,b,S,A){Go(h,m,b,S),A&&Go(h,m+16,b,S+4)}function Ec(h,m,b,S){qi(h,m+0,b,S,1),qi(h,m+32,b,S+128,1)}function af(h,m,b,S){var A;for(h=h[m+0]+4,A=0;4>A;++A)for(m=0;4>m;++m)Gr(b,S,m,A,h)}function Ic(h,m,b,S){h[m+0]&&Xn(h,m+0,b,S),h[m+16]&&Xn(h,m+16,b,S+4),h[m+32]&&Xn(h,m+32,b,S+128),h[m+48]&&Xn(h,m+48,b,S+128+4)}function of(h,m,b,S){var A,D=s(16);for(A=0;4>A;++A){var T=h[m+0+A]+h[m+12+A],F=h[m+4+A]+h[m+8+A],q=h[m+4+A]-h[m+8+A],V=h[m+0+A]-h[m+12+A];D[0+A]=T+F,D[8+A]=T-F,D[4+A]=V+q,D[12+A]=V-q}for(A=0;4>A;++A)T=(h=D[0+4*A]+3)+D[3+4*A],F=D[1+4*A]+D[2+4*A],q=D[1+4*A]-D[2+4*A],V=h-D[3+4*A],b[S+0]=T+F>>3,b[S+16]=V+q>>3,b[S+32]=T-F>>3,b[S+48]=V-q>>3,S+=64}function Yo(h,m,b){var S,A=m-32,D=vr,T=255-h[A-1];for(S=0;S<b;++S){var F,q=D,V=T+h[m-1];for(F=0;F<b;++F)h[m+F]=q[V+h[A+F]];m+=32}}function lf(h,m){Yo(h,m,4)}function cf(h,m){Yo(h,m,8)}function uf(h,m){Yo(h,m,16)}function Ri(h,m){var b;for(b=0;16>b;++b)r(h,m+32*b,h,m-32,16)}function ja(h,m){var b;for(b=16;0<b;--b)i(h,m,h[m-1],16),m+=32}function Ba(h,m,b){var S;for(S=0;16>S;++S)i(m,b+32*S,h,16)}function Fc(h,m){var b,S=16;for(b=0;16>b;++b)S+=h[m-1+32*b]+h[m+b-32];Ba(S>>5,h,m)}function Rn(h,m){var b,S=8;for(b=0;16>b;++b)S+=h[m-1+32*b];Ba(S>>4,h,m)}function hf(h,m){var b,S=8;for(b=0;16>b;++b)S+=h[m+b-32];Ba(S>>4,h,m)}function Oc(h,m){Ba(128,h,m)}function de(h,m,b){return h+2*m+b+2>>2}function ff(h,m){var b,S=m-32;for(S=new Uint8Array([de(h[S-1],h[S+0],h[S+1]),de(h[S+0],h[S+1],h[S+2]),de(h[S+1],h[S+2],h[S+3]),de(h[S+2],h[S+3],h[S+4])]),b=0;4>b;++b)r(h,m+32*b,S,0,S.length)}function df(h,m){var b=h[m-1],S=h[m-1+32],A=h[m-1+64],D=h[m-1+96];at(h,m+0,16843009*de(h[m-1-32],b,S)),at(h,m+32,16843009*de(b,S,A)),at(h,m+64,16843009*de(S,A,D)),at(h,m+96,16843009*de(A,D,D))}function gi(h,m){var b,S=4;for(b=0;4>b;++b)S+=h[m+b-32]+h[m-1+32*b];for(S>>=3,b=0;4>b;++b)i(h,m+32*b,S,4)}function Rc(h,m){var b=h[m-1+0],S=h[m-1+32],A=h[m-1+64],D=h[m-1-32],T=h[m+0-32],F=h[m+1-32],q=h[m+2-32],V=h[m+3-32];h[m+0+96]=de(S,A,h[m-1+96]),h[m+1+96]=h[m+0+64]=de(b,S,A),h[m+2+96]=h[m+1+64]=h[m+0+32]=de(D,b,S),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=de(T,D,b),h[m+3+64]=h[m+2+32]=h[m+1+0]=de(F,T,D),h[m+3+32]=h[m+2+0]=de(q,F,T),h[m+3+0]=de(V,q,F)}function jc(h,m){var b=h[m+1-32],S=h[m+2-32],A=h[m+3-32],D=h[m+4-32],T=h[m+5-32],F=h[m+6-32],q=h[m+7-32];h[m+0+0]=de(h[m+0-32],b,S),h[m+1+0]=h[m+0+32]=de(b,S,A),h[m+2+0]=h[m+1+32]=h[m+0+64]=de(S,A,D),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=de(A,D,T),h[m+3+32]=h[m+2+64]=h[m+1+96]=de(D,T,F),h[m+3+64]=h[m+2+96]=de(T,F,q),h[m+3+96]=de(F,q,q)}function za(h,m){var b=h[m-1+0],S=h[m-1+32],A=h[m-1+64],D=h[m-1-32],T=h[m+0-32],F=h[m+1-32],q=h[m+2-32],V=h[m+3-32];h[m+0+0]=h[m+1+64]=D+T+1>>1,h[m+1+0]=h[m+2+64]=T+F+1>>1,h[m+2+0]=h[m+3+64]=F+q+1>>1,h[m+3+0]=q+V+1>>1,h[m+0+96]=de(A,S,b),h[m+0+64]=de(S,b,D),h[m+0+32]=h[m+1+96]=de(b,D,T),h[m+1+32]=h[m+2+96]=de(D,T,F),h[m+2+32]=h[m+3+96]=de(T,F,q),h[m+3+32]=de(F,q,V)}function Ko(h,m){var b=h[m+0-32],S=h[m+1-32],A=h[m+2-32],D=h[m+3-32],T=h[m+4-32],F=h[m+5-32],q=h[m+6-32],V=h[m+7-32];h[m+0+0]=b+S+1>>1,h[m+1+0]=h[m+0+64]=S+A+1>>1,h[m+2+0]=h[m+1+64]=A+D+1>>1,h[m+3+0]=h[m+2+64]=D+T+1>>1,h[m+0+32]=de(b,S,A),h[m+1+32]=h[m+0+96]=de(S,A,D),h[m+2+32]=h[m+1+96]=de(A,D,T),h[m+3+32]=h[m+2+96]=de(D,T,F),h[m+3+64]=de(T,F,q),h[m+3+96]=de(F,q,V)}function pf(h,m){var b=h[m-1+0],S=h[m-1+32],A=h[m-1+64],D=h[m-1+96];h[m+0+0]=b+S+1>>1,h[m+2+0]=h[m+0+32]=S+A+1>>1,h[m+2+32]=h[m+0+64]=A+D+1>>1,h[m+1+0]=de(b,S,A),h[m+3+0]=h[m+1+32]=de(S,A,D),h[m+3+32]=h[m+1+64]=de(A,D,D),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=D}function mf(h,m){var b=h[m-1+0],S=h[m-1+32],A=h[m-1+64],D=h[m-1+96],T=h[m-1-32],F=h[m+0-32],q=h[m+1-32],V=h[m+2-32];h[m+0+0]=h[m+2+32]=b+T+1>>1,h[m+0+32]=h[m+2+64]=S+b+1>>1,h[m+0+64]=h[m+2+96]=A+S+1>>1,h[m+0+96]=D+A+1>>1,h[m+3+0]=de(F,q,V),h[m+2+0]=de(T,F,q),h[m+1+0]=h[m+3+32]=de(b,T,F),h[m+1+32]=h[m+3+64]=de(S,b,T),h[m+1+64]=h[m+3+96]=de(A,S,b),h[m+1+96]=de(D,A,S)}function gf(h,m){var b;for(b=0;8>b;++b)r(h,m+32*b,h,m-32,8)}function Xo(h,m){var b;for(b=0;8>b;++b)i(h,m,h[m-1],8),m+=32}function na(h,m,b){var S;for(S=0;8>S;++S)i(m,b+32*S,h,8)}function ds(h,m){var b,S=8;for(b=0;8>b;++b)S+=h[m+b-32]+h[m-1+32*b];na(S>>4,h,m)}function vf(h,m){var b,S=4;for(b=0;8>b;++b)S+=h[m+b-32];na(S>>3,h,m)}function ra(h,m){var b,S=4;for(b=0;8>b;++b)S+=h[m-1+32*b];na(S>>3,h,m)}function Jo(h,m){na(128,h,m)}function qa(h,m,b){var S=h[m-b],A=h[m+0],D=3*(A-S)+Sf[1020+h[m-2*b]-h[m+b]],T=Jc[112+(D+4>>3)];h[m-b]=vr[255+S+Jc[112+(D+3>>3)]],h[m+0]=vr[255+A-T]}function Bc(h,m,b,S){var A=h[m+0],D=h[m+b];return Er[255+h[m-2*b]-h[m-b]]>S||Er[255+D-A]>S}function zc(h,m,b,S){return 4*Er[255+h[m-b]-h[m+0]]+Er[255+h[m-2*b]-h[m+b]]<=S}function qc(h,m,b,S,A){var D=h[m-3*b],T=h[m-2*b],F=h[m-b],q=h[m+0],V=h[m+b],ut=h[m+2*b],At=h[m+3*b];return 4*Er[255+F-q]+Er[255+T-V]>S?0:Er[255+h[m-4*b]-D]<=A&&Er[255+D-T]<=A&&Er[255+T-F]<=A&&Er[255+At-ut]<=A&&Er[255+ut-V]<=A&&Er[255+V-q]<=A}function Wc(h,m,b,S){var A=2*S+1;for(S=0;16>S;++S)zc(h,m+S,b,A)&&qa(h,m+S,b)}function vi(h,m,b,S){var A=2*S+1;for(S=0;16>S;++S)zc(h,m+S*b,1,A)&&qa(h,m+S*b,1)}function ji(h,m,b,S){var A;for(A=3;0<A;--A)Wc(h,m+=4*b,b,S)}function yf(h,m,b,S){var A;for(A=3;0<A;--A)vi(h,m+=4,b,S)}function ps(h,m,b,S,A,D,T,F){for(D=2*D+1;0<A--;){if(qc(h,m,b,D,T))if(Bc(h,m,b,F))qa(h,m,b);else{var q=h,V=m,ut=b,At=q[V-2*ut],Ct=q[V-ut],yt=q[V+0],Rt=q[V+ut],Dt=q[V+2*ut],ht=27*(Ft=Sf[1020+3*(yt-Ct)+Sf[1020+At-Rt]])+63>>7,gt=18*Ft+63>>7,Ft=9*Ft+63>>7;q[V-3*ut]=vr[255+q[V-3*ut]+Ft],q[V-2*ut]=vr[255+At+gt],q[V-ut]=vr[255+Ct+ht],q[V+0]=vr[255+yt-ht],q[V+ut]=vr[255+Rt-gt],q[V+2*ut]=vr[255+Dt-Ft]}m+=S}}function Yr(h,m,b,S,A,D,T,F){for(D=2*D+1;0<A--;){if(qc(h,m,b,D,T))if(Bc(h,m,b,F))qa(h,m,b);else{var q=h,V=m,ut=b,At=q[V-ut],Ct=q[V+0],yt=q[V+ut],Rt=Jc[112+((Dt=3*(Ct-At))+4>>3)],Dt=Jc[112+(Dt+3>>3)],ht=Rt+1>>1;q[V-2*ut]=vr[255+q[V-2*ut]+ht],q[V-ut]=vr[255+At+Dt],q[V+0]=vr[255+Ct-Rt],q[V+ut]=vr[255+yt-ht]}m+=S}}function Qo(h,m,b,S,A,D){ps(h,m,b,1,16,S,A,D)}function ia(h,m,b,S,A,D){ps(h,m,1,b,16,S,A,D)}function bf(h,m,b,S,A,D){var T;for(T=3;0<T;--T)Yr(h,m+=4*b,b,1,16,S,A,D)}function Wa(h,m,b,S,A,D){var T;for(T=3;0<T;--T)Yr(h,m+=4,1,b,16,S,A,D)}function wf(h,m,b,S,A,D,T,F){ps(h,m,A,1,8,D,T,F),ps(b,S,A,1,8,D,T,F)}function Zo(h,m,b,S,A,D,T,F){ps(h,m,1,A,8,D,T,F),ps(b,S,1,A,8,D,T,F)}function tl(h,m,b,S,A,D,T,F){Yr(h,m+4*A,A,1,8,D,T,F),Yr(b,S+4*A,A,1,8,D,T,F)}function Uc(h,m,b,S,A,D,T,F){Yr(h,m+4,1,A,8,D,T,F),Yr(b,S+4,1,A,8,D,T,F)}function Ua(){this.ba=new Wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function el(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $c(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new B}function xf(){this.xb=this.a=0,this.l=new Oa,this.ca=new Wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $c,this.ab=0,this.gc=a(4,nl),this.Oc=0}function $a(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sa(h,m,b,S,A,D,T){for(h=h==null?0:h[m+0],m=0;m<T;++m)A[D+m]=h+b[S+m]&255,h=A[D+m]}function rl(h,m,b,S,A,D,T){var F;if(h==null)sa(null,null,b,S,A,D,T);else for(F=0;F<T;++F)A[D+F]=h[m+F]+b[S+F]&255}function ms(h,m,b,S,A,D,T){if(h==null)sa(null,null,b,S,A,D,T);else{var F,q=h[m+0],V=q,ut=q;for(F=0;F<T;++F)V=ut+(q=h[m+F])-V,ut=b[S+F]+(-256&V?0>V?0:255:V)&255,V=q,A[D+F]=ut}}function il(h,m,b,S){var A=m.width,D=m.o;if(e(h!=null&&m!=null),0>b||0>=S||b+S>D)return null;if(!h.Cc){if(h.ga==null){var T;if(h.ga=new $a,(T=h.ga==null)||(T=m.width*m.o,e(h.Gb.length==0),h.Gb=s(T),h.Uc=0,h.Gb==null?T=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,T=1),T=!T),!T){T=h.ga;var F=h.Fa,q=h.P,V=h.qc,ut=h.mb,At=h.nb,Ct=q+1,yt=V-1,Rt=T.l;if(e(F!=null&&ut!=null&&m!=null),xs[0]=null,xs[1]=sa,xs[2]=rl,xs[3]=ms,T.ca=ut,T.tb=At,T.c=m.width,T.i=m.height,e(0<T.c&&0<T.i),1>=V)m=0;else if(T.$a=F[q+0]>>0&3,T.Z=F[q+0]>>2&3,T.Lc=F[q+0]>>4&3,q=F[q+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||q)m=0;else if(Rt.put=hi,Rt.ac=Dn,Rt.bc=fi,Rt.ma=T,Rt.width=m.width,Rt.height=m.height,Rt.Da=m.Da,Rt.v=m.v,Rt.va=m.va,Rt.j=m.j,Rt.o=m.o,T.$a)t:{e(T.$a==1),m=Pr();e:for(;;){if(m==null){m=0;break t}if(e(T!=null),T.mc=m,m.c=T.c,m.i=T.i,m.l=T.l,m.l.ma=T,m.l.width=T.c,m.l.height=T.i,m.a=0,Z(m.m,F,Ct,yt),!mi(T.c,T.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Oi(m.s)?(T.ic=1,F=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(F),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(T.ic=0,m=ea(m,T.c)),!m))break e;m=1;break t}T.mc=null,m=0}else m=yt>=T.c*T.i;T=!m}if(T)return null;h.ga.Lc!=1?h.Ga=0:S=D-b}e(h.ga!=null),e(b+S<=D);t:{if(m=(F=h.ga).c,D=F.l.o,F.$a==0){if(Ct=h.rc,yt=h.Vc,Rt=h.Fa,q=h.P+1+b*m,V=h.mb,ut=h.nb+b*m,e(q<=h.P+h.qc),F.Z!=0)for(e(xs[F.Z]!=null),T=0;T<S;++T)xs[F.Z](Ct,yt,Rt,q,V,ut,m),Ct=V,yt=ut,ut+=m,q+=m;else for(T=0;T<S;++T)r(V,ut,Rt,q,m),Ct=V,yt=ut,ut+=m,q+=m;h.rc=Ct,h.Vc=yt}else{if(e(F.mc!=null),m=b+S,e((T=F.mc)!=null),e(m<=T.i),T.C>=m)m=1;else if(F.ic||kt(),F.ic){F=T.V,Ct=T.Ba,yt=T.c;var Dt=T.i,ht=(Rt=1,q=T.$/yt,V=T.$%yt,ut=T.m,At=T.s,T.$),gt=yt*Dt,Ft=yt*m,Bt=At.wc,Ot=ht<Ft?yn(At,V,q):null;e(ht<=gt),e(m<=Dt),e(Oi(At));e:for(;;){for(;!ut.h&&ht<Ft;){if(V&Bt||(Ot=yn(At,V,q)),e(Ot!=null),st(ut),256>(Dt=rr(Ot.G[0],Ot.H[0],ut)))F[Ct+ht]=Dt,++ht,++V>=yt&&(V=0,++q<=m&&!(q%16)&&Hr(T,q));else{if(!(280>Dt)){Rt=0;break e}Dt=Ur(Dt-256,ut);var Qt,Gt=rr(Ot.G[4],Ot.H[4],ut);if(st(ut),!(ht>=(Gt=di(yt,Gt=Ur(Gt,ut)))&&gt-ht>=Dt)){Rt=0;break e}for(Qt=0;Qt<Dt;++Qt)F[Ct+ht+Qt]=F[Ct+ht+Qt-Gt];for(ht+=Dt,V+=Dt;V>=yt;)V-=yt,++q<=m&&!(q%16)&&Hr(T,q);ht<Ft&&V&Bt&&(Ot=yn(At,V,q))}e(ut.h==H(ut))}Hr(T,q>m?m:q);break e}!Rt||ut.h&&ht<gt?(Rt=0,T.a=ut.h?5:3):T.$=ht,m=Rt}else m=Vr(T,T.V,T.Ba,T.c,T.i,m,Da);if(!m){S=0;break t}}b+S>=D&&(h.Cc=1),S=1}if(!S)return null;if(h.Cc&&((S=h.ga)!=null&&(S.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+b*A}function g(h,m,b,S,A,D){for(;0<A--;){var T,F=h,q=m+(b?1:0),V=h,ut=m+(b?0:3);for(T=0;T<S;++T){var At=V[ut+4*T];At!=255&&(At*=32897,F[q+4*T+0]=F[q+4*T+0]*At>>23,F[q+4*T+1]=F[q+4*T+1]*At>>23,F[q+4*T+2]=F[q+4*T+2]*At>>23)}m+=D}}function C(h,m,b,S,A){for(;0<S--;){var D;for(D=0;D<b;++D){var T=h[m+2*D+0],F=15&(V=h[m+2*D+1]),q=4369*F,V=(240&V|V>>4)*q>>16;h[m+2*D+0]=(240&T|T>>4)*q>>16&240|(15&T|T<<4)*q>>16>>4&15,h[m+2*D+1]=240&V|F}m+=A}}function X(h,m,b,S,A,D,T,F){var q,V,ut=255;for(V=0;V<A;++V){for(q=0;q<S;++q){var At=h[m+q];D[T+4*q]=At,ut&=At}m+=b,T+=F}return ut!=255}function ct(h,m,b,S,A){var D;for(D=0;D<A;++D)b[S+D]=h[m+D]>>8}function kt(){Tr=g,Ve=C,Ge=X,hn=ct}function Et(h,m,b){G[h]=function(S,A,D,T,F,q,V,ut,At,Ct,yt,Rt,Dt,ht,gt,Ft,Bt){var Ot,Qt=Bt-1>>1,Gt=F[q+0]|V[ut+0]<<16,se=At[Ct+0]|yt[Rt+0]<<16;e(S!=null);var Kt=3*Gt+se+131074>>2;for(m(S[A+0],255&Kt,Kt>>16,Dt,ht),D!=null&&(Kt=3*se+Gt+131074>>2,m(D[T+0],255&Kt,Kt>>16,gt,Ft)),Ot=1;Ot<=Qt;++Ot){var Ne=F[q+Ot]|V[ut+Ot]<<16,Fe=At[Ct+Ot]|yt[Rt+Ot]<<16,Pe=Gt+Ne+se+Fe+524296,Se=Pe+2*(Ne+se)>>3;Kt=Se+Gt>>1,Gt=(Pe=Pe+2*(Gt+Fe)>>3)+Ne>>1,m(S[A+2*Ot-1],255&Kt,Kt>>16,Dt,ht+(2*Ot-1)*b),m(S[A+2*Ot-0],255&Gt,Gt>>16,Dt,ht+(2*Ot-0)*b),D!=null&&(Kt=Pe+se>>1,Gt=Se+Fe>>1,m(D[T+2*Ot-1],255&Kt,Kt>>16,gt,Ft+(2*Ot-1)*b),m(D[T+2*Ot+0],255&Gt,Gt>>16,gt,Ft+(2*Ot+0)*b)),Gt=Ne,se=Fe}1&Bt||(Kt=3*Gt+se+131074>>2,m(S[A+Bt-1],255&Kt,Kt>>16,Dt,ht+(Bt-1)*b),D!=null&&(Kt=3*se+Gt+131074>>2,m(D[T+Bt-1],255&Kt,Kt>>16,gt,Ft+(Bt-1)*b)))}}function zt(){Ir[Qc]=Vy,Ir[Zc]=W1,Ir[R1]=Gy,Ir[tu]=U1,Ir[eu]=$1,Ir[_f]=H1,Ir[j1]=Yy,Ir[Af]=W1,Ir[Cf]=U1,Ir[nu]=$1,Ir[Lf]=H1}function Jt(h){return h&-16384?0>h?0:255:h>>Ky}function ie(h,m){return Jt((19077*h>>8)+(26149*m>>8)-14234)}function ve(h,m,b){return Jt((19077*h>>8)-(6419*m>>8)-(13320*b>>8)+8708)}function me(h,m){return Jt((19077*h>>8)+(33050*m>>8)-17685)}function Le(h,m,b,S,A){S[A+0]=ie(h,b),S[A+1]=ve(h,m,b),S[A+2]=me(h,m)}function en(h,m,b,S,A){S[A+0]=me(h,m),S[A+1]=ve(h,m,b),S[A+2]=ie(h,b)}function sn(h,m,b,S,A){var D=ve(h,m,b);m=D<<3&224|me(h,m)>>3,S[A+0]=248&ie(h,b)|D>>5,S[A+1]=m}function bn(h,m,b,S,A){var D=240&me(h,m)|15;S[A+0]=240&ie(h,b)|ve(h,m,b)>>4,S[A+1]=D}function jn(h,m,b,S,A){S[A+0]=255,Le(h,m,b,S,A+1)}function An(h,m,b,S,A){en(h,m,b,S,A),S[A+3]=255}function Kr(h,m,b,S,A){Le(h,m,b,S,A),S[A+3]=255}function gr(h,m){return 0>h?0:h>m?m:h}function yi(h,m,b){G[h]=function(S,A,D,T,F,q,V,ut,At){for(var Ct=ut+(-2&At)*b;ut!=Ct;)m(S[A+0],D[T+0],F[q+0],V,ut),m(S[A+1],D[T+0],F[q+0],V,ut+b),A+=2,++T,++q,ut+=2*b;1&At&&m(S[A+0],D[T+0],F[q+0],V,ut)}}function Hc(h,m,b){return b==0?h==0?m==0?6:5:m==0?4:0:b}function sl(h,m,b,S,A){switch(h>>>30){case 3:qi(m,b,S,A,0);break;case 2:un(m,b,S,A);break;case 1:Xn(m,b,S,A)}}function al(h,m){var b,S,A=m.M,D=m.Nb,T=h.oc,F=h.pc+40,q=h.oc,V=h.pc+584,ut=h.oc,At=h.pc+600;for(b=0;16>b;++b)T[F+32*b-1]=129;for(b=0;8>b;++b)q[V+32*b-1]=129,ut[At+32*b-1]=129;for(0<A?T[F-1-32]=q[V-1-32]=ut[At-1-32]=129:(i(T,F-32-1,127,21),i(q,V-32-1,127,9),i(ut,At-32-1,127,9)),S=0;S<h.za;++S){var Ct=m.ya[m.aa+S];if(0<S){for(b=-1;16>b;++b)r(T,F+32*b-4,T,F+32*b+12,4);for(b=-1;8>b;++b)r(q,V+32*b-4,q,V+32*b+4,4),r(ut,At+32*b-4,ut,At+32*b+4,4)}var yt=h.Gd,Rt=h.Hd+S,Dt=Ct.ad,ht=Ct.Hc;if(0<A&&(r(T,F-32,yt[Rt].y,0,16),r(q,V-32,yt[Rt].f,0,8),r(ut,At-32,yt[Rt].ea,0,8)),Ct.Za){var gt=T,Ft=F-32+16;for(0<A&&(S>=h.za-1?i(gt,Ft,yt[Rt].y[15],4):r(gt,Ft,yt[Rt+1].y,0,4)),b=0;4>b;b++)gt[Ft+128+b]=gt[Ft+256+b]=gt[Ft+384+b]=gt[Ft+0+b];for(b=0;16>b;++b,ht<<=2)gt=T,Ft=F+G1[b],Xr[Ct.Ob[b]](gt,Ft),sl(ht,Dt,16*+b,gt,Ft)}else if(gt=Hc(S,A,Ct.Ob[0]),ws[gt](T,F),ht!=0)for(b=0;16>b;++b,ht<<=2)sl(ht,Dt,16*+b,T,F+G1[b]);for(b=Ct.Gc,gt=Hc(S,A,Ct.Dd),Ui[gt](q,V),Ui[gt](ut,At),ht=Dt,gt=q,Ft=V,255&(Ct=b>>0)&&(170&Ct?hl(ht,256,gt,Ft):Mr(ht,256,gt,Ft)),Ct=ut,ht=At,255&(b>>=8)&&(170&b?hl(Dt,320,Ct,ht):Mr(Dt,320,Ct,ht)),A<h.Ub-1&&(r(yt[Rt].y,0,T,F+480,16),r(yt[Rt].f,0,q,V+224,8),r(yt[Rt].ea,0,ut,At+224,8)),b=8*D*h.B,yt=h.sa,Rt=h.ta+16*S+16*D*h.R,Dt=h.qa,Ct=h.ra+8*S+b,ht=h.Ha,gt=h.Ia+8*S+b,b=0;16>b;++b)r(yt,Rt+b*h.R,T,F+32*b,16);for(b=0;8>b;++b)r(Dt,Ct+b*h.B,q,V+32*b,8),r(ht,gt+b*h.B,ut,At+32*b,8)}}function Ha(h,m,b,S,A,D,T,F,q){var V=[0],ut=[0],At=0,Ct=q!=null?q.kd:0,yt=q??new el;if(h==null||12>b)return 7;yt.data=h,yt.w=m,yt.ha=b,m=[m],b=[b],yt.gb=[yt.gb];t:{var Rt=m,Dt=b,ht=yt.gb;if(e(h!=null),e(Dt!=null),e(ht!=null),ht[0]=0,12<=Dt[0]&&!n(h,Rt[0],"RIFF")){if(n(h,Rt[0]+8,"WEBP")){ht=3;break t}var gt=O(h,Rt[0]+4);if(12>gt||4294967286<gt){ht=3;break t}if(Ct&&gt>Dt[0]-8){ht=7;break t}ht[0]=gt,Rt[0]+=12,Dt[0]-=12}ht=0}if(ht!=0)return ht;for(gt=0<yt.gb[0],b=b[0];;){t:{var Ft=h;Dt=m,ht=b;var Bt=V,Ot=ut,Qt=Rt=[0];if((Kt=At=[At])[0]=0,8>ht[0])ht=7;else{if(!n(Ft,Dt[0],"VP8X")){if(O(Ft,Dt[0]+4)!=10){ht=3;break t}if(18>ht[0]){ht=7;break t}var Gt=O(Ft,Dt[0]+8),se=1+R(Ft,Dt[0]+12);if(2147483648<=se*(Ft=1+R(Ft,Dt[0]+15))){ht=3;break t}Qt!=null&&(Qt[0]=Gt),Bt!=null&&(Bt[0]=se),Ot!=null&&(Ot[0]=Ft),Dt[0]+=18,ht[0]-=18,Kt[0]=1}ht=0}}if(At=At[0],Rt=Rt[0],ht!=0)return ht;if(Dt=!!(2&Rt),!gt&&At)return 3;if(D!=null&&(D[0]=!!(16&Rt)),T!=null&&(T[0]=Dt),F!=null&&(F[0]=0),T=V[0],Rt=ut[0],At&&Dt&&q==null){ht=0;break}if(4>b){ht=7;break}if(gt&&At||!gt&&!At&&!n(h,m[0],"ALPH")){b=[b],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{Gt=h,ht=m,gt=b;var Kt=yt.gb;Bt=yt.na,Ot=yt.P,Qt=yt.Sa,se=22,e(Gt!=null),e(gt!=null),Ft=ht[0];var Ne=gt[0];for(e(Bt!=null),e(Qt!=null),Bt[0]=null,Ot[0]=null,Qt[0]=0;;){if(ht[0]=Ft,gt[0]=Ne,8>Ne){ht=7;break t}var Fe=O(Gt,Ft+4);if(4294967286<Fe){ht=3;break t}var Pe=8+Fe+1&-2;if(se+=Pe,0<Kt&&se>Kt){ht=3;break t}if(!n(Gt,Ft,"VP8 ")||!n(Gt,Ft,"VP8L")){ht=0;break t}if(Ne[0]<Pe){ht=7;break t}n(Gt,Ft,"ALPH")||(Bt[0]=Gt,Ot[0]=Ft+8,Qt[0]=Fe),Ft+=Pe,Ne-=Pe}}if(b=b[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],ht!=0)break}b=[b],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(Kt=h,ht=m,gt=b,Bt=yt.gb[0],Ot=yt.Ja,Qt=yt.xa,Gt=ht[0],Ft=!n(Kt,Gt,"VP8 "),se=!n(Kt,Gt,"VP8L"),e(Kt!=null),e(gt!=null),e(Ot!=null),e(Qt!=null),8>gt[0])ht=7;else{if(Ft||se){if(Kt=O(Kt,Gt+4),12<=Bt&&Kt>Bt-12){ht=3;break t}if(Ct&&Kt>gt[0]-8){ht=7;break t}Ot[0]=Kt,ht[0]+=8,gt[0]-=8,Qt[0]=se}else Qt[0]=5<=gt[0]&&Kt[Gt+0]==47&&!(Kt[Gt+4]>>5),Ot[0]=gt[0];ht=0}if(b=b[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],m=m[0],ht!=0)break;if(4294967286<yt.Ja)return 3;if(F==null||Dt||(F[0]=yt.xa?2:1),T=[T],Rt=[Rt],yt.xa){if(5>b){ht=7;break}F=T,Ct=Rt,Dt=D,h==null||5>b?h=0:5<=b&&h[m+0]==47&&!(h[m+4]>>5)?(gt=[0],Kt=[0],Bt=[0],Z(Ot=new P,h,m,b),oe(Ot,gt,Kt,Bt)?(F!=null&&(F[0]=gt[0]),Ct!=null&&(Ct[0]=Kt[0]),Dt!=null&&(Dt[0]=Bt[0]),h=1):h=0):h=0}else{if(10>b){ht=7;break}F=Rt,h==null||10>b||!Nc(h,m+3,b-3)?h=0:(Ct=h[m+0]|h[m+1]<<8|h[m+2]<<16,Dt=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Ct||3<(Ct>>1&7)||!(Ct>>4&1)||Ct>>5>=yt.Ja||!Dt||!h?h=0:(T&&(T[0]=Dt),F&&(F[0]=h),h=1))}if(!h||(T=T[0],Rt=Rt[0],At&&(V[0]!=T||ut[0]!=Rt)))return 3;q!=null&&(q[0]=yt,q.offset=m-q.w,e(4294967286>m-q.w),e(q.offset==q.ha-b));break}return ht==0||ht==7&&At&&q==null?(D!=null&&(D[0]|=yt.na!=null&&0<yt.na.length),S!=null&&(S[0]=T),A!=null&&(A[0]=Rt),0):ht}function ol(h,m,b){var S=m.width,A=m.height,D=0,T=0,F=S,q=A;if(m.Da=h!=null&&0<h.Da,m.Da&&(F=h.cd,q=h.bd,D=h.v,T=h.j,11>b||(D&=-2,T&=-2),0>D||0>T||0>=F||0>=q||D+F>S||T+q>A))return 0;if(m.v=D,m.j=T,m.va=D+F,m.o=T+q,m.U=F,m.T=q,m.da=h!=null&&0<h.da,m.da){if(!St(F,q,b=[h.ib],D=[h.hb]))return 0;m.ib=b[0],m.hb=D[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*S/4&&m.hb<3*A/4,m.Kb=0),1}function ll(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Va(h,m,b,S){if(S==null||0>=h||0>=m)return 2;if(b!=null){if(b.Da){var A=b.cd,D=b.bd,T=-2&b.v,F=-2&b.j;if(0>T||0>F||0>=A||0>=D||T+A>h||F+D>m)return 2;h=A,m=D}if(b.da){if(!St(h,m,A=[b.ib],D=[b.hb]))return 2;h=A[0],m=D[0]}}S.width=h,S.height=m;t:{var q=S.width,V=S.height;if(h=S.S,0>=q||0>=V||!(h>=Qc&&13>h))h=2;else{if(0>=S.Rd&&S.sd==null){T=D=A=m=0;var ut=(F=q*Y1[h])*V;if(11>h||(D=(V+1)/2*(m=(q+1)/2),h==12&&(T=(A=q)*V)),(V=s(ut+2*D+T))==null){h=1;break t}S.sd=V,11>h?((q=S.f.RGBA).eb=V,q.fb=0,q.A=F,q.size=ut):((q=S.f.kb).y=V,q.O=0,q.fa=F,q.Fd=ut,q.f=V,q.N=0+ut,q.Ab=m,q.Cd=D,q.ea=V,q.W=0+ut+D,q.Db=m,q.Ed=D,h==12&&(q.F=V,q.J=0+ut+2*D),q.Tc=T,q.lb=A)}if(m=1,A=S.S,D=S.width,T=S.height,A>=Qc&&13>A)if(11>A)h=S.f.RGBA,m&=(F=Math.abs(h.A))*(T-1)+D<=h.size,m&=F>=D*Y1[A],m&=h.eb!=null;else{h=S.f.kb,F=(D+1)/2,ut=(T+1)/2,q=Math.abs(h.fa),V=Math.abs(h.Ab);var At=Math.abs(h.Db),Ct=Math.abs(h.lb),yt=Ct*(T-1)+D;m&=q*(T-1)+D<=h.Fd,m&=V*(ut-1)+F<=h.Cd,m=(m&=At*(ut-1)+F<=h.Ed)&q>=D&V>=F&At>=F,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,A==12&&(m&=Ct>=D,m&=yt<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||b!=null&&b.fd&&(h=ll(S)),h}var Tn=64,Ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ya=24,Ka=32,cl=8,sr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),G.Predictor0=function(){return 4278190080},G.Predictor1=function(h){return h},G.Predictor2=function(h,m,b){return m[b+0]},G.Predictor3=function(h,m,b){return m[b+1]},G.Predictor4=function(h,m,b){return m[b-1]},G.Predictor5=function(h,m,b){return Nt(Nt(h,m[b+1]),m[b+0])},G.Predictor6=function(h,m,b){return Nt(h,m[b-1])},G.Predictor7=function(h,m,b){return Nt(h,m[b+0])},G.Predictor8=function(h,m,b){return Nt(m[b-1],m[b+0])},G.Predictor9=function(h,m,b){return Nt(m[b+0],m[b+1])},G.Predictor10=function(h,m,b){return Nt(Nt(h,m[b-1]),Nt(m[b+0],m[b+1]))},G.Predictor11=function(h,m,b){var S=m[b+0];return 0>=pt(S>>24&255,h>>24&255,(m=m[b-1])>>24&255)+pt(S>>16&255,h>>16&255,m>>16&255)+pt(S>>8&255,h>>8&255,m>>8&255)+pt(255&S,255&h,255&m)?S:h},G.Predictor12=function(h,m,b){var S=m[b+0];return(Mt((h>>24&255)+(S>>24&255)-((m=m[b-1])>>24&255))<<24|Mt((h>>16&255)+(S>>16&255)-(m>>16&255))<<16|Mt((h>>8&255)+(S>>8&255)-(m>>8&255))<<8|Mt((255&h)+(255&S)-(255&m)))>>>0},G.Predictor13=function(h,m,b){var S=m[b-1];return(jt((h=Nt(h,m[b+0]))>>24&255,S>>24&255)<<24|jt(h>>16&255,S>>16&255)<<16|jt(h>>8&255,S>>8&255)<<8|jt(h>>0&255,S>>0&255))>>>0};var kf=G.PredictorAdd0;G.PredictorAdd1=Tt,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var ul=G.PredictorAdd2;ee("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ee("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Vc,Nr=G.ColorIndexInverseTransform,Xa=G.MapARGB,Gc=G.VP8LColorIndexInverseTransformAlpha,Yc=G.MapAlpha,gs=G.VP8LPredictorsAdd=[];gs.length=16,(G.VP8LPredictors=[]).length=16,(G.VP8LPredictorsAdd_C=[]).length=16,(G.VP8LPredictors_C=[]).length=16;var aa,ar,Kn,vs,Bi,zi,Ja,qi,un,hl,Xn,Mr,Qa,Kc,fl,oa,la,ys,ca,Za,ua,bs,dl,Dr,Tr,Ve,Ge,hn,_n=s(511),Wi=s(2041),pl=s(225),to=s(767),Xc=0,Sf=Wi,Jc=pl,vr=to,Er=_n,Qc=0,Zc=1,R1=2,tu=3,eu=4,_f=5,j1=6,Af=7,Cf=8,nu=9,Lf=10,Ty=[2,3,7],Ey=[3,3,11],B1=[280,256,256,256,40],Iy=[0,1,1,1,0],Fy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Oy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ry=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jy=8,Pf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ml=null,By=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],z1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Uy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$y=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ws=[],Xr=[],Ui=[],Hy=1,q1=2,xs=[],Ir=[];Et("UpsampleRgbLinePair",Le,3),Et("UpsampleBgrLinePair",en,3),Et("UpsampleRgbaLinePair",Kr,4),Et("UpsampleBgraLinePair",An,4),Et("UpsampleArgbLinePair",jn,4),Et("UpsampleRgba4444LinePair",bn,2),Et("UpsampleRgb565LinePair",sn,2);var Vy=G.UpsampleRgbLinePair,Gy=G.UpsampleBgrLinePair,W1=G.UpsampleRgbaLinePair,U1=G.UpsampleBgraLinePair,$1=G.UpsampleArgbLinePair,H1=G.UpsampleRgba4444LinePair,Yy=G.UpsampleRgb565LinePair,ru=16,iu=1<<ru-1,gl=-227,Mf=482,Ky=6,V1=0,Xy=s(256),Jy=s(256),Qy=s(256),Zy=s(256),tb=s(Mf-gl),eb=s(Mf-gl);yi("YuvToRgbRow",Le,3),yi("YuvToBgrRow",en,3),yi("YuvToRgbaRow",Kr,4),yi("YuvToBgraRow",An,4),yi("YuvToArgbRow",jn,4),yi("YuvToRgba4444Row",bn,2),yi("YuvToRgb565Row",sn,2);var G1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],su=[0,2,8],nb=[8,7,6,4,4,2,2,2,1,1,1,1],rb=1;this.WebPDecodeRGBA=function(h,m,b,S,A){var D=Zc,T=new Ua,F=new Wr;T.ba=F,F.S=D,F.width=[F.width],F.height=[F.height];var q=F.width,V=F.height,ut=new Fi;if(ut==null||h==null)var At=2;else e(ut!=null),At=Ha(h,m,b,ut.width,ut.height,ut.Pd,ut.Qd,ut.format,null);if(At!=0?q=0:(q!=null&&(q[0]=ut.width[0]),V!=null&&(V[0]=ut.height[0]),q=1),q){F.width=F.width[0],F.height=F.height[0],S!=null&&(S[0]=F.width),A!=null&&(A[0]=F.height);t:{if(S=new Oa,(A=new el).data=h,A.w=m,A.ha=b,A.kd=1,m=[0],e(A!=null),((h=Ha(A.data,A.w,A.ha,null,null,null,m,null,A))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(T!=null),S.data=A.data,S.w=A.w+A.offset,S.ha=A.ha-A.offset,S.put=hi,S.ac=Dn,S.bc=fi,S.ma=T,A.xa){if((h=Pr())==null){T=1;break t}if(function(Ct,yt){var Rt=[0],Dt=[0],ht=[0];e:for(;;){if(Ct==null)return 0;if(yt==null)return Ct.a=2,0;if(Ct.l=yt,Ct.a=0,Z(Ct.m,yt.data,yt.w,yt.ha),!oe(Ct.m,Rt,Dt,ht)){Ct.a=3;break e}if(Ct.xb=q1,yt.width=Rt[0],yt.height=Dt[0],!mi(Rt[0],Dt[0],1,Ct,null))break e;return 1}return e(Ct.a!=0),0}(h,S)){if(S=(m=Va(S.width,S.height,T.Oa,T.ba))==0){e:{S=h;n:for(;;){if(S==null){S=0;break e}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((b=S.l)!=null),e((A=b.ma)!=null),S.xb!=0){if(S.ca=A.ba,S.tb=A.tb,e(S.ca!=null),!ol(A.Oa,b,tu)){S.a=2;break n}if(!ea(S,b.width)||b.da)break n;if((b.da||Me(S.ca.S))&&kt(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&kt()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!tt(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!Vr(S,S.V,S.Ba,S.c,S.i,b.o,Ma))break n;A.Dc=S.Ma,S=1;break e}e(S.a!=0),S=0}S=!S}S&&(m=h.a)}else m=h.a}else{if((h=new nf)==null){T=1;break t}if(h.Fa=A.na,h.P=A.P,h.qc=A.Sa,Mc(h,S)){if((m=Va(S.width,S.height,T.Oa,T.ba))==0){if(h.Aa=0,b=T.Oa,e((A=h)!=null),b!=null){if(0<(q=0>(q=b.Md)?0:100<q?255:255*q/100)){for(V=ut=0;4>V;++V)12>(At=A.pb[V]).lc&&(At.ia=q*nb[0>At.lc?0:At.lc]>>3),ut|=At.ia;ut&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=b.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}rf(h,S)||(m=h.a)}}else m=h.a}m==0&&T.Oa!=null&&T.Oa.fd&&(m=ll(T.ba))}T=m}D=T!=0?null:11>D?F.f.RGBA.eb:F.f.kb.y}else D=null;return D};var Y1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(G,nt){for(var mt="",E=0;E<4;E++)mt+=String.fromCharCode(G[nt++]);return mt}function u(G,nt){return(G[nt+0]<<0|G[nt+1]<<8|G[nt+2]<<16)>>>0}function d(G,nt){return(G[nt+0]<<0|G[nt+1]<<8|G[nt+2]<<16|G[nt+3]<<24)>>>0}new l;var p=[0],f=[0],w=[],v=new l,k=t,y=function(G,nt){var mt={},E=0,B=!1,Q=0,M=0;if(mt.frames=[],!function(W,H,et,st){for(var $=0;$<st;$++)if(W[H+$]!=et.charCodeAt($))return!0;return!1}(G,nt,"RIFF",4)){for(d(G,nt+=4),nt+=8;nt<G.length;){var ot=c(G,nt),Y=d(G,nt+=4);nt+=4;var rt=Y+(1&Y);switch(ot){case"VP8 ":case"VP8L":mt.frames[E]===void 0&&(mt.frames[E]={}),(ft=mt.frames[E]).src_off=B?M:nt-8,ft.src_size=Q+Y+8,E++,B&&(B=!1,Q=0,M=0);break;case"VP8X":(ft=mt.header={}).feature_flags=G[nt];var Z=nt+4;ft.canvas_width=1+u(G,Z),Z+=3,ft.canvas_height=1+u(G,Z),Z+=3;break;case"ALPH":B=!0,Q=rt+8,M=nt-8;break;case"ANIM":(ft=mt.header).bgcolor=d(G,nt),Z=nt+4,ft.loop_count=(It=G)[(P=Z)+0]<<0|It[P+1]<<8,Z+=2;break;case"ANMF":var lt,ft;(ft=mt.frames[E]={}).offset_x=2*u(G,nt),nt+=3,ft.offset_y=2*u(G,nt),nt+=3,ft.width=1+u(G,nt),nt+=3,ft.height=1+u(G,nt),nt+=3,ft.duration=u(G,nt),nt+=3,lt=G[nt++],ft.dispose=1&lt,ft.blend=lt>>1&1}ot!="ANMF"&&(nt+=rt)}var It,P;return mt}}(k,0);y.response=k,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,N=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],f=[x.canvas_width];for(var L=0;L<N.length&&N[L].blend!=0;L++);}var j=N[0],it=v.WebPDecodeRGBA(k,j.src_off,j.src_size,f,p);j.rgba=it,j.imgwidth=f[0],j.imgheight=p[0];for(var J=0;J<f[0]*p[0]*4;J++)w[J]=it[J];return this.width=f,this.height=p,this.data=w,this}(function(t){var e=function(){return typeof hp=="function"},n=function(p,f,w,v){var k=4,y=a;switch(v){case t.image_compression.FAST:k=1,y=s;break;case t.image_compression.MEDIUM:k=6,y=o;break;case t.image_compression.SLOW:k=9,y=l}p=r(p,f,w,y);var x=hp(p,{level:k});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(p,f,w,v){for(var k,y,x,N=p.length/f,L=new Uint8Array(p.length+N),j=u(),it=0;it<N;it+=1){if(x=it*f,k=p.subarray(x,x+f),v)L.set(v(k,w,y),x+it);else{for(var J,G=j.length,nt=[];J<G;J+=1)nt[J]=j[J](k,w,y);var mt=d(nt.concat());L.set(nt[mt],x+it)}y=k}return L},i=function(p){var f=Array.apply([],p);return f.unshift(0),f},s=function(p,f){var w,v=[],k=p.length;v[0]=1;for(var y=0;y<k;y+=1)w=p[y-f]||0,v[y+1]=p[y]-w+256&255;return v},a=function(p,f,w){var v,k=[],y=p.length;k[0]=2;for(var x=0;x<y;x+=1)v=w&&w[x]||0,k[x+1]=p[x]-v+256&255;return k},o=function(p,f,w){var v,k,y=[],x=p.length;y[0]=3;for(var N=0;N<x;N+=1)v=p[N-f]||0,k=w&&w[N]||0,y[N+1]=p[N]+256-(v+k>>>1)&255;return y},l=function(p,f,w){var v,k,y,x,N=[],L=p.length;N[0]=4;for(var j=0;j<L;j+=1)v=p[j-f]||0,k=w&&w[j]||0,y=w&&w[j-f]||0,x=c(v,k,y),N[j+1]=p[j]-x+256&255;return N},c=function(p,f,w){if(p===f&&f===w)return p;var v=Math.abs(f-w),k=Math.abs(p-w),y=Math.abs(p+f-w-w);return v<=k&&v<=y?p:k<=y?f:w},u=function(){return[i,s,a,o,l]},d=function(p){var f=p.map(function(w){return w.reduce(function(v,k){return v+Math.abs(k)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(p,f,w,v){var k,y,x,N,L,j,it,J,G,nt,mt,E,B,Q,M,ot=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(x=new LP(p)).imgData,y=x.bits,k=x.colorSpace,L=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){G=(J=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,mt=new Uint8Array(G*x.colors),nt=new Uint8Array(G);var rt,Z=x.pixelBitlength-x.bits;for(Q=0,M=0;Q<G;Q++){for(B=J[Q],rt=0;rt<Z;)mt[M++]=B>>>rt&255,rt+=x.bits;nt[Q]=B>>>rt&255}}if(x.bits===16){G=(J=new Uint32Array(x.decodePixels().buffer)).length,mt=new Uint8Array(G*(32/x.pixelBitlength)*x.colors),nt=new Uint8Array(G*(32/x.pixelBitlength)),E=x.colors>1,Q=0,M=0;for(var lt=0;Q<G;)B=J[Q++],mt[M++]=B>>>0&255,E&&(mt[M++]=B>>>16&255,B=J[Q++],mt[M++]=B>>>0&255),nt[lt++]=B>>>16&255;y=8}v!==t.image_compression.NONE&&e()?(p=n(mt,x.width*x.colors,x.colors,v),it=n(nt,x.width,1,v)):(p=mt,it=nt,ot=void 0)}if(x.colorType===3&&(k=this.color_spaces.INDEXED,j=x.palette,x.transparency.indexed)){var ft=x.transparency.indexed,It=0;for(Q=0,G=ft.length;Q<G;++Q)It+=ft[Q];if((It/=255)===G-1&&ft.indexOf(0)!==-1)N=[ft.indexOf(0)];else if(It!==G){for(J=x.decodePixels(),nt=new Uint8Array(J.length),Q=0,G=J.length;Q<G;Q++)nt[Q]=ft[J[Q]];it=n(nt,x.width,1)}}var P=function(W){var H;switch(W){case t.image_compression.FAST:H=11;break;case t.image_compression.MEDIUM:H=13;break;case t.image_compression.SLOW:H=14;break;default:H=12}return H}(v);return ot===this.decode.FLATE_DECODE&&(Y="/Predictor "+P+" "),Y+="/Colors "+L+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(it&&this.__addimage__.isArrayBuffer(it)||this.__addimage__.isArrayBufferView(it))&&(it=this.__addimage__.arrayBufferToBinaryString(it)),{alias:w,data:p,index:f,filter:ot,decodeParameters:Y,transparency:N,palette:j,sMask:it,predictor:P,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:k}}}})(ae.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new PP(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new md(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(ae.API),ti.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ti.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){We.log("bit decode error:"+n)}},ti.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ti.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ti.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ti.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},ti.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},ti.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ti.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},ti.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ti(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new md(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ae.API),Zm.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Zm(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new md(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ae.API),ae.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],p=r[c+2],f=r[c+3];s[o++]=u,s[o++]=d,s[o++]=p,a[l++]=f}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ae.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},co=ae.API,Mu=co.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,p=0,f=t.length,w=0,v=o[0]||l,k=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(p=d&&Re(c[r])==="object"&&!isNaN(parseInt(c[r][w],10))?c[r][w]/u:0,k.push((o[r]||v)/l+p)),w=r;return k},Km=co.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return co.processArabic&&(t=co.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Mu.apply(this,arguments).reduce(function(s,a){return s+a},0)},Xm=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Jm=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],d=[u],p=n.textIndent||0,f=0,w=0,v=t.split(" "),k=Mu.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];v.map(function(L){(L=L.split(/\s*\n/)).length>1?x=x.concat(L.map(function(j,it){return(it&&j.length?`
`:"")+j})):x.push(L[0])}),v=x,l=Km.apply(this,[y,n])}for(s=0,a=v.length;s<a;s++){var N=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),p+f+(w=(i=Mu.apply(this,[r,n])).reduce(function(L,j){return L+j},0))>e||N){if(w>e){for(o=Xm.apply(this,[r,i,e-(p+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);w=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(L,j){return L+j},0)}else u=[r];d.push(u),p=w+l,f=k}else u.push(r),p+=f+w,f=k}return c=l?function(L,j){return(j?y:"")+L.join(" ")}:function(L){return L.join(" ")},d.map(c)},co.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(Jm.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var p,f,w,v,k=["{"];for(var y in d){if(p=d[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=s(y).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(w=s(p).slice(3),v="-"):(w=s(p).slice(2),v=""),w=v+w.slice(0,-1)+r[w.slice(-1)];else{if(Re(p)!=="object")throw new Error("Don't know what to do with value type "+Re(p)+".");w=a(p)}k.push(f+w)}return k.push("}"),k.join("")},o=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,w,v,k={},y=1,x=k,N=[],L="",j="",it=d.length-1,J=1;J<it;J+=1)(v=d[J])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(N.push([x,w]),x={},w=void 0):v=="}"?((f=N.pop())[0][f[1]]=x,w=void 0,x=f[0]):v=="-"?y=-1:w===void 0?n.hasOwnProperty(v)?(L+=n[v],w=parseInt(L,16)*y,y=1,L=""):L+=v:n.hasOwnProperty(v)?(j+=n[v],x[w]=parseInt(j,16)*y,y=1,w=void 0,j=""):j+=v;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var p=d.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var w=c.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(ae.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Ul(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(ae),function(t){function e(){return(ce.canvg?Promise.resolve(ce.canvg):ap(()=>import("./index.es-D9NqxeQ1.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ae.API.addSvgAsImage=function(n,r,i,s,a,o,l,c){if(isNaN(r)||isNaN(i))throw We.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw We.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(w){return w.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,a,l,c)})}}(),ae.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ae.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function p(w,v){var k,y=!1;for(k=0;k<w.length;k+=1)w[k]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(d=0;d<f;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Re(t)==="object"){for(i in t)if(s=t[i],p(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?v.push("/"+w+" /"+n[w].value):v.push("/"+w+" "+n[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ae.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=s.length;d<p;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(o=Object.keys(s).sort(function(f,w){return f-w})).length;d<p;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",w=0;w<p.length;w++)f+=String.fromCharCode(p[w]);var v=c();u({data:f,addLength1:!0,objectId:v}),l("endobj");var k=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+mo(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+mo(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+mo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var w=c();u({data:p,addLength1:!0,objectId:w}),l("endobj");var v=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var k=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+mo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+mo(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},p=d.pdfEscape,f=d.activeFontKey,w=d.fonts,v=f,k="",y=0,x="",N=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(x=o,v=f,Array.isArray(o)&&(x=o[0]),y=0;y<x.length;y+=1)w[v].metadata.hasOwnProperty("cmap")&&(a=w[v].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),a||x[y].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?k+=x[y]:k+="";var L="";return parseInt(v.slice(1))<14||N==="WinAnsiEncoding"?L=p(k,v).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(L=n(k,w[v])),d.isHex=!0,{text:L,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(ae),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ae.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,d=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var L=function(E){var B=E.charCodeAt(),Q=B>>8,M=v[Q];return M!==void 0?d[256*M+(255&B)]:Q===252||Q===253?"AL":y.test(Q)?"L":Q===8?"R":"N"},j=function(E){for(var B,Q=0;Q<E.length;Q++){if((B=L(E.charAt(Q)))==="L")return!1;if(B==="R")return!0}return!1},it=function(E,B,Q,M){var ot,Y,rt,Z,lt=B[M];switch(lt){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(lt="AN");break;case"AL":x=!0,lt="R";break;case"WS":lt="N";break;case"CS":M<1||M+1>=B.length||(ot=Q[M-1])!=="EN"&&ot!=="AN"||(Y=B[M+1])!=="EN"&&Y!=="AN"?lt="N":x&&(Y="AN"),lt=Y===ot?Y:"N";break;case"ES":lt=(ot=M>0?Q[M-1]:"B")==="EN"&&M+1<B.length&&B[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&Q[M-1]==="EN"){lt="EN";break}if(x){lt="N";break}for(rt=M+1,Z=B.length;rt<Z&&B[rt]==="ET";)rt++;lt=rt<Z&&B[rt]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Z=B.length,rt=M+1;rt<Z&&B[rt]==="NSM";)rt++;if(rt<Z){var ft=E[M],It=ft>=1425&&ft<=2303||ft===64286;if(ot=B[rt],It&&(ot==="R"||ot==="AL")){lt="R";break}}}lt=M<1||(ot=B[M-1])==="B"?"N":Q[M-1];break;case"B":x=!1,i=!0,lt=N;break;case"S":s=!0,lt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":lt="N"}return lt},J=function(E,B,Q){var M=E.split("");return Q&&G(M,Q,{hiLevel:N}),M.reverse(),B&&B.reverse(),M.join("")},G=function(E,B,Q){var M,ot,Y,rt,Z,lt=-1,ft=E.length,It=0,P=[],W=N?f:p,H=[];for(x=!1,i=!1,s=!1,ot=0;ot<ft;ot++)H[ot]=L(E[ot]);for(Y=0;Y<ft;Y++){if(Z=It,P[Y]=it(E,H,P,Y),M=240&(It=W[Z][w[P[Y]]]),It&=15,B[Y]=rt=W[It][5],M>0)if(M===16){for(ot=lt;ot<Y;ot++)B[ot]=1;lt=-1}else lt=-1;if(W[It][6])lt===-1&&(lt=Y);else if(lt>-1){for(ot=lt;ot<Y;ot++)B[ot]=rt;lt=-1}H[Y]==="B"&&(B[Y]=0),Q.hiLevel|=rt}s&&function(et,st,$){for(var z=0;z<$;z++)if(et[z]==="S"){st[z]=N;for(var U=z-1;U>=0&&et[U]==="WS";U--)st[U]=N}}(H,B,ft)},nt=function(E,B,Q,M,ot){if(!(ot.hiLevel<E)){if(E===1&&N===1&&!i)return B.reverse(),void(Q&&Q.reverse());for(var Y,rt,Z,lt,ft=B.length,It=0;It<ft;){if(M[It]>=E){for(Z=It+1;Z<ft&&M[Z]>=E;)Z++;for(lt=It,rt=Z-1;lt<rt;lt++,rt--)Y=B[lt],B[lt]=B[rt],B[rt]=Y,Q&&(Y=Q[lt],Q[lt]=Q[rt],Q[rt]=Y);It=Z}It++}}},mt=function(E,B,Q){var M=E.split(""),ot={hiLevel:N};return Q||(Q=[]),G(M,Q,ot),function(Y,rt,Z){if(Z.hiLevel!==0&&u)for(var lt,ft=0;ft<Y.length;ft++)rt[ft]===1&&(lt=k.indexOf(Y[ft]))>=0&&(Y[ft]=k[lt+1])}(M,Q,ot),nt(2,M,B,Q,ot),nt(1,M,B,Q,ot),M.join("")};return this.__bidiEngine__.doBidiReorder=function(E,B,Q){if(function(ot,Y){if(Y)for(var rt=0;rt<ot.length;rt++)Y[rt]=rt;o===void 0&&(o=j(ot)),c===void 0&&(c=j(ot))}(E,B),a||!l||c)if(a&&l&&o^c)N=o?1:0,E=J(E,B,Q);else if(!a&&l&&c)N=o?1:0,E=mt(E,B,Q),E=J(E,B);else if(!a||o||l||c){if(a&&!l&&o^c)E=J(E,B),o?(N=0,E=mt(E,B,Q)):(N=1,E=mt(E,B,Q),E=J(E,B));else if(a&&o&&!l&&c)N=1,E=mt(E,B,Q),E=J(E,B);else if(!a&&!l&&o^c){var M=u;o?(N=1,E=mt(E,B,Q),N=0,u=!1,E=mt(E,B,Q),u=M):(N=0,E=mt(E,B,Q),E=J(E,B),N=1,u=!1,E=mt(E,B,Q),u=M,E=J(E,B))}}else N=0,E=mt(E,B,Q);else N=o?1:0,E=mt(E,B,Q);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ae),ae.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new $s(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new UP(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new NP(this.contents),this.head=new DP(this),this.name=new OP(this),this.cmap=new Mv(this),this.toUnicode={},this.hhea=new TP(this),this.maxp=new RP(this),this.hmtx=new jP(this),this.post=new IP(this),this.os2=new EP(this),this.loca=new WP(this),this.glyf=new BP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ui,$s=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),NP=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,u,d,p,f,w,v;for(v in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),a=Math.floor(d/l),u=16*f-d,(i=new $s).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(a),i.writeShort(u),s=16*f,c=i.pos+s,o=null,w=[],n)for(p=n[v],i.writeString(v),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),w=w.concat(p),v==="head"&&(o=c),c+=p.length;c%4;)w.push(0),c++;return i.write(w),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=Dv.call(n);n.length%4;)n.push(0);for(s=new $s(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),MP={}.hasOwnProperty,Ii=function(t,e){for(var n in e)MP.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ui=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var DP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new $s).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),tg=function(){function t(e,n){var r,i,s,a,o,l,c,u,d,p,f,w,v,k,y,x,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var L,j;for(j=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)j.push(e.readUInt16());return j}(),e.pos+=2,v=function(){var L,j;for(j=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)j.push(e.readUInt16());return j}(),c=function(){var L,j;for(j=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)j.push(e.readUInt16());return j}(),u=function(){var L,j;for(j=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)j.push(e.readUInt16());return j}(),i=(this.length-e.pos+this.offset)/2,o=function(){var L,j;for(j=[],l=L=0;0<=i?L<i:L>i;l=0<=i?++L:--L)j.push(e.readUInt16());return j}(),l=y=0,N=s.length;y<N;l=++y)for(k=s[l],r=x=w=v[l];w<=k?x<=k:x>=k;r=w<=k?++x:--x)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-w)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=d}return t.encode=function(e,n){var r,i,s,a,o,l,c,u,d,p,f,w,v,k,y,x,N,L,j,it,J,G,nt,mt,E,B,Q,M,ot,Y,rt,Z,lt,ft,It,P,W,H,et,st,$,z,U,at,Lt,R;switch(M=new $s,a=Object.keys(e).sort(function(O,tt){return O-tt}),n){case"macroman":for(v=0,k=function(){var O=[];for(w=0;w<256;++w)O.push(0);return O}(),x={0:0},s={},ot=0,lt=a.length;ot<lt;ot++)x[U=e[i=a[ot]]]==null&&(x[U]=++v),s[i]={old:e[i],new:x[e[i]]},k[i]=x[e[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(k),{charMap:s,subtable:M.data,maxGlyphID:v+1};case"unicode":for(B=[],d=[],N=0,x={},r={},y=c=null,Y=0,ft=a.length;Y<ft;Y++)x[j=e[i=a[Y]]]==null&&(x[j]=++N),r[i]={old:j,new:x[j]},o=x[j]-i,y!=null&&o===c||(y&&d.push(y),B.push(i),c=o),y=i;for(y&&d.push(y),d.push(65535),B.push(65535),mt=2*(nt=B.length),G=2*Math.pow(Math.log(nt)/Math.LN2,2),p=Math.log(G/2)/Math.LN2,J=2*nt-G,l=[],it=[],f=[],w=rt=0,It=B.length;rt<It;w=++rt){if(E=B[w],u=d[w],E===65535){l.push(0),it.push(0);break}if(E-(Q=r[E].new)>=32768)for(l.push(0),it.push(2*(f.length+nt-w)),i=Z=E;E<=u?Z<=u:Z>=u;i=E<=u?++Z:--Z)f.push(r[i].new);else l.push(Q-E),it.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*nt+2*f.length),M.writeUInt16(0),M.writeUInt16(mt),M.writeUInt16(G),M.writeUInt16(p),M.writeUInt16(J),$=0,P=d.length;$<P;$++)i=d[$],M.writeUInt16(i);for(M.writeUInt16(0),z=0,W=B.length;z<W;z++)i=B[z],M.writeUInt16(i);for(at=0,H=l.length;at<H;at++)o=l[at],M.writeUInt16(o);for(Lt=0,et=it.length;Lt<et;Lt++)L=it[Lt],M.writeUInt16(L);for(R=0,st=f.length;R<st;R++)v=f[R],M.writeUInt16(v);return{charMap:r,subtable:M.data,maxGlyphID:N+1}}},t}(),Mv=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new tg(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=tg.encode(n,r),(s=new $s).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),TP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),EP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),IP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(n.readUInt32());return c}).call(this)}},e}(),FP=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},OP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,c,u,d,p,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},a=d=0,p=i.length;d<p;a=++d)s=i[a],n.pos=s.offset,u=n.readString(s.length),o=new FP(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),RP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),jP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,p,f;for(f=[],u=0,d=(p=this.metrics).length;u<d;u++)a=p[u],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Dv=[].slice,BP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,c,u,d,p;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new $s(r.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=o===-1?new qP(l,u,p,c,d):new zP(l,o,u,p,c,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),zP=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),qP=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new $s(Dv.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),WP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ii(e,ui),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e}(),UP=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,u,d,p,f,w,v,k,y;for(i in r=Mv.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},y=r.charMap)f[(l=y[i]).old]=l.new;for(w in p=r.maxGlyphID,a)w in f||(f[w]=p++);return u=function(x){var N,L;for(N in L={},x)L[x[N]]=N;return L}(f),d=Object.keys(u).sort(function(x,N){return x-N}),v=function(){var x,N,L;for(L=[],x=0,N=d.length;x<N;x++)o=d[x],L.push(u[o]);return L}(),s=this.font.glyf.encode(a,v,f),c=this.font.loca.encode(s.offsets,v),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ae.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/*! https://mths.be/cssesc v3.0.0 by @mathias */var gd,eg;function $P(){if(eg)return gd;eg=1;var t={},e=t.hasOwnProperty,n=function(l,c){if(!l)return c;var u={};for(var d in c)u[d]=e.call(l,d)?l[d]:c[d];return u},r=/[ -,\.\/:-@\[-\^`\{-~]/,i=/[ -,\.\/:-@\[\]\^`\{-~]/,s=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,a=function o(l,c){c=n(c,o.options),c.quotes!="single"&&c.quotes!="double"&&(c.quotes="single");for(var u=c.quotes=="double"?'"':"'",d=c.isIdentifier,p=l.charAt(0),f="",w=0,v=l.length;w<v;){var k=l.charAt(w++),y=k.charCodeAt(),x=void 0;if(y<32||y>126){if(y>=55296&&y<=56319&&w<v){var N=l.charCodeAt(w++);(N&64512)==56320?y=((y&1023)<<10)+(N&1023)+65536:w--}x="\\"+y.toString(16).toUpperCase()+" "}else c.escapeEverything?r.test(k)?x="\\"+k:x="\\"+y.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(k)?x="\\"+y.toString(16).toUpperCase()+" ":k=="\\"||!d&&(k=='"'&&u==k||k=="'"&&u==k)||d&&i.test(k)?x="\\"+k:x=k;f+=x}return d&&(/^-[-\d]/.test(f)?f="\\-"+f.slice(1):/\d/.test(p)&&(f="\\3"+p+" "+f.slice(1))),f=f.replace(s,function(L,j,it){return j&&j.length%2?L:(j||"")+it}),!d&&c.wrap?u+f+u:f};return a.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},a.version="3.0.0",gd=a,gd}var HP=$P();const Tv=b1(HP);var vd,ng;function VP(){if(ng)return vd;ng=1;var t=0,e=1,n=2,r=3,i=4,s=5,a=6,o=/[a-z0-9_-]/i,l=/[\s\t]/,c=function(p){for(var f=!0,w=t,v="",k=0,y,x,N=[];;){if(x=p[k],w===t){if(!x&&f)break;if(!x&&!f)throw new Error("Parse error");if(x==='"'||x==="'")y=x,w=e,f=!1;else if(!l.test(x))if(o.test(x))w=r,f=!1,k--;else throw new Error("Parse error")}else if(w===e)if(x)x==="\\"?w=n:x===y?(N.push(v),v="",w=i):v+=x;else throw new Error("Parse Error");else if(w===n)if(x===y||x==="\\")v+=x,w=e;else throw new Error("Parse error");else if(w===r)if(x)o.test(x)?v+=x:x===","?(N.push(v),v="",w=t):l.test(x)?w=s:x==="\\"&&(w=a);else{N.push(v);break}else if(w===a){if(/[0-9a-f]/i.test(x))throw new Error("Parse error");v+=x,w=r}else if(w===s)if(x){if(o.test(x))v+=" "+x,w=r;else if(x===",")N.push(v),v="",w=t;else if(!l.test(x))throw new Error("Parse error")}else{N.push(v);break}else if(w===i)if(x){if(x===",")w=t;else if(!l.test(x))throw new Error("Parse error")}else break;k++}return N},u=/[^a-z0-9_-]/i,d=function(p,f){var w=f&&f.quote||'"';if(w!=='"'&&w!=="'")throw new Error("Quote must be `'` or `\"`");for(var v=new RegExp(w,"g"),k=[],y=0;y<p.length;++y){var x=p[y];u.test(x)&&(x=x.replace(/\\/g,"\\\\").replace(v,"\\"+w),x=w+x+w),k.push(x)}return k.join(", ")};return vd={parse:c,stringify:d},vd}var GP=VP();const YP=b1(GP);var yd,rg;function KP(){if(rg)return yd;rg=1;var t={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function n(f){return f===10||f===13||f===8232||f===8233||f===32||f===9||f===11||f===12||f===160||f>=5760&&e.indexOf(f)>=0}function r(f){switch(f|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function i(f){return(f|32)===97}function s(f){return f>=48&&f<=57}function a(f){return f>=48&&f<=57||f===43||f===45||f===46}function o(f){this.index=0,this.path=f,this.max=f.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function l(f){for(;f.index<f.max&&n(f.path.charCodeAt(f.index));)f.index++}function c(f){var w=f.path.charCodeAt(f.index);if(w===48){f.param=0,f.index++;return}if(w===49){f.param=1,f.index++;return}f.err="SvgPath: arc flag can be 0 or 1 only (at pos "+f.index+")"}function u(f){var w=f.index,v=w,k=f.max,y=!1,x=!1,N=!1,L=!1,j;if(v>=k){f.err="SvgPath: missed param (at pos "+v+")";return}if(j=f.path.charCodeAt(v),(j===43||j===45)&&(v++,j=v<k?f.path.charCodeAt(v):0),!s(j)&&j!==46){f.err="SvgPath: param should start with 0..9 or `.` (at pos "+v+")";return}if(j!==46){if(y=j===48,v++,j=v<k?f.path.charCodeAt(v):0,y&&v<k&&j&&s(j)){f.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+w+")";return}for(;v<k&&s(f.path.charCodeAt(v));)v++,x=!0;j=v<k?f.path.charCodeAt(v):0}if(j===46){for(L=!0,v++;s(f.path.charCodeAt(v));)v++,N=!0;j=v<k?f.path.charCodeAt(v):0}if(j===101||j===69){if(L&&!x&&!N){f.err="SvgPath: invalid float exponent (at pos "+v+")";return}if(v++,j=v<k?f.path.charCodeAt(v):0,(j===43||j===45)&&v++,v<k&&s(f.path.charCodeAt(v)))for(;v<k&&s(f.path.charCodeAt(v));)v++;else{f.err="SvgPath: invalid float exponent (at pos "+v+")";return}}f.index=v,f.param=parseFloat(f.path.slice(w,v))+0}function d(f){var w,v;w=f.path[f.segmentStart],v=w.toLowerCase();var k=f.data;if(v==="m"&&k.length>2&&(f.result.push([w,k[0],k[1]]),k=k.slice(2),v="l",w=w==="m"?"l":"L"),v==="r")f.result.push([w].concat(k));else for(;k.length>=t[v]&&(f.result.push([w].concat(k.splice(0,t[v]))),!!t[v]););}function p(f){var w=f.max,v,k,y,x,N;if(f.segmentStart=f.index,v=f.path.charCodeAt(f.index),k=i(v),!r(v)){f.err="SvgPath: bad command "+f.path[f.index]+" (at pos "+f.index+")";return}if(x=t[f.path[f.index].toLowerCase()],f.index++,l(f),f.data=[],!x){d(f);return}for(y=!1;;){for(N=x;N>0;N--){if(k&&(N===3||N===4)?c(f):u(f),f.err.length){d(f);return}f.data.push(f.param),l(f),y=!1,f.index<w&&f.path.charCodeAt(f.index)===44&&(f.index++,l(f),y=!0)}if(!y&&(f.index>=f.max||!a(f.path.charCodeAt(f.index))))break}d(f)}return yd=function(w){var v=new o(w),k=v.max;for(l(v);v.index<k&&!v.err.length;)p(v);return v.result.length&&("mM".indexOf(v.result[0][0])<0?(v.err="SvgPath: string should start with `M` or `m`",v.result=[]):v.result[0][0]="M"),{err:v.err,segments:v.result}},yd}var bd,ig;function Ev(){if(ig)return bd;ig=1;function t(n,r){return[n[0]*r[0]+n[2]*r[1],n[1]*r[0]+n[3]*r[1],n[0]*r[2]+n[2]*r[3],n[1]*r[2]+n[3]*r[3],n[0]*r[4]+n[2]*r[5]+n[4],n[1]*r[4]+n[3]*r[5]+n[5]]}function e(){if(!(this instanceof e))return new e;this.queue=[],this.cache=null}return e.prototype.matrix=function(n){return n[0]===1&&n[1]===0&&n[2]===0&&n[3]===1&&n[4]===0&&n[5]===0?this:(this.cache=null,this.queue.push(n),this)},e.prototype.translate=function(n,r){return(n!==0||r!==0)&&(this.cache=null,this.queue.push([1,0,0,1,n,r])),this},e.prototype.scale=function(n,r){return(n!==1||r!==1)&&(this.cache=null,this.queue.push([n,0,0,r,0,0])),this},e.prototype.rotate=function(n,r,i){var s,a,o;return n!==0&&(this.translate(r,i),s=n*Math.PI/180,a=Math.cos(s),o=Math.sin(s),this.queue.push([a,o,-o,a,0,0]),this.cache=null,this.translate(-r,-i)),this},e.prototype.skewX=function(n){return n!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(n*Math.PI/180),1,0,0])),this},e.prototype.skewY=function(n){return n!==0&&(this.cache=null,this.queue.push([1,Math.tan(n*Math.PI/180),0,1,0,0])),this},e.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var n=1;n<this.queue.length;n++)this.cache=t(this.cache,this.queue[n]);return this.cache},e.prototype.calc=function(n,r,i){var s;return this.queue.length?(this.cache||(this.cache=this.toArray()),s=this.cache,[n*s[0]+r*s[2]+(i?0:s[4]),n*s[1]+r*s[3]+(i?0:s[5])]):[n,r]},bd=e,bd}var wd,sg;function XP(){if(sg)return wd;sg=1;var t=Ev(),e={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},n=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,r=/[\s,]+/;return wd=function(s){var a=new t,o,l;return s.split(n).forEach(function(c){if(c.length){if(typeof e[c]<"u"){o=c;return}switch(l=c.split(r).map(function(u){return+u||0}),o){case"matrix":l.length===6&&a.matrix(l);return;case"scale":l.length===1?a.scale(l[0],l[0]):l.length===2&&a.scale(l[0],l[1]);return;case"rotate":l.length===1?a.rotate(l[0],0,0):l.length===3&&a.rotate(l[0],l[1],l[2]);return;case"translate":l.length===1?a.translate(l[0],0):l.length===2&&a.translate(l[0],l[1]);return;case"skewX":l.length===1&&a.skewX(l[0]);return;case"skewY":l.length===1&&a.skewY(l[0]);return}}}),a},wd}var xd,ag;function JP(){if(ag)return xd;ag=1;var t=Math.PI*2;function e(i,s,a,o){var l=i*o-s*a<0?-1:1,c=i*a+s*o;return c>1&&(c=1),c<-1&&(c=-1),l*Math.acos(c)}function n(i,s,a,o,l,c,u,d,p,f){var w=f*(i-a)/2+p*(s-o)/2,v=-p*(i-a)/2+f*(s-o)/2,k=u*u,y=d*d,x=w*w,N=v*v,L=k*y-k*N-y*x;L<0&&(L=0),L/=k*N+y*x,L=Math.sqrt(L)*(l===c?-1:1);var j=L*u/d*v,it=L*-d/u*w,J=f*j-p*it+(i+a)/2,G=p*j+f*it+(s+o)/2,nt=(w-j)/u,mt=(v-it)/d,E=(-w-j)/u,B=(-v-it)/d,Q=e(1,0,nt,mt),M=e(nt,mt,E,B);return c===0&&M>0&&(M-=t),c===1&&M<0&&(M+=t),[J,G,Q,M]}function r(i,s){var a=1.3333333333333333*Math.tan(s/4),o=Math.cos(i),l=Math.sin(i),c=Math.cos(i+s),u=Math.sin(i+s);return[o,l,o-l*a,l+o*a,c+u*a,u-c*a,c,u]}return xd=function(s,a,o,l,c,u,d,p,f){var w=Math.sin(f*t/360),v=Math.cos(f*t/360),k=v*(s-o)/2+w*(a-l)/2,y=-w*(s-o)/2+v*(a-l)/2;if(k===0&&y===0)return[];if(d===0||p===0)return[];d=Math.abs(d),p=Math.abs(p);var x=k*k/(d*d)+y*y/(p*p);x>1&&(d*=Math.sqrt(x),p*=Math.sqrt(x));var N=n(s,a,o,l,c,u,d,p,w,v),L=[],j=N[2],it=N[3],J=Math.max(Math.ceil(Math.abs(it)/(t/4)),1);it/=J;for(var G=0;G<J;G++)L.push(r(j,it)),j+=it;return L.map(function(nt){for(var mt=0;mt<nt.length;mt+=2){var E=nt[mt+0],B=nt[mt+1];E*=d,B*=p;var Q=v*E-w*B,M=w*E+v*B;nt[mt+0]=Q+N[0],nt[mt+1]=M+N[1]}return nt})},xd}var kd,og;function QP(){if(og)return kd;og=1;var t=1e-10,e=Math.PI/180;function n(r,i,s){if(!(this instanceof n))return new n(r,i,s);this.rx=r,this.ry=i,this.ax=s}return n.prototype.transform=function(r){var i=Math.cos(this.ax*e),s=Math.sin(this.ax*e),a=[this.rx*(r[0]*i+r[2]*s),this.rx*(r[1]*i+r[3]*s),this.ry*(-r[0]*s+r[2]*i),this.ry*(-r[1]*s+r[3]*i)],o=a[0]*a[0]+a[2]*a[2],l=a[1]*a[1]+a[3]*a[3],c=((a[0]-a[3])*(a[0]-a[3])+(a[2]+a[1])*(a[2]+a[1]))*((a[0]+a[3])*(a[0]+a[3])+(a[2]-a[1])*(a[2]-a[1])),u=(o+l)/2;if(c<t*u)return this.rx=this.ry=Math.sqrt(u),this.ax=0,this;var d=a[0]*a[1]+a[2]*a[3];c=Math.sqrt(c);var p=u+c/2,f=u-c/2;return this.ax=Math.abs(d)<t&&Math.abs(p-l)<t?90:Math.atan(Math.abs(d)>Math.abs(p-l)?(p-o)/d:d/(p-l))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(p),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(p)),this},n.prototype.isDegenerate=function(){return this.rx<t*this.ry||this.ry<t*this.rx},kd=n,kd}var Sd,lg;function ZP(){if(lg)return Sd;lg=1;var t=KP(),e=XP(),n=Ev(),r=JP(),i=QP();function s(a){if(!(this instanceof s))return new s(a);var o=t(a);this.segments=o.segments,this.err=o.err,this.__stack=[]}return s.from=function(a){if(typeof a=="string")return new s(a);if(a instanceof s){var o=new s("");return o.err=a.err,o.segments=a.segments.map(function(l){return l.slice()}),o.__stack=a.__stack.map(function(l){return n().matrix(l.toArray())}),o}throw new Error("SvgPath.from: invalid param type "+a)},s.prototype.__matrix=function(a){var o=this,l;a.queue.length&&this.iterate(function(c,u,d,p){var f,w,v,k;switch(c[0]){case"v":f=a.calc(0,c[1],!0),w=f[0]===0?["v",f[1]]:["l",f[0],f[1]];break;case"V":f=a.calc(d,c[1],!1),w=f[0]===a.calc(d,p,!1)[0]?["V",f[1]]:["L",f[0],f[1]];break;case"h":f=a.calc(c[1],0,!0),w=f[1]===0?["h",f[0]]:["l",f[0],f[1]];break;case"H":f=a.calc(c[1],p,!1),w=f[1]===a.calc(d,p,!1)[1]?["H",f[0]]:["L",f[0],f[1]];break;case"a":case"A":var y=a.toArray(),x=i(c[1],c[2],c[3]).transform(y);if(y[0]*y[3]-y[1]*y[2]<0&&(c[5]=c[5]?"0":"1"),f=a.calc(c[6],c[7],c[0]==="a"),c[0]==="A"&&c[6]===d&&c[7]===p||c[0]==="a"&&c[6]===0&&c[7]===0){w=[c[0]==="a"?"l":"L",f[0],f[1]];break}x.isDegenerate()?w=[c[0]==="a"?"l":"L",f[0],f[1]]:w=[c[0],x.rx,x.ry,x.ax,c[4],c[5],f[0],f[1]];break;case"m":k=u>0,f=a.calc(c[1],c[2],k),w=["m",f[0],f[1]];break;default:for(v=c[0],w=[v],k=v.toLowerCase()===v,l=1;l<c.length;l+=2)f=a.calc(c[l],c[l+1],k),w.push(f[0],f[1])}o.segments[u]=w},!0)},s.prototype.__evaluateStack=function(){var a,o;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(a=n(),o=this.__stack.length;--o>=0;)a.matrix(this.__stack[o].toArray());this.__matrix(a),this.__stack=[]}},s.prototype.toString=function(){var a="",o="",l=!1;this.__evaluateStack();for(var c=0,u=this.segments.length;c<u;c++){var d=this.segments[c],p=d[0];p!==o||p==="m"||p==="M"?(p==="m"&&o==="z"&&(a+=" "),a+=p,l=!1):l=!0;for(var f=1;f<d.length;f++){var w=d[f];f===1?l&&w>=0&&(a+=" "):w>=0&&(a+=" "),a+=w}o=p}return a},s.prototype.translate=function(a,o){return this.__stack.push(n().translate(a,o||0)),this},s.prototype.scale=function(a,o){return this.__stack.push(n().scale(a,!o&&o!==0?a:o)),this},s.prototype.rotate=function(a,o,l){return this.__stack.push(n().rotate(a,o||0,l||0)),this},s.prototype.skewX=function(a){return this.__stack.push(n().skewX(a)),this},s.prototype.skewY=function(a){return this.__stack.push(n().skewY(a)),this},s.prototype.matrix=function(a){return this.__stack.push(n().matrix(a)),this},s.prototype.transform=function(a){return a.trim()?(this.__stack.push(e(a)),this):this},s.prototype.round=function(a){var o=0,l=0,c=0,u=0,d;return a=a||0,this.__evaluateStack(),this.segments.forEach(function(p){var f=p[0].toLowerCase()===p[0];switch(p[0]){case"H":case"h":f&&(p[1]+=c),c=p[1]-p[1].toFixed(a),p[1]=+p[1].toFixed(a);return;case"V":case"v":f&&(p[1]+=u),u=p[1]-p[1].toFixed(a),p[1]=+p[1].toFixed(a);return;case"Z":case"z":c=o,u=l;return;case"M":case"m":f&&(p[1]+=c,p[2]+=u),c=p[1]-p[1].toFixed(a),u=p[2]-p[2].toFixed(a),o=c,l=u,p[1]=+p[1].toFixed(a),p[2]=+p[2].toFixed(a);return;case"A":case"a":f&&(p[6]+=c,p[7]+=u),c=p[6]-p[6].toFixed(a),u=p[7]-p[7].toFixed(a),p[1]=+p[1].toFixed(a),p[2]=+p[2].toFixed(a),p[3]=+p[3].toFixed(a+2),p[6]=+p[6].toFixed(a),p[7]=+p[7].toFixed(a);return;default:d=p.length,f&&(p[d-2]+=c,p[d-1]+=u),c=p[d-2]-p[d-2].toFixed(a),u=p[d-1]-p[d-1].toFixed(a),p.forEach(function(w,v){v&&(p[v]=+p[v].toFixed(a))});return}}),this},s.prototype.iterate=function(a,o){var l=this.segments,c={},u=!1,d=0,p=0,f=0,w=0,v,k,y;if(o||this.__evaluateStack(),l.forEach(function(x,N){var L=a(x,N,d,p);Array.isArray(L)&&(c[N]=L,u=!0);var j=x[0]===x[0].toLowerCase();switch(x[0]){case"m":case"M":d=x[1]+(j?d:0),p=x[2]+(j?p:0),f=d,w=p;return;case"h":case"H":d=x[1]+(j?d:0);return;case"v":case"V":p=x[1]+(j?p:0);return;case"z":case"Z":d=f,p=w;return;default:d=x[x.length-2]+(j?d:0),p=x[x.length-1]+(j?p:0)}}),!u)return this;for(y=[],v=0;v<l.length;v++)if(typeof c[v]<"u")for(k=0;k<c[v].length;k++)y.push(c[v][k]);else y.push(l[v]);return this.segments=y,this},s.prototype.abs=function(){return this.iterate(function(a,o,l,c){var u=a[0],d=u.toUpperCase(),p;if(u!==d)switch(a[0]=d,u){case"v":a[1]+=c;return;case"a":a[6]+=l,a[7]+=c;return;default:for(p=1;p<a.length;p++)a[p]+=p%2?l:c}},!0),this},s.prototype.rel=function(){return this.iterate(function(a,o,l,c){var u=a[0],d=u.toLowerCase(),p;if(u!==d&&!(o===0&&u==="M"))switch(a[0]=d,u){case"V":a[1]-=c;return;case"A":a[6]-=l,a[7]-=c;return;default:for(p=1;p<a.length;p++)a[p]-=p%2?l:c}},!0),this},s.prototype.unarc=function(){return this.iterate(function(a,o,l,c){var u,d,p,f=[],w=a[0];return w!=="A"&&w!=="a"?null:(w==="a"?(d=l+a[6],p=c+a[7]):(d=a[6],p=a[7]),u=r(l,c,d,p,a[4],a[5],a[1],a[2],a[3]),u.length===0?[[a[0]==="a"?"l":"L",a[6],a[7]]]:(u.forEach(function(v){f.push(["C",v[2],v[3],v[4],v[5],v[6],v[7]])}),f))}),this},s.prototype.unshort=function(){var a=this.segments,o,l,c,u,d;return this.iterate(function(p,f,w,v){var k=p[0],y=k.toUpperCase(),x;f&&(y==="T"?(x=k==="t",c=a[f-1],c[0]==="Q"?(o=c[1]-w,l=c[2]-v):c[0]==="q"?(o=c[1]-c[3],l=c[2]-c[4]):(o=0,l=0),u=-o,d=-l,x||(u+=w,d+=v),a[f]=[x?"q":"Q",u,d,p[1],p[2]]):y==="S"&&(x=k==="s",c=a[f-1],c[0]==="C"?(o=c[3]-w,l=c[4]-v):c[0]==="c"?(o=c[3]-c[5],l=c[4]-c[6]):(o=0,l=0),u=-o,d=-l,x||(u+=w,d+=v),a[f]=[x?"c":"C",u,d,p[1],p[2],p[3],p[4]]))}),this},Sd=s,Sd}var _d,cg;function tN(){return cg||(cg=1,_d=ZP()),_d}var eN=tN();const nN=b1(eN);var ug=function(t){var e=t,n,r={a:0,b:0,c:0},i=[],s=/(\[[^\]]+\])/g,a=/(#[^\#\s\+>~\.\[:\)]+)/g,o=/(\.[^\s\+>~\.\[:\)]+)/g,l=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,c=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,u=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,d=/([^\s\+>~\.\[:]+)/g;return n=function(p,f){var w,v,k,y,x,N;if(p.test(e))for(w=e.match(p),v=0,k=w.length;v<k;v+=1)r[f]+=1,y=w[v],x=e.indexOf(y),N=y.length,i.push({selector:t.substr(x,N),type:f,index:x,length:N}),e=e.replace(y,Array(N+1).join(" "))},function(){var p=function(k){var y,x,N,L;if(k.test(e))for(y=e.match(k),x=0,N=y.length;x<N;x+=1)L=y[x],e=e.replace(L,Array(L.length+1).join("A"))},f=/\\[0-9A-Fa-f]{6}\s?/g,w=/\\[0-9A-Fa-f]{1,5}\s/g,v=/\\./g;p(f),p(w),p(v)}(),function(){var p=/{[^]*/gm,f,w,v,k;if(p.test(e))for(f=e.match(p),w=0,v=f.length;w<v;w+=1)k=f[w],e=e.replace(k,Array(k.length+1).join(" "))}(),n(s,"b"),n(a,"a"),n(o,"b"),n(l,"c"),n(c,"b"),n(u,"b"),e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),e=e.replace(/:not/g,"    "),e=e.replace(/:local/g,"      "),e=e.replace(/:global/g,"       "),e=e.replace(/[\(\)]/g," "),n(d,"c"),i.sort(function(p,f){return p.index-f.index}),{selector:t,specificity:"0,"+r.a.toString()+","+r.b.toString()+","+r.c.toString(),specificityArray:[0,r.a,r.b,r.c],parts:i}},rN=function(t,e){var n,r,i;if(typeof t=="string"){if(t.indexOf(",")!==-1)throw"Invalid CSS selector";n=ug(t).specificityArray}else if(Array.isArray(t)){if(t.filter(function(s){return typeof s=="number"}).length!==4)throw"Invalid specificity array";n=t}else throw"Invalid CSS selector or specificity array";if(typeof e=="string"){if(e.indexOf(",")!==-1)throw"Invalid CSS selector";r=ug(e).specificityArray}else if(Array.isArray(e)){if(e.filter(function(s){return typeof s=="number"}).length!==4)throw"Invalid specificity array";r=e}else throw"Invalid CSS selector or specificity array";for(i=0;i<4;i+=1){if(n[i]<r[i])return-1;if(n[i]>r[i])return 1}return 0},yp=function(t,e){return yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yp(t,e)};function ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yp(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vh=function(){return vh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vh.apply(this,arguments)};function $e(t,e,n,r){return new(n||(n=Promise))(function(i,s){function a(c){try{l(r.next(c))}catch(u){s(u)}}function o(c){try{l(r.throw(c))}catch(u){s(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(a,o)}l((r=r.apply(t,e||[])).next())})}function He(t,e){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(d){u=[6,d],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}var ni=function(){function t(e){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,e){for(var n in e.charAt(0)=="#"&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)e==n&&(e=this.simpleColors[n]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^rgb\(([0-9.]+)%,\s*([0-9.]+)%,\s*([0-9.]+)%\)$/,example:["rgb(50.5%, 25.75%, 75.5%)","rgb(100%,0%,0%)"],process:function(l){return[Math.round(2.55*parseFloat(l[1])),Math.round(2.55*parseFloat(l[2])),Math.round(2.55*parseFloat(l[3]))]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}];for(var r=0;r<this.colorDefs.length;r++){var i=this.colorDefs[r].re,s=this.colorDefs[r].process,a=i.exec(e);if(a){var o=s(a);this.r=o[0],this.g=o[1],this.b=o[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return t.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},t.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},t.prototype.toHex=function(){var e=this.r.toString(16),n=this.g.toString(16),r=this.b.toString(16);return e.length==1&&(e="0"+e),n.length==1&&(n="0"+n),r.length==1&&(r="0"+r),"#"+e+n+r},t.prototype.getHelpXML=function(){for(var e=[],n=0;n<this.colorDefs.length;n++)for(var r=this.colorDefs[n].example,i=0;i<r.length;i++)e[e.length]=r[i];for(var s in this.simpleColors)e[e.length]=s;var a=document.createElement("ul");for(a.setAttribute("id","rgbcolor-examples"),n=0;n<e.length;n++)try{var o=document.createElement("li"),l=new t(e[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),c.appendChild(document.createTextNode("test"));var u=document.createTextNode(" "+e[n]+" -> "+l.toRGB()+" -> "+l.toHex());o.appendChild(c),o.appendChild(u),a.appendChild(o)}catch{}return a},t}(),Fn=function(){function t(e){this.color=e}return t.prototype.getFillData=function(e,n){return $e(this,void 0,void 0,function(){return He(this,function(r){return[2,void 0]})})},t}(),Bo=function(){function t(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null,this.contextFill=null,this.contextStroke=null,this.fillRule=null}return t.prototype.clone=function(){var e=new t;return e.xmlSpace=this.xmlSpace,e.fill=this.fill,e.fillOpacity=this.fillOpacity,e.fontFamily=this.fontFamily,e.fontSize=this.fontSize,e.fontStyle=this.fontStyle,e.fontWeight=this.fontWeight,e.opacity=this.opacity,e.stroke=this.stroke,e.strokeDasharray=this.strokeDasharray,e.strokeDashoffset=this.strokeDashoffset,e.strokeLinecap=this.strokeLinecap,e.strokeLinejoin=this.strokeLinejoin,e.strokeMiterlimit=this.strokeMiterlimit,e.strokeOpacity=this.strokeOpacity,e.strokeWidth=this.strokeWidth,e.textAnchor=this.textAnchor,e.alignmentBaseline=this.alignmentBaseline,e.visibility=this.visibility,e.color=this.color,e.fillRule=this.fillRule,e.contextFill=this.contextFill,e.contextStroke=this.contextStroke,e},t.default=function(){var e=new t;return e.xmlSpace="default",e.fill=new Fn(new ni("rgb(0, 0, 0)")),e.fillOpacity=1,e.fontFamily="times",e.fontSize=16,e.fontStyle="normal",e.fontWeight="normal",e.opacity=1,e.stroke=null,e.strokeDasharray=null,e.strokeDashoffset=0,e.strokeLinecap="butt",e.strokeLinejoin="miter",e.strokeMiterlimit=4,e.strokeOpacity=1,e.strokeWidth=1,e.alignmentBaseline="baseline",e.textAnchor="start",e.visibility="visible",e.color=new ni("rgb(0, 0, 0)"),e.fillRule="nonzero",e.contextFill=null,e.contextStroke=null,e},t.getContextColors=function(e,n){n===void 0&&(n=!1);var r={};return e.attributeState.contextFill&&(r.contextFill=e.attributeState.contextFill),e.attributeState.contextStroke&&(r.contextStroke=e.attributeState.contextStroke),n&&e.attributeState.color&&(r.color=e.attributeState.color),r},t}(),Js=function(){function t(e,n){var r,i,s;this.pdf=e,this.svg2pdfParameters=n.svg2pdfParameters,this.attributeState=n.attributeState?n.attributeState.clone():Bo.default(),this.viewport=n.viewport,this.refsHandler=n.refsHandler,this.styleSheets=n.styleSheets,this.textMeasure=n.textMeasure,this.transform=(r=n.transform)!==null&&r!==void 0?r:this.pdf.unitMatrix,this.withinClipPath=(i=n.withinClipPath)!==null&&i!==void 0&&i,this.withinUse=(s=n.withinUse)!==null&&s!==void 0&&s}return t.prototype.clone=function(e){var n,r,i,s;return e===void 0&&(e={}),new t(this.pdf,{svg2pdfParameters:this.svg2pdfParameters,attributeState:e.attributeState?e.attributeState.clone():this.attributeState.clone(),viewport:(n=e.viewport)!==null&&n!==void 0?n:this.viewport,refsHandler:this.refsHandler,styleSheets:this.styleSheets,textMeasure:this.textMeasure,transform:(r=e.transform)!==null&&r!==void 0?r:this.transform,withinClipPath:(i=e.withinClipPath)!==null&&i!==void 0?i:this.withinClipPath,withinUse:(s=e.withinUse)!==null&&s!==void 0?s:this.withinUse})},t}(),Iv=function(){function t(e){this.renderedElements={},this.idMap=e,this.idPrefix=String(t.instanceCounter++)}return t.prototype.getRendered=function(e,n,r){return $e(this,void 0,void 0,function(){var i,s;return He(this,function(a){switch(a.label){case 0:return i=this.generateKey(e,n),this.renderedElements.hasOwnProperty(i)?[2,this.renderedElements[e]]:(s=this.get(e),this.renderedElements[i]=s,[4,r(s)]);case 1:return a.sent(),[2,s]}})})},t.prototype.get=function(e){return this.idMap[Tv(e,{isIdentifier:!0})]},t.prototype.generateKey=function(e,n){var r="";return n&&(r=["color","contextFill","contextStroke"].map(function(i){var s,a;return(a=(s=n[i])===null||s===void 0?void 0:s.toRGBA())!==null&&a!==void 0?a:""}).join("|")),this.idPrefix+"|"+e+"|"+r},t.instanceCounter=0,t}();function hg(t,e){return Math.atan2(e[1]-t[1],e[0]-t[0])}var fg=2/3;function dg(t,e){return[fg*(e[0]-t[0])+t[0],fg*(e[1]-t[1])+t[1]]}function El(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]}function uo(t,e){return El([e[0]-t[0],e[1]-t[1]])}function Du(t,e){return[t[0]+e[0],t[1]+e[1]]}function Ad(t,e){var n=t[0],r=t[1];return[e.a*n+e.c*r+e.e,e.b*n+e.d*r+e.f]}var zo=function(){function t(){this.segments=[]}return t.prototype.moveTo=function(e,n){return this.segments.push(new Pn(e,n)),this},t.prototype.lineTo=function(e,n){return this.segments.push(new js(e,n)),this},t.prototype.curveTo=function(e,n,r,i,s,a){return this.segments.push(new Ai(e,n,r,i,s,a)),this},t.prototype.close=function(){return this.segments.push(new bp),this},t.prototype.transform=function(e){this.segments.forEach(function(n){if(n instanceof Pn||n instanceof js||n instanceof Ai){var r=Ad([n.x,n.y],e);n.x=r[0],n.y=r[1]}if(n instanceof Ai){var i=Ad([n.x1,n.y1],e),s=Ad([n.x2,n.y2],e);n.x1=i[0],n.y1=i[1],n.x2=s[0],n.y2=s[1]}})},t.prototype.draw=function(e){var n=e.pdf;this.segments.forEach(function(r){r instanceof Pn?n.moveTo(r.x,r.y):r instanceof js?n.lineTo(r.x,r.y):r instanceof Ai?n.curveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):n.close()})},t}(),Pn=function(t,e){this.x=t,this.y=e},js=function(t,e){this.x=t,this.y=e},Ai=function(t,e,n,r,i,s){this.x1=t,this.y1=e,this.x2=n,this.y2=r,this.x=i,this.y=s},bp=function(){};function Hs(t,e){return e.split(",").indexOf((t.nodeName||t.tagName).toLowerCase())>=0}function qt(t,e,n,r){var i;r===void 0&&(r=n);var s=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(r);if(s)return s;var a=e.getPropertyValue(t,r);return a||t.hasAttribute(n)&&t.getAttribute(n)||void 0}function hs(t,e,n){if(qt(t.element,n.styleSheets,"display")==="none")return!1;var r=e,i=qt(t.element,n.styleSheets,"visibility");return i&&(r=i!=="hidden"),r}function Qs(t,e,n){var r=hs(t,e,n);return t.element.childNodes.length!==0&&(t.children.forEach(function(i){i.isVisible(r,n)&&(r=!0)}),r)}var iN=function(){function t(){this.markers=[]}return t.prototype.addMarker=function(e){this.markers.push(e)},t.prototype.draw=function(e){return $e(this,void 0,void 0,function(){var n,r,i,s,a,o,l,c;return He(this,function(u){switch(u.label){case 0:n=0,u.label=1;case 1:return n<this.markers.length?(r=this.markers[n],i=void 0,s=r.angle,a=r.anchor,o=Math.cos(s),l=Math.sin(s),i=e.pdf.Matrix(o,l,-l,o,a[0],a[1]),i=e.pdf.matrixMult(e.pdf.Matrix(e.attributeState.strokeWidth,0,0,e.attributeState.strokeWidth,0,0),i),i=e.pdf.matrixMult(i,e.transform),e.pdf.saveGraphicsState(),c=Bo.getContextColors(e),[4,e.refsHandler.getRendered(r.id,c,function(d){return d.apply(e)})]):[3,4];case 2:u.sent(),e.pdf.doFormObject(e.refsHandler.generateKey(r.id,c),i),e.pdf.restoreGraphicsState(),u.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t}(),Ms=function(t,e,n,r){r===void 0&&(r=!1),this.id=t,this.anchor=e,this.angle=n,this.isStartMarker=r},w1=/url\(["']?#([^"']+)["']?\)/,sN={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},pg="http://www.w3.org/2000/svg";function Qi(t,e){var n;return(n=t&&t.toString().match(/^([\-0-9.]+)em$/))?parseFloat(n[1])*e:(n=t&&t.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(n[1]):0}function Fv(t){return sN[t]||"alphabetic"}function Rr(t){for(var e,n=[],r=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;e=r.exec(t);)n.push(parseFloat(e[0]));return n}function To(t,e){if(t==="transparent"){var n=new ni("rgb(0,0,0)");return n.a=0,n}if(e&&t.toLowerCase()==="currentcolor")return e.color||new ni("rgb(0,0,0)");if(e&&t.toLowerCase()==="context-stroke")return e.contextStroke||new ni("rgb(0,0,0)");if(e&&t.toLowerCase()==="context-fill")return e.contextFill||new ni("rgb(0,0,0)");var r=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(t);if(r){var i=Rr(r[1]),s=new ni("rgb("+i.slice(0,3).join(",")+")");return s.a=i[3],s}return new ni(t)}var rs={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},Cd,aN=(Cd=ae.version.split("."),parseFloat(Cd[0])===2&&parseFloat(Cd[1])===3);function Ov(t,e){return aN?e==400?t=="italic"?"italic":"normal":e==700&&t!=="italic"?"bold":t+""+e:e==400||e==="normal"?t==="italic"?"italic":"normal":e!=700&&e!=="bold"||t!=="normal"?(e==700?"bold":e)+""+t:"bold"}function x1(t,e){if(qt(e.element,t.styleSheets,"display")==="none")return[0,0,0,0];var n=[];return e.children.forEach(function(r){var i=r.getBoundingBox(t);if(i[0]!==0||i[1]!==0||i[2]!==0||i[3]!==0){var s=r.computeNodeTransform(t);i[0]=i[0]*s.sx+s.tx,i[1]=i[1]*s.sy+s.ty,i[2]=i[2]*s.sx,i[3]=i[3]*s.sy,n=n.length===0?i:[Math.min(n[0],i[0]),Math.min(n[1],i[1]),Math.max(n[0]+n[2],i[0]+i[2])-Math.min(n[0],i[0]),Math.max(n[1]+n[3],i[1]+i[3])-Math.min(n[1],i[1])]}}),n.length===0?[0,0,0,0]:n}function wc(t,e){var n=parseFloat,r=n(t.getAttribute("x1"))||n(qt(t,e.styleSheets,"x"))||n(qt(t,e.styleSheets,"cx"))-n(qt(t,e.styleSheets,"r"))||0,i=n(t.getAttribute("x2"))||r+n(qt(t,e.styleSheets,"width"))||n(qt(t,e.styleSheets,"cx"))+n(qt(t,e.styleSheets,"r"))||0,s=n(t.getAttribute("y1"))||n(qt(t,e.styleSheets,"y"))||n(qt(t,e.styleSheets,"cy"))-n(qt(t,e.styleSheets,"r"))||0,a=n(t.getAttribute("y2"))||s+n(qt(t,e.styleSheets,"height"))||n(qt(t,e.styleSheets,"cy"))+n(qt(t,e.styleSheets,"r"))||0;return[Math.min(r,i),Math.min(s,a),Math.max(r,i)-Math.min(r,i),Math.max(s,a)-Math.min(s,a)]}function xc(t,e,n,r,i,s,a,o){o===void 0&&(o=!1);var l,c,u=e[0],d=e[1],p=e[2],f=e[3],w=i/p,v=s/f,k=t.getAttribute("preserveAspectRatio");if(k){var y=k.split(" ");y[0]==="defer"&&(y=y.slice(1)),l=y[0],c=y[1]||"meet"}else l="xMidYMid",c="meet";if(l!=="none"&&(c==="meet"?w=v=Math.min(w,v):c==="slice"&&(w=v=Math.max(w,v))),o)return a.pdf.Matrix(w,0,0,v,0,0);var x=n-u*w,N=r-d*v;l.indexOf("xMid")>=0?x+=(i-p*w)/2:l.indexOf("xMax")>=0&&(x+=i-p*w),l.indexOf("YMid")>=0?N+=(s-f*v)/2:l.indexOf("YMax")>=0&&(N+=s-f*v);var L=a.pdf.Matrix(1,0,0,1,x,N),j=a.pdf.Matrix(w,0,0,v,0,0);return a.pdf.matrixMult(j,L)}function Uh(t,e){if(!t||t==="none")return e.pdf.unitMatrix;for(var n,r,i=/^[\s,]*matrix\(([^)]+)\)\s*/,s=/^[\s,]*translate\(([^)]+)\)\s*/,a=/^[\s,]*rotate\(([^)]+)\)\s*/,o=/^[\s,]*scale\(([^)]+)\)\s*/,l=/^[\s,]*skewX\(([^)]+)\)\s*/,c=/^[\s,]*skewY\(([^)]+)\)\s*/,u=e.pdf.unitMatrix;t.length>0&&t.length!==r;){r=t.length;var d=i.exec(t);if(d&&(n=Rr(d[1]),u=e.pdf.matrixMult(e.pdf.Matrix(n[0],n[1],n[2],n[3],n[4],n[5]),u),t=t.substr(d[0].length)),d=a.exec(t)){n=Rr(d[1]);var p=Math.PI*n[0]/180;if(u=e.pdf.matrixMult(e.pdf.Matrix(Math.cos(p),Math.sin(p),-Math.sin(p),Math.cos(p),0,0),u),n[1]||n[2]){var f=e.pdf.Matrix(1,0,0,1,n[1],n[2]),w=e.pdf.Matrix(1,0,0,1,-n[1],-n[2]);u=e.pdf.matrixMult(w,e.pdf.matrixMult(u,f))}t=t.substr(d[0].length)}(d=s.exec(t))&&(n=Rr(d[1]),u=e.pdf.matrixMult(e.pdf.Matrix(1,0,0,1,n[0],n[1]||0),u),t=t.substr(d[0].length)),(d=o.exec(t))&&((n=Rr(d[1]))[1]||(n[1]=n[0]),u=e.pdf.matrixMult(e.pdf.Matrix(n[0],0,0,n[1],0,0),u),t=t.substr(d[0].length)),(d=l.exec(t))&&(n=parseFloat(d[1]),n*=Math.PI/180,u=e.pdf.matrixMult(e.pdf.Matrix(1,0,Math.tan(n),1,0,0),u),t=t.substr(d[0].length)),(d=c.exec(t))&&(n=parseFloat(d[1]),n*=Math.PI/180,u=e.pdf.matrixMult(e.pdf.Matrix(1,Math.tan(n),0,1,0,0),u),t=t.substr(d[0].length))}return u}var k1=function(){function t(e,n){this.element=e,this.children=n,this.parent=null}return t.prototype.setParent=function(e){this.parent=e},t.prototype.getParent=function(){return this.parent},t.prototype.getBoundingBox=function(e){return qt(this.element,e.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(e)},t.prototype.computeNodeTransform=function(e){var n=this.computeNodeTransformCore(e),r=qt(this.element,e.styleSheets,"transform");return r?e.pdf.matrixMult(n,Uh(r,e)):n},t}(),kc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.render=function(n){return Promise.resolve()},e.prototype.getBoundingBoxCore=function(n){return[]},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e}(k1),Rv=function(t){function e(n,r,i){var s=t.call(this,r,i)||this;return s.pdfGradientType=n,s.contextColor=void 0,s}return ze(e,t),e.prototype.apply=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o,l;return He(this,function(c){return(r=this.element.getAttribute("id"))?(i=this.getStops(n.styleSheets),s=0,a=!1,i.forEach(function(u){var d=u.opacity;d&&d!==1&&(s+=d,a=!0)}),a&&(o=new Aa({opacity:s/i.length})),l=new Rs(this.pdfGradientType,this.getCoordinates(),i,o),n.pdf.addShadingPattern(r,l),[2]):[2]})})},e.prototype.getStops=function(n){var r=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var i=this;i;){var s=qt(i.element,n,"color");if(s){this.contextColor=To(s,null);break}i=i.getParent()}}var a=[];return this.children.forEach(function(o){if(o.element.tagName.toLowerCase()==="stop"){var l=qt(o.element,n,"color"),c=To(qt(o.element,n,"stop-color")||"",l?{color:To(l,null)}:{color:r.contextColor}),u=parseFloat(qt(o.element,n,"stop-opacity")||"1");a.push({offset:e.parseGradientOffset(o.element.getAttribute("offset")||"0"),color:[c.r,c.g,c.b],opacity:u})}}),this.stops=a},e.prototype.getBoundingBoxCore=function(n){return wc(this.element,n)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e.parseGradientOffset=function(n){var r=parseFloat(n);return!isNaN(r)&&n.indexOf("%")>=0?r/100:r},e}(kc),jv=function(t){function e(n,r){return t.call(this,"axial",n,r)||this}return ze(e,t),e.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},e}(Rv),Bv=function(t){function e(n,r){return t.call(this,"radial",n,r)||this}return ze(e,t),e.prototype.getCoordinates=function(){var n=this.element.getAttribute("cx"),r=this.element.getAttribute("cy"),i=this.element.getAttribute("fx"),s=this.element.getAttribute("fy");return[parseFloat(i||n||"0.5"),parseFloat(s||r||"0.5"),0,parseFloat(n||"0.5"),parseFloat(r||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},e}(Rv),oN=function(){function t(e,n){this.key=e,this.gradient=n}return t.prototype.getFillData=function(e,n){return $e(this,void 0,void 0,function(){var r,i,s;return He(this,function(a){switch(a.label){case 0:return[4,n.refsHandler.getRendered(this.key,null,function(o){return o.apply(new Js(n.pdf,{refsHandler:n.refsHandler,textMeasure:n.textMeasure,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters}))})];case 1:return a.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?r=n.pdf.unitMatrix:(i=e.getBoundingBox(n),r=n.pdf.Matrix(i[2],0,0,i[3],i[0],i[1])),s=Uh(qt(this.gradient.element,n.styleSheets,"gradientTransform","transform"),n),[2,{key:this.key,matrix:n.pdf.matrixMult(s,r)}]}})})},t}(),zv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.apply=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o;return He(this,function(l){switch(l.label){case 0:if(!(r=this.element.getAttribute("id")))return[2];i=this.getBoundingBox(n),s=new ba([i[0],i[1],i[0]+i[2],i[1]+i[3]],i[2],i[3]),n.pdf.beginTilingPattern(s),a=0,o=this.children,l.label=1;case 1:return a<o.length?[4,o[a].render(new Js(n.pdf,{attributeState:n.attributeState,refsHandler:n.refsHandler,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure}))]:[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return n.pdf.endTilingPattern(r,s),[2]}})})},e.prototype.getBoundingBoxCore=function(n){return wc(this.element,n)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e}(kc),lN=function(){function t(e,n){this.key=e,this.pattern=n}return t.prototype.getFillData=function(e,n){return $e(this,void 0,void 0,function(){var r,i,s,a,o,l,c,u,d,p,f,w;return He(this,function(v){switch(v.label){case 0:return[4,n.refsHandler.getRendered(this.key,null,function(k){return k.apply(new Js(n.pdf,{refsHandler:n.refsHandler,textMeasure:n.textMeasure,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters}))})];case 1:return v.sent(),r={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},s=n.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(i=e.getBoundingBox(n),s=n.pdf.Matrix(1,0,0,1,i[0],i[1]),o=this.pattern.getBoundingBox(n),l=o[0]*i[0]||0,c=o[1]*i[1]||0,u=o[2]*i[2]||0,d=o[3]*i[3]||0,r.boundingBox=[l,c,l+u,c+d],r.xStep=u,r.yStep=d),a=n.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(i||(i=e.getBoundingBox(n)),a=n.pdf.Matrix(i[2],0,0,i[3],0,0),o=r.boundingBox||this.pattern.getBoundingBox(n),l=o[0]/i[0]||0,c=o[1]/i[1]||0,u=o[2]/i[2]||0,d=o[3]/i[3]||0,r.boundingBox=[l,c,l+u,c+d],r.xStep=u,r.yStep=d),p=n.pdf.unitMatrix,(f=qt(this.pattern.element,n.styleSheets,"patternTransform","transform"))&&(p=Uh(f,n)),w=a,w=n.pdf.matrixMult(w,s),w=n.pdf.matrixMult(w,p),w=n.pdf.matrixMult(w,n.transform),r.matrix=w,[2,r]}})})},t}();function cN(t,e){var n=w1.exec(t);if(n){var r=n[1],i=e.refsHandler.get(r);return i&&(i instanceof jv||i instanceof Bv)?function(a,o,l){var c=o.getStops(l.styleSheets);if(c.length===0)return null;if(c.length===1){var u=c[0].color,d=new ni;return d.ok=!0,d.r=u[0],d.g=u[1],d.b=u[2],d.a=c[0].opacity,new Fn(d)}return new oN(a,o)}(r,i,e):i&&i instanceof zv?new lN(r,i):new Fn(new ni("rgb(0, 0, 0)"))}var s=To(t,e.attributeState);return s.ok?new Fn(s):null}function S1(t,e,n){var r=n||e.element,i=qt(r,t.styleSheets,"color");if(i){var s=To(i,t.attributeState);s.ok?t.attributeState.color=s:t.attributeState.color=new ni("rgb(0,0,0)")}var a=qt(r,t.styleSheets,"visibility");a&&(t.attributeState.visibility=a);var o=qt(r,t.styleSheets,"fill");o&&(t.attributeState.fill=cN(o,t));var l=qt(r,t.styleSheets,"fill-opacity");l&&(t.attributeState.fillOpacity=parseFloat(l));var c=qt(r,t.styleSheets,"stroke-opacity");c&&(t.attributeState.strokeOpacity=parseFloat(c));var u=qt(r,t.styleSheets,"opacity");u&&(t.attributeState.opacity=parseFloat(u));var d=qt(r,t.styleSheets,"stroke-width");d!==void 0&&d!==""&&(t.attributeState.strokeWidth=Math.abs(parseFloat(d)));var p=qt(r,t.styleSheets,"stroke");if(p)if(p==="none")t.attributeState.stroke=null;else{var f=To(p,t.attributeState);f.ok&&(t.attributeState.stroke=new Fn(f))}p&&t.attributeState.stroke instanceof Fn&&(t.attributeState.contextStroke=t.attributeState.stroke.color),o&&t.attributeState.fill instanceof Fn&&(t.attributeState.contextFill=t.attributeState.fill.color);var w=qt(r,t.styleSheets,"stroke-linecap");w&&(t.attributeState.strokeLinecap=w);var v=qt(r,t.styleSheets,"stroke-linejoin");v&&(t.attributeState.strokeLinejoin=v);var k=qt(r,t.styleSheets,"stroke-dasharray");if(k){var y=parseInt(qt(r,t.styleSheets,"stroke-dashoffset")||"0");t.attributeState.strokeDasharray=Rr(k),t.attributeState.strokeDashoffset=y}var x=qt(r,t.styleSheets,"stroke-miterlimit");x!==void 0&&x!==""&&(t.attributeState.strokeMiterlimit=parseFloat(x));var N=r.getAttribute("xml:space");N&&(t.attributeState.xmlSpace=N);var L=qt(r,t.styleSheets,"font-weight");L&&(t.attributeState.fontWeight=L);var j=qt(r,t.styleSheets,"font-style");j&&(t.attributeState.fontStyle=j);var it=qt(r,t.styleSheets,"font-family");if(it){var J=YP.parse(it);t.attributeState.fontFamily=function(M,ot,Y){var rt=Ov(M.fontStyle,M.fontWeight),Z=Y.pdf.getFontList(),lt="";return ot.some(function(ft){var It=Z[ft];return It&&It.indexOf(rt)>=0?(lt=ft,!0):(ft=ft.toLowerCase(),!!rs.hasOwnProperty(ft)&&(lt=ft,!0))})||(lt="times"),lt}(t.attributeState,J,t)}var G=qt(r,t.styleSheets,"font-size");if(G){var nt=t.pdf.getFontSize();t.attributeState.fontSize=Qi(G,nt)}var mt=qt(r,t.styleSheets,"vertical-align")||qt(r,t.styleSheets,"alignment-baseline");if(mt){var E=mt.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);E&&(t.attributeState.alignmentBaseline=E[0])}var B=qt(r,t.styleSheets,"text-anchor");B&&(t.attributeState.textAnchor=B);var Q=qt(r,t.styleSheets,"fill-rule");Q&&(t.attributeState.fillRule=Q)}function _1(t,e,n){var r=1,i=1;r*=t.attributeState.fillOpacity,r*=t.attributeState.opacity,t.attributeState.fill instanceof Fn&&t.attributeState.fill.color.a!==void 0&&(r*=t.attributeState.fill.color.a),i*=t.attributeState.strokeOpacity,i*=t.attributeState.opacity,t.attributeState.stroke instanceof Fn&&t.attributeState.stroke.color.a!==void 0&&(i*=t.attributeState.stroke.color.a);var s,a,o=r<1,l=i<1;if(Hs(n,"use")?(o=!0,l=!0,r*=t.attributeState.fill?1:0,i*=t.attributeState.stroke?1:0):t.withinUse&&(t.attributeState.fill!==e.attributeState.fill?(o=!0,r*=t.attributeState.fill?1:0):o&&!t.attributeState.fill&&(r=0),t.attributeState.stroke!==e.attributeState.stroke?(l=!0,i*=t.attributeState.stroke?1:0):l&&!t.attributeState.stroke&&(i=0)),o||l){var c={};o&&(c.opacity=r),l&&(c["stroke-opacity"]=i),t.pdf.setGState(new Aa(c))}if(t.attributeState.fill&&t.attributeState.fill!==e.attributeState.fill&&t.attributeState.fill instanceof Fn&&t.attributeState.fill.color.ok&&!Hs(n,"text")&&t.pdf.setFillColor(t.attributeState.fill.color.r,t.attributeState.fill.color.g,t.attributeState.fill.color.b),t.attributeState.strokeWidth!==e.attributeState.strokeWidth&&t.pdf.setLineWidth(t.attributeState.strokeWidth),t.attributeState.stroke!==e.attributeState.stroke&&t.attributeState.stroke instanceof Fn&&t.pdf.setDrawColor(t.attributeState.stroke.color.r,t.attributeState.stroke.color.g,t.attributeState.stroke.color.b),t.attributeState.strokeLinecap!==e.attributeState.strokeLinecap&&t.pdf.setLineCap(t.attributeState.strokeLinecap),t.attributeState.strokeLinejoin!==e.attributeState.strokeLinejoin&&t.pdf.setLineJoin(t.attributeState.strokeLinejoin),t.attributeState.strokeDasharray===e.attributeState.strokeDasharray&&t.attributeState.strokeDashoffset===e.attributeState.strokeDashoffset||!t.attributeState.strokeDasharray||t.pdf.setLineDashPattern(t.attributeState.strokeDasharray,t.attributeState.strokeDashoffset),t.attributeState.strokeMiterlimit!==e.attributeState.strokeMiterlimit&&t.pdf.setLineMiterLimit(t.attributeState.strokeMiterlimit),t.attributeState.fontFamily!==e.attributeState.fontFamily&&(s=rs.hasOwnProperty(t.attributeState.fontFamily)?rs[t.attributeState.fontFamily]:t.attributeState.fontFamily),t.attributeState.fill&&t.attributeState.fill!==e.attributeState.fill&&t.attributeState.fill instanceof Fn&&t.attributeState.fill.color.ok){var u=t.attributeState.fill.color;t.pdf.setTextColor(u.r,u.g,u.b)}t.attributeState.fontWeight===e.attributeState.fontWeight&&t.attributeState.fontStyle===e.attributeState.fontStyle||(a=Ov(t.attributeState.fontStyle,t.attributeState.fontWeight)),s===void 0&&a===void 0||(s===void 0&&(s=rs.hasOwnProperty(t.attributeState.fontFamily)?rs[t.attributeState.fontFamily]:t.attributeState.fontFamily),t.pdf.setFont(s,a)),t.attributeState.fontSize!==e.attributeState.fontSize&&t.pdf.setFontSize(t.attributeState.fontSize*t.pdf.internal.scaleFactor)}function qv(t,e,n){var r=w1.exec(t);if(r){var i=r[1];return n.refsHandler.get(i)||void 0}}function Wv(t,e,n){return $e(this,void 0,void 0,function(){var r,i;return He(this,function(s){switch(s.label){case 0:return r=n.clone(),e.element.hasAttribute("clipPathUnits")&&e.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(i=t.getBoundingBox(n),r.transform=n.pdf.matrixMult(n.pdf.Matrix(i[2],0,0,i[3],i[0],i[1]),n.transform)),[4,e.apply(r)];case 1:return s.sent(),[2]}})})}var Uv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.render=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a;return He(this,function(o){switch(o.label){case 0:return this.isVisible(n.attributeState.visibility!=="hidden",n)?((r=n.clone()).transform=r.pdf.matrixMult(this.computeNodeTransform(r),n.transform),S1(r,this),i=qt(this.element,r.styleSheets,"clip-path"),(s=i&&i!=="none")?(a=qv(i,0,r))?a.isVisible(!0,r)?(r.pdf.saveGraphicsState(),[4,Wv(this,a,r)]):[3,2]:[3,4]:[3,5]):[2];case 1:return o.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:s=!1,o.label=5;case 5:return r.withinClipPath||r.pdf.saveGraphicsState(),_1(r,n,this.element),[4,this.renderCore(r)];case 6:return o.sent(),r.withinClipPath||r.pdf.restoreGraphicsState(),s&&r.pdf.restoreGraphicsState(),[2]}})})},e}(k1),$h=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e}(Uv),Sc=function(t){function e(n,r,i){var s=t.call(this,r,i)||this;return s.cachedPath=null,s.hasMarkers=n,s}return ze(e,t),e.prototype.renderCore=function(n){return $e(this,void 0,void 0,function(){var r;return He(this,function(i){switch(i.label){case 0:return(r=this.getCachedPath(n))===null||r.segments.length===0?[2]:(n.withinClipPath?r.transform(n.transform):n.pdf.setCurrentTransformationMatrix(n.transform),r.draw(n),[4,this.fillOrStroke(n)]);case 1:return i.sent(),this.hasMarkers?[4,this.drawMarkers(n,r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.getCachedPath=function(n){return this.cachedPath||(this.cachedPath=this.getPath(n))},e.prototype.drawMarkers=function(n,r){return $e(this,void 0,void 0,function(){return He(this,function(i){switch(i.label){case 0:return[4,this.getMarkers(r,n).draw(n.clone({transform:n.pdf.unitMatrix}))];case 1:return i.sent(),[2]}})})},e.prototype.fillOrStroke=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o;return He(this,function(l){switch(l.label){case 0:return n.withinClipPath?[2]:(r=n.attributeState.fill,i=n.attributeState.stroke&&n.attributeState.strokeWidth!==0,r?[4,r.getFillData(this,n)]:[3,2]);case 1:return a=l.sent(),[3,3];case 2:a=void 0,l.label=3;case 3:return s=a,o=n.attributeState.fillRule==="evenodd",r&&i||n.withinUse?o?n.pdf.fillStrokeEvenOdd(s):n.pdf.fillStroke(s):r?o?n.pdf.fillEvenOdd(s):n.pdf.fill(s):i?n.pdf.stroke():n.pdf.discardPath(),[2]}})})},e.prototype.getBoundingBoxCore=function(n){var r=this.getCachedPath(n);if(!r||!r.segments.length)return[0,0,0,0];for(var i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=0,c=0,u=0;u<r.segments.length;u++){var d=r.segments[u];(d instanceof Pn||d instanceof js||d instanceof Ai)&&(l=d.x,c=d.y),d instanceof Ai?(i=Math.min(i,l,d.x1,d.x2,d.x),a=Math.max(a,l,d.x1,d.x2,d.x),s=Math.min(s,c,d.y1,d.y2,d.y),o=Math.max(o,c,d.y1,d.y2,d.y)):(i=Math.min(i,l),a=Math.max(a,l),s=Math.min(s,c),o=Math.max(o,c))}return[i,s,a-i,o-s]},e.prototype.getMarkers=function(n,r){var i=qt(this.element,r.styleSheets,"marker-start"),s=qt(this.element,r.styleSheets,"marker-mid"),a=qt(this.element,r.styleSheets,"marker-end"),o=new iN;if(i||s||a){a&&(a=Ld(a)),i&&(i=Ld(i)),s&&(s=Ld(s));for(var l=n.segments,c=[1,0],u=void 0,d=!1,p=[1,0],f=!1,w=function(k){var y=l[k],x=i&&(k===1||!(l[k]instanceof Pn)&&l[k-1]instanceof Pn);x&&l.forEach(function(G,nt){if(!f&&G instanceof bp&&nt>k){var mt=l[nt-1];f=(mt instanceof Pn||mt instanceof js||mt instanceof Ai)&&mt}});var N=a&&(k===l.length-1||!(l[k]instanceof Pn)&&l[k+1]instanceof Pn),L=s&&k>0&&!(k===1&&l[k-1]instanceof Pn),j=l[k-1]||null;if(j instanceof Pn||j instanceof js||j instanceof Ai)if(y instanceof Ai)x&&o.addMarker(new Ms(i,[j.x,j.y],hg(f?[f.x,f.y]:[j.x,j.y],[y.x1,y.y1]),!0)),N&&o.addMarker(new Ms(a,[y.x,y.y],hg([y.x2,y.y2],[y.x,y.y]))),L&&(u=uo([j.x,j.y],[y.x1,y.y1]),u=j instanceof Pn?u:El(Du(c,u)),o.addMarker(new Ms(s,[j.x,j.y],Math.atan2(u[1],u[0])))),c=uo([y.x2,y.y2],[y.x,y.y]);else if(y instanceof Pn||y instanceof js){if(u=uo([j.x,j.y],[y.x,y.y]),x){var it=f?uo([f.x,f.y],[y.x,y.y]):u;o.addMarker(new Ms(i,[j.x,j.y],Math.atan2(it[1],it[0]),!0))}N&&o.addMarker(new Ms(a,[y.x,y.y],Math.atan2(u[1],u[0]))),L&&(it=y instanceof Pn?c:j instanceof Pn?u:El(Du(c,u)),o.addMarker(new Ms(s,[j.x,j.y],Math.atan2(it[1],it[0])))),c=u}else y instanceof bp&&(u=uo([j.x,j.y],[d.x,d.y]),L&&(it=j instanceof Pn?u:El(Du(c,u)),o.addMarker(new Ms(s,[j.x,j.y],Math.atan2(it[1],it[0])))),N&&(it=El(Du(u,p)),o.addMarker(new Ms(a,[d.x,d.y],Math.atan2(it[1],it[0])))),c=u);else{d=y instanceof Pn&&y;var J=l[k+1];(J instanceof Pn||J instanceof js||J instanceof Ai)&&(p=uo([d.x,d.y],[J.x,J.y]))}},v=0;v<l.length;v++)w(v)}return o.markers.forEach(function(k){var y=r.refsHandler.get(k.id);if(y){var x=qt(y.element,r.styleSheets,"orient");x!=null&&(k.isStartMarker&&x==="auto-start-reverse"&&(k.angle+=Math.PI),isNaN(Number(x))||(k.angle=parseFloat(x)/180*Math.PI))}}),o},e}($h);function Ld(t){var e=w1.exec(t);return e&&e[1]||void 0}var uN=function(t){function e(n,r){return t.call(this,!0,n,r)||this}return ze(e,t),e.prototype.getPath=function(n){if(n.withinClipPath||n.attributeState.stroke===null)return null;var r=parseFloat(this.element.getAttribute("x1")||"0"),i=parseFloat(this.element.getAttribute("y1")||"0"),s=parseFloat(this.element.getAttribute("x2")||"0"),a=parseFloat(this.element.getAttribute("y2")||"0");return r||s||i||a?new zo().moveTo(r,i).lineTo(s,a):null},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e.prototype.fillOrStroke=function(n){return $e(this,void 0,void 0,function(){return He(this,function(r){switch(r.label){case 0:return n.attributeState.fill=null,[4,t.prototype.fillOrStroke.call(this,n)];case 1:return r.sent(),[2]}})})},e}(Sc),$v=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.apply=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o;return He(this,function(l){switch(l.label){case 0:return this.isVisible(n.attributeState.visibility!=="hidden",n)?((r=n.clone()).transform=r.pdf.unitMatrix,S1(r,this),i=qt(this.element,r.styleSheets,"clip-path"),i&&i!=="none"&&(s=qv(i,0,r))?s.isVisible(!0,r)?[4,Wv(this,s,r)]:[3,2]:[3,3]):[2];case 1:return l.sent(),[3,3];case 2:return[2];case 3:_1(r,n,this.element),a=0,o=this.children,l.label=4;case 4:return a<o.length?[4,o[a].render(r)]:[3,7];case 5:l.sent(),l.label=6;case 6:return a++,[3,4];case 7:return[2]}})})},e.prototype.getBoundingBoxCore=function(n){return x1(n,this)},e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e.prototype.computeNodeTransformCore=function(n){var r=parseFloat(qt(this.element,n.styleSheets,"x")||"0"),i=parseFloat(qt(this.element,n.styleSheets,"y")||"0"),s=this.element.getAttribute("viewBox");if(s){var a=Rr(s),o=parseFloat(qt(this.element,n.styleSheets,"width")||qt(this.element.ownerSVGElement,n.styleSheets,"width")||s[2]),l=parseFloat(qt(this.element,n.styleSheets,"height")||qt(this.element.ownerSVGElement,n.styleSheets,"height")||s[3]);return xc(this.element,a,r,i,o,l,n)}return n.pdf.Matrix(1,0,0,1,r,i)},e}(kc),Hh=function(t,e){this.width=t,this.height=e},hN=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.renderCore=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o,l,c,u,d,p,f,w,v;return He(this,function(k){switch(k.label){case 0:return r=parseFloat,(i=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(s=i.substring(1),a=n.refsHandler.get(s),o=Hs(a.element,"symbol,svg")&&a.element.hasAttribute("viewBox"),l=r(qt(this.element,n.styleSheets,"x")||"0"),c=r(qt(this.element,n.styleSheets,"y")||"0"),u=void 0,d=void 0,o?(u=r(qt(this.element,n.styleSheets,"width")||qt(a.element,n.styleSheets,"width")||"0"),d=r(qt(this.element,n.styleSheets,"height")||qt(a.element,n.styleSheets,"height")||"0"),l+=r(qt(a.element,n.styleSheets,"x")||"0"),c+=r(qt(a.element,n.styleSheets,"y")||"0"),f=Rr(a.element.getAttribute("viewBox")),p=xc(a.element,f,l,c,u,d,n)):p=n.pdf.Matrix(1,0,0,1,l,c),w=Bo.getContextColors(n,!0),v=new Js(n.pdf,{refsHandler:n.refsHandler,styleSheets:n.styleSheets,withinUse:!0,viewport:o?new Hh(u,d):n.viewport,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure,attributeState:Object.assign(Bo.default(),w)}),[4,n.refsHandler.getRendered(s,w,function(y){return e.renderReferencedNode(y,s,v)})]):[2];case 1:return k.sent(),n.pdf.saveGraphicsState(),n.pdf.setCurrentTransformationMatrix(n.transform),o&&qt(a.element,n.styleSheets,"overflow")!=="visible"&&(n.pdf.rect(l,c,u,d),n.pdf.clip().discardPath()),n.pdf.doFormObject(n.refsHandler.generateKey(s,w),p),n.pdf.restoreGraphicsState(),[2]}})})},e.renderReferencedNode=function(n,r,i){return $e(this,void 0,void 0,function(){var s;return He(this,function(a){switch(a.label){case 0:return s=[(s=n.getBoundingBox(i))[0]-.5*s[2],s[1]-.5*s[3],2*s[2],2*s[3]],i.pdf.beginFormObject(s[0],s[1],s[2],s[3],i.pdf.unitMatrix),n instanceof $v?[4,n.apply(i)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,n.render(i)];case 3:a.sent(),a.label=4;case 4:return i.pdf.endFormObject(i.refsHandler.generateKey(r,i.attributeState)),[2]}})})},e.prototype.getBoundingBoxCore=function(n){return wc(this.element,n)},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e}($h),fN=function(t){function e(n,r){return t.call(this,!1,n,r)||this}return ze(e,t),e.prototype.getPath=function(n){var r=parseFloat(qt(this.element,n.styleSheets,"width")||"0"),i=parseFloat(qt(this.element,n.styleSheets,"height")||"0");if(!isFinite(r)||r<=0||!isFinite(i)||i<=0)return null;var s=qt(this.element,n.styleSheets,"rx"),a=qt(this.element,n.styleSheets,"ry"),o=Math.min(parseFloat(s||a||"0"),.5*r),l=Math.min(parseFloat(a||s||"0"),.5*i),c=parseFloat(qt(this.element,n.styleSheets,"x")||"0"),u=parseFloat(qt(this.element,n.styleSheets,"y")||"0"),d=4/3*(Math.SQRT2-1);return o===0&&l===0?new zo().moveTo(c,u).lineTo(c+r,u).lineTo(c+r,u+i).lineTo(c,u+i).close():new zo().moveTo(c+=o,u).lineTo(c+=r-2*o,u).curveTo(c+o*d,u,c+o,u+(l-l*d),c+=o,u+=l).lineTo(c,u+=i-2*l).curveTo(c,u+l*d,c-o*d,u+l,c-=o,u+=l).lineTo(c+=2*o-r,u).curveTo(c-o*d,u,c-o,u-l*d,c-=o,u-=l).lineTo(c,u+=2*l-i).curveTo(c,u-l*d,c+o*d,u-l,c+=o,u-=l).close()},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e}(Sc),Hv=function(t){function e(n,r){return t.call(this,!1,n,r)||this}return ze(e,t),e.prototype.getPath=function(n){var r=this.getRx(n),i=this.getRy(n);if(!isFinite(r)||i<=0||!isFinite(i)||i<=0)return null;var s=parseFloat(qt(this.element,n.styleSheets,"cx")||"0"),a=parseFloat(qt(this.element,n.styleSheets,"cy")||"0"),o=4/3*(Math.SQRT2-1)*r,l=4/3*(Math.SQRT2-1)*i;return new zo().moveTo(s+r,a).curveTo(s+r,a-l,s+o,a-i,s,a-i).curveTo(s-o,a-i,s-r,a-l,s-r,a).curveTo(s-r,a+l,s-o,a+i,s,a+i).curveTo(s+o,a+i,s+r,a+l,s+r,a)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e}(Sc),dN=function(t){function e(n,r){return t.call(this,n,r)||this}return ze(e,t),e.prototype.getRx=function(n){return parseFloat(qt(this.element,n.styleSheets,"rx")||"0")},e.prototype.getRy=function(n){return parseFloat(qt(this.element,n.styleSheets,"ry")||"0")},e}(Hv);function Vv(t){var e="invisible",n=t.stroke&&t.strokeWidth!==0,r=t.fill;return r&&n?e="fillThenStroke":r?e="fill":n&&(e="stroke"),e}function mg(t){return t.replace(/[\n\r]/g,"")}function gg(t){return t.replace(/[\t]/g," ")}function vg(t){return t.replace(/ +/g," ")}function yg(t,e,n){switch(qt(t,n.styleSheets,"text-transform")){case"uppercase":return e.toUpperCase();case"lowercase":return e.toLowerCase();default:return e}}var Pd=function(){function t(e,n,r,i){this.textNode=e,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=n,this.originX=r,this.originY=i,this.textMeasures=[]}return t.prototype.setX=function(e){this.originX=e},t.prototype.setY=function(e){this.originY=e},t.prototype.add=function(e,n,r){this.texts.push(n),this.textNodes.push(e),this.contexts.push(r)},t.prototype.rightTrimText=function(){for(var e=this.texts.length-1;e>=0;e--)if(this.contexts[e].attributeState.xmlSpace==="default"&&(this.texts[e]=this.texts[e].replace(/\s+$/,"")),this.texts[e].match(/[^\s]/))return!1;return!0},t.prototype.measureText=function(e){for(var n=0;n<this.texts.length;n++)this.textMeasures.push({width:e.textMeasure.measureTextWidth(this.texts[n],this.contexts[n].attributeState),length:this.texts[n].length})},t.prototype.put=function(e,n){var r,i,s,a,o=[],l=[],c=[],u=this.originX,d=this.originY,p=u,f=u;for(r=0;r<this.textNodes.length;r++){i=this.textNodes[r],s=this.contexts[r],a=this.textMeasures[r]||{width:e.textMeasure.measureTextWidth(this.texts[r],this.contexts[r].attributeState),length:this.texts[r].length};var w=u,v=d;if(i.nodeName!=="#text"&&!o.includes(i)){o.push(i);var k=t.resolveRelativePositionAttribute(i,"dx");k!==null&&(w+=Qi(k,s.attributeState.fontSize));var y=t.resolveRelativePositionAttribute(i,"dy");y!==null&&(v+=Qi(y,s.attributeState.fontSize))}l[r]=w,c[r]=v,u=w+a.width+a.length*n,d=v,p=Math.min(p,w),f=Math.max(f,u)}var x=0;switch(this.textAnchor){case"start":x=0;break;case"middle":x=(f-p)/2;break;case"end":x=f-p}for(r=0;r<this.textNodes.length;r++)if(i=this.textNodes[r],s=this.contexts[r],i.nodeName==="#text"||s.attributeState.visibility!=="hidden"){e.pdf.saveGraphicsState(),_1(s,e,i);var N=s.attributeState.alignmentBaseline,L=Vv(s.attributeState);e.pdf.text(this.texts[r],l[r]-x,c[r],{baseline:Fv(N),angle:e.transform,renderingMode:L==="fill"?void 0:L,charSpace:n===0?void 0:n}),e.pdf.restoreGraphicsState()}return[u,d]},t.resolveRelativePositionAttribute=function(e,n){for(var r,i=e;i&&Hs(i,"tspan");){if(i.hasAttribute(n))return i.getAttribute(n);if(((r=e.parentElement)===null||r===void 0?void 0:r.firstChild)!==e)break;i=i.parentElement}return null},t}(),pN=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.boundingBox=[],n}return ze(e,t),e.prototype.processTSpans=function(n,r,i,s,a,o){for(var l=i.pdf.getFontSize(),c=i.attributeState.xmlSpace,u=!0,d=!1,p=0;p<r.childNodes.length;p++){var f=r.childNodes[p];if(f.textContent){var w=f.textContent;if(f.nodeName==="#text"){var v=mg(w);v=gg(v),c==="default"&&(v=vg(v),u&&v.match(/^\s/)&&(d=!0),v.match(/[^\s]/)&&(u=!1),o.prevText.match(/\s$/)&&(v=v.replace(/^\s+/,"")));var k=yg(r,v,i);a.add(r,k,i),o.prevText=w,o.prevContext=i}else if(!Hs(f,"title")){if(Hs(f,"tspan")){var y=f,x=y.getAttribute("x");if(x!==null){var N=Qi(x,l);a=new Pd(this,qt(y,i.styleSheets,"text-anchor")||i.attributeState.textAnchor,N,0),s.push({type:"y",chunk:a})}var L=y.getAttribute("y");if(L!==null){var j=Qi(L,l);a=new Pd(this,qt(y,i.styleSheets,"text-anchor")||i.attributeState.textAnchor,0,j),s.push({type:"x",chunk:a})}var it=i.clone();S1(it,n,y),this.processTSpans(n,y,it,s,a,o)}}}}return d},e.prototype.renderCore=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o,l,c,u,d,p,f,w,v,k,y,x,N,L,j,it,J,G,nt;return He(this,function(mt){if(n.pdf.saveGraphicsState(),r=0,i=0,s=1,a=n.pdf.getFontSize(),o=Qi(this.element.getAttribute("x"),a),l=Qi(this.element.getAttribute("y"),a),c=Qi(this.element.getAttribute("dx"),a),u=Qi(this.element.getAttribute("dy"),a),d=parseFloat(this.element.getAttribute("textLength")||"0"),p=n.attributeState.visibility,this.element.childElementCount===0)f=this.element.textContent||"",w=function(E,B){return E=gg(E=mg(E)),B.xmlSpace==="default"&&(E=vg(E=E.trim())),E}(f,n.attributeState),v=yg(this.element,w,n),r=n.textMeasure.getTextOffset(v,n.attributeState),d>0&&(k=n.textMeasure.measureTextWidth(v,n.attributeState),n.attributeState.xmlSpace==="default"&&f.match(/^\s/)&&(s=0),i=(d-k)/(v.length-s)||0),p==="visible"&&(y=n.attributeState.alignmentBaseline,x=Vv(n.attributeState),n.pdf.text(v,o+c-r,l+u,{baseline:Fv(y),angle:n.transform,renderingMode:x==="fill"?void 0:x,charSpace:i===0?void 0:i}),this.boundingBox=[o+c-r,l+u+.1*a,n.textMeasure.measureTextWidth(v,n.attributeState),a]);else{for(N=[],L=new Pd(this,n.attributeState.textAnchor,o+c,l+u),N.push({type:"",chunk:L}),j=this.processTSpans(this,this.element,n,N,L,{prevText:" ",prevContext:n}),s=j?0:1,it=!0,J=N.length-1;J>=0;J--)it&&(it=N[J].chunk.rightTrimText());d>0&&(G=0,nt=0,N.forEach(function(E){var B=E.chunk;B.measureText(n),B.textMeasures.forEach(function(Q){var M=Q.width,ot=Q.length;G+=M,nt+=ot})}),i=(d-G)/(nt-s)),N.reduce(function(E,B){var Q=B.type,M=B.chunk;return Q==="x"?M.setX(E[0]):Q==="y"&&M.setY(E[1]),M.put(n,i)},[0,0])}return n.pdf.restoreGraphicsState(),[2]})})},e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e.prototype.getBoundingBoxCore=function(n){return this.boundingBox.length>0?this.boundingBox:wc(this.element,n)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e}($h),mN=function(t){function e(n,r){return t.call(this,!0,n,r)||this}return ze(e,t),e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e.prototype.getPath=function(n){var r,i,s=new nN(qt(this.element,n.styleSheets,"d")||"").unshort().unarc().abs(),a=new zo;return s.iterate(function(o){switch(o[0]){case"M":a.moveTo(o[1],o[2]);break;case"L":a.lineTo(o[1],o[2]);break;case"H":a.lineTo(o[1],i);break;case"V":a.lineTo(r,o[1]);break;case"C":a.curveTo(o[1],o[2],o[3],o[4],o[5],o[6]);break;case"Q":var l=dg([r,i],[o[1],o[2]]),c=dg([o[3],o[4]],[o[1],o[2]]);a.curveTo(l[0],l[1],c[0],c[1],o[3],o[4]);break;case"Z":a.close()}switch(o[0]){case"M":case"L":r=o[1],i=o[2];break;case"H":r=o[1];break;case"V":i=o[1];break;case"C":r=o[5],i=o[6];break;case"Q":r=o[3],i=o[4]}}),a},e}(Sc),gN=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,((?:.|\s)*)$/i,vN=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.imageLoadingPromise=null,i.imageUrl=i.element.getAttribute("xlink:href")||i.element.getAttribute("href"),i.imageUrl&&(i.imageLoadingPromise=e.fetchImageData(i.imageUrl)),i}return ze(e,t),e.prototype.renderCore=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o,l,c,u,d,p,f,w,v,k,y,x,N,L;return He(this,function(j){switch(j.label){case 0:return this.imageLoadingPromise?(n.pdf.setCurrentTransformationMatrix(n.transform),r=parseFloat(qt(this.element,n.styleSheets,"width")||"0"),i=parseFloat(qt(this.element,n.styleSheets,"height")||"0"),s=parseFloat(qt(this.element,n.styleSheets,"x")||"0"),a=parseFloat(qt(this.element,n.styleSheets,"y")||"0"),!isFinite(r)||r<=0||!isFinite(i)||i<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return o=j.sent(),l=o.data,(c=o.format).indexOf("svg")!==0?[3,3]:(u=new DOMParser,d=u.parseFromString(l,"image/svg+xml").firstElementChild,(!(p=this.element.getAttribute("preserveAspectRatio"))||p.indexOf("defer")<0||!d.getAttribute("preserveAspectRatio"))&&d.setAttribute("preserveAspectRatio",p||""),d.setAttribute("x",String(s)),d.setAttribute("y",String(a)),d.setAttribute("width",String(r)),d.setAttribute("height",String(i)),[4,A1(d,f={}).render(new Js(n.pdf,{refsHandler:new Iv(f),styleSheets:n.styleSheets,viewport:new Hh(r,i),svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure}))]);case 2:return j.sent(),[2];case 3:w="data:image/".concat(c,";base64,").concat(btoa(l)),j.label=4;case 4:return j.trys.push([4,6,,7]),[4,e.getImageDimensions(w)];case 5:return v=j.sent(),k=v[0],y=v[1],x=[0,0,k,y],N=xc(this.element,x,s,a,r,i,n),n.pdf.setCurrentTransformationMatrix(N),n.pdf.addImage(w,"",0,0,k,y),[3,7];case 6:return L=j.sent(),typeof console=="object"&&console.warn&&console.warn("Could not load image ".concat(this.imageUrl,`. 
`).concat(L)),[3,7];case 7:return[2]}})})},e.prototype.getBoundingBoxCore=function(n){return wc(this.element,n)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e.fetchImageData=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o;return He(this,function(l){switch(l.label){case 0:if(!(s=n.match(gN)))return[3,1];if(a=s[2],(o=a.split("/"))[0]!=="image")throw new Error("Unsupported image URL: ".concat(n));return i=o[1],r=s[5],s[4]==="base64"?(r=r.replace(/\s/g,""),r=atob(r)):r=decodeURIComponent(r),[3,3];case 1:return[4,e.fetchImage(n)];case 2:r=l.sent(),i=n.substring(n.lastIndexOf(".")+1),l.label=3;case 3:return[2,{data:r,format:i}]}})})},e.fetchImage=function(n){return new Promise(function(r,i){var s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType="arraybuffer",s.onload=function(){if(s.status!==200)throw new Error("Error ".concat(s.status,": Failed to load image '").concat(n,"'"));for(var a=new Uint8Array(s.response),o="",l=0;l<a.length;l++)o+=String.fromCharCode(a[l]);r(o)},s.onerror=i,s.onabort=i,s.send(null)})},e.getMimeType=function(n){switch(n=n.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/".concat(n)}},e.getImageDimensions=function(n){return new Promise(function(r,i){var s=new Image;s.onload=function(){r([s.width,s.height])},s.onerror=i,s.src=n})},e}($h),Gv=function(t){function e(n,r,i){var s=t.call(this,!0,r,i)||this;return s.closed=n,s}return ze(e,t),e.prototype.getPath=function(n){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var r=e.parsePointsString(this.element.getAttribute("points")),i=new zo;if(r.length<1)return i;i.moveTo(r[0][0],r[0][1]);for(var s=1;s<r.length;s++)i.lineTo(r[s][0],r[s][1]);return this.closed&&i.close(),i},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.parsePointsString=function(n){for(var r=Rr(n),i=[],s=0;s<r.length-1;s+=2){var a=r[s],o=r[s+1];i.push([a,o])}return i},e}(Sc),yN=function(t){function e(n,r){return t.call(this,!0,n,r)||this}return ze(e,t),e}(Gv),bN=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.render=function(n){return Promise.resolve()},e.prototype.getBoundingBoxCore=function(n){return[0,0,0,0]},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e.prototype.isVisible=function(n,r){return hs(this,n,r)},e}(k1),wN=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.apply=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o,l;return He(this,function(c){switch(c.label){case 0:r=this.computeNodeTransform(n),i=this.getBoundingBox(n),n.pdf.beginFormObject(i[0],i[1],i[2],i[3],r),s=Bo.getContextColors(n),function(u){var d=u.attributeState,p=u.pdf,f=1,w=1;f*=d.fillOpacity,f*=d.opacity,d.fill instanceof Fn&&d.fill.color.a!==void 0&&(f*=d.fill.color.a),w*=d.strokeOpacity,w*=d.opacity,d.stroke instanceof Fn&&d.stroke.color.a!==void 0&&(w*=d.stroke.color.a);var v,k={};if(k.opacity=f,k["stroke-opacity"]=w,p.setGState(new Aa(k)),d.fill&&d.fill instanceof Fn&&d.fill.color.ok?p.setFillColor(d.fill.color.r,d.fill.color.g,d.fill.color.b):p.setFillColor(0,0,0),p.setLineWidth(d.strokeWidth),d.stroke instanceof Fn?p.setDrawColor(d.stroke.color.r,d.stroke.color.g,d.stroke.color.b):p.setDrawColor(0,0,0),p.setLineCap(d.strokeLinecap),p.setLineJoin(d.strokeLinejoin),d.strokeDasharray?p.setLineDashPattern(d.strokeDasharray,d.strokeDashoffset):p.setLineDashPattern([],0),p.setLineMiterLimit(d.strokeMiterlimit),v=rs.hasOwnProperty(d.fontFamily)?rs[d.fontFamily]:d.fontFamily,d.fill&&d.fill instanceof Fn&&d.fill.color.ok){var y=d.fill.color;p.setTextColor(y.r,y.g,y.b)}else p.setTextColor(0,0,0);var x="";d.fontWeight==="bold"&&(x="bold"),d.fontStyle==="italic"&&(x+="italic"),x===""&&(x="normal"),v!==void 0||x!==void 0?(v===void 0&&(v=rs.hasOwnProperty(d.fontFamily)?rs[d.fontFamily]:d.fontFamily),p.setFont(v,x)):p.setFont("helvetica",x),p.setFontSize(d.fontSize*p.internal.scaleFactor)}(a=new Js(n.pdf,{refsHandler:n.refsHandler,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure,attributeState:Object.assign(Bo.default(),s)})),o=0,l=this.children,c.label=1;case 1:return o<l.length?[4,l[o].render(a)]:[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return n.pdf.endFormObject(a.refsHandler.generateKey(this.element.getAttribute("id"),s)),[2]}})})},e.prototype.getBoundingBoxCore=function(n){var r,i=this.element.getAttribute("viewBox");return i&&(r=Rr(i)),[r&&r[0]||0,r&&r[1]||0,r&&r[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),r&&r[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},e.prototype.computeNodeTransformCore=function(n){var r,i=parseFloat(this.element.getAttribute("refX")||"0"),s=parseFloat(this.element.getAttribute("refY")||"0"),a=this.element.getAttribute("viewBox");if(a){var o=Rr(a);r=xc(this.element,o,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),n,!0),r=n.pdf.matrixMult(n.pdf.Matrix(1,0,0,1,-i,-s),r)}else r=n.pdf.Matrix(1,0,0,1,-i,-s);return r},e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e}(kc),xN=function(t){function e(n,r){return t.call(this,n,r)||this}return ze(e,t),e.prototype.getR=function(n){var r;return(r=this.r)!==null&&r!==void 0?r:this.r=parseFloat(qt(this.element,n.styleSheets,"r")||"0")},e.prototype.getRx=function(n){return this.getR(n)},e.prototype.getRy=function(n){return this.getR(n)},e}(Hv),kN=function(t){function e(n,r){return t.call(this,!1,n,r)||this}return ze(e,t),e}(Gv),Yv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.renderCore=function(n){return $e(this,void 0,void 0,function(){var r,i;return He(this,function(s){switch(s.label){case 0:r=0,i=this.children,s.label=1;case 1:return r<i.length?[4,i[r].render(n)]:[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.getBoundingBoxCore=function(n){return x1(n,this)},e}(Uv),SN=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e.prototype.render=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o;return He(this,function(l){switch(l.label){case 0:return this.isVisible(n.attributeState.visibility!=="hidden",n)?(r=this.getX(n),i=this.getY(n),s=this.getWidth(n),a=this.getHeight(n),n.pdf.saveGraphicsState(),o=n.transform,this.element.hasAttribute("transform")&&(o=n.pdf.matrixMult(Uh(this.element.getAttribute("transform"),n),o)),n.pdf.setCurrentTransformationMatrix(o),n.withinUse||qt(this.element,n.styleSheets,"overflow")==="visible"||n.pdf.rect(r,i,s,a).clip().discardPath(),[4,t.prototype.render.call(this,n.clone({transform:n.pdf.unitMatrix,viewport:n.withinUse?n.viewport:new Hh(s,a)}))]):[2];case 1:return l.sent(),n.pdf.restoreGraphicsState(),[2]}})})},e.prototype.computeNodeTransform=function(n){return this.computeNodeTransformCore(n)},e.prototype.computeNodeTransformCore=function(n){if(n.withinUse)return n.pdf.unitMatrix;var r,i=this.getX(n),s=this.getY(n),a=this.getViewBox();if(a){var o=this.getWidth(n),l=this.getHeight(n);r=xc(this.element,a,i,s,o,l,n)}else r=n.pdf.Matrix(1,0,0,1,i,s);return r},e.prototype.getWidth=function(n){if(this.width!==void 0)return this.width;var r,i,s=n.svg2pdfParameters;if(this.isOutermostSvg(n))if(s.width!=null)r=s.width;else if(i=qt(this.element,n.styleSheets,"width"))r=parseFloat(i);else{var a=this.getViewBox();if(a&&(s.height!=null||qt(this.element,n.styleSheets,"height"))){var o=a[2]/a[3];r=this.getHeight(n)*o}else r=Math.min(300,n.viewport.width,2*n.viewport.height)}else r=(i=qt(this.element,n.styleSheets,"width"))?parseFloat(i):n.viewport.width;return this.width=r},e.prototype.getHeight=function(n){if(this.height!==void 0)return this.height;var r,i,s=n.svg2pdfParameters;if(this.isOutermostSvg(n))if(s.height!=null)r=s.height;else if(i=qt(this.element,n.styleSheets,"height"))r=parseFloat(i);else{var a=this.getViewBox();if(a){var o=a[2]/a[3];r=this.getWidth(n)/o}else r=Math.min(150,n.viewport.width/2,n.viewport.height)}else r=(i=qt(this.element,n.styleSheets,"height"))?parseFloat(i):n.viewport.height;return this.height=r},e.prototype.getX=function(n){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(n))return this.x=0;var r=qt(this.element,n.styleSheets,"x");return this.x=r?parseFloat(r):0},e.prototype.getY=function(n){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(n))return this.y=0;var r=qt(this.element,n.styleSheets,"y");return this.y=r?parseFloat(r):0},e.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var n=this.element.getAttribute("viewBox");return this.viewBox=n?Rr(n):void 0},e.prototype.isOutermostSvg=function(n){return n.svg2pdfParameters.element===this.element},e}(Yv),Kv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},e}(Yv),_N=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.renderCore=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a;return He(this,function(o){switch(o.label){case 0:return[4,t.prototype.renderCore.call(this,n)];case 1:return o.sent(),(r=qt(this.element,n.styleSheets,"href"))&&(i=this.getBoundingBox(n),s=n.pdf.internal.scaleFactor,a=n.pdf.internal.pageSize.getHeight(),n.pdf.link(s*(i[0]*n.transform.sx+n.transform.tx),a-s*(i[1]*n.transform.sy+n.transform.ty),s*i[2],s*i[3],{url:r})),[2]}})})},e}(Kv),AN=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.apply=function(n){return $e(this,void 0,void 0,function(){var r,i,s,a,o;return He(this,function(l){switch(l.label){case 0:if(!this.isVisible(!0,n))return[2];r=n.pdf.matrixMult(this.computeNodeTransform(n),n.transform),n.pdf.setCurrentTransformationMatrix(r),i=0,s=this.children,l.label=1;case 1:return i<s.length?[4,s[i].render(new Js(n.pdf,{refsHandler:n.refsHandler,styleSheets:n.styleSheets,viewport:n.viewport,withinClipPath:!0,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure}))]:[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return a=this.children.length>0&&!!qt(this.children[0].element,n.styleSheets,"clip-rule"),o=a?this.getClipRuleAttr(this.children[0].element,n.styleSheets):this.getClipRuleAttr(this.element,n.styleSheets),n.pdf.clip(o).discardPath(),n.pdf.setCurrentTransformationMatrix(r.inversed()),[2]}})})},e.prototype.getBoundingBoxCore=function(n){return x1(n,this)},e.prototype.isVisible=function(n,r){return Qs(this,n,r)},e.prototype.getClipRuleAttr=function(n,r){return qt(n,r,"clip-rule")==="evenodd"?"evenodd":void 0},e}(kc);function A1(t,e){var n,r=[];switch(function(s,a){for(var o=[],l=0;l<s.childNodes.length;l++){var c=s.childNodes[l];c.nodeName.charAt(0)!=="#"&&o.push(c)}for(l=0;l<o.length;l++)a(l,o[l])}(t,function(s,a){return r.push(A1(a,e))}),t.tagName.toLowerCase()){case"a":n=new _N(t,r);break;case"g":n=new Kv(t,r);break;case"circle":n=new xN(t,r);break;case"clippath":n=new AN(t,r);break;case"ellipse":n=new dN(t,r);break;case"lineargradient":n=new jv(t,r);break;case"image":n=new vN(t,r);break;case"line":n=new uN(t,r);break;case"marker":n=new wN(t,r);break;case"path":n=new mN(t,r);break;case"pattern":n=new zv(t,r);break;case"polygon":n=new yN(t,r);break;case"polyline":n=new kN(t,r);break;case"radialgradient":n=new Bv(t,r);break;case"rect":n=new fN(t,r);break;case"svg":n=new SN(t,r);break;case"symbol":n=new $v(t,r);break;case"text":n=new pN(t,r);break;case"use":n=new hN(t,r);break;default:n=new bN(t,r)}if(e!=null&&n.element.hasAttribute("id")){var i=Tv(n.element.id,{isIdentifier:!0});e[i]=e[i]||n}return n.children.forEach(function(s){return s.setParent(n)}),n}var CN=function(){function t(e,n){this.rootSvg=e,this.loadExternalSheets=n,this.styleSheets=[]}return t.prototype.load=function(){return $e(this,void 0,void 0,function(){var e;return He(this,function(n){switch(n.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return e=n.sent(),this.parseCssSheets(e),[2]}})})},t.prototype.collectStyleSheetTexts=function(){return $e(this,void 0,void 0,function(){var e,n,r,i,s;return He(this,function(a){switch(a.label){case 0:if(e=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(i=0;i<this.rootSvg.ownerDocument.childNodes.length;i++)(n=this.rootSvg.ownerDocument.childNodes[i]).nodeName==="xml-stylesheet"&&typeof n.data=="string"&&e.push(t.loadSheet(n.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(r=this.rootSvg.querySelectorAll("style,link"),i=0;i<r.length;i++)Hs(s=r[i],"style")?e.push(s.textContent):this.loadExternalSheets&&Hs(s,"link")&&s.getAttribute("rel")==="stylesheet"&&s.hasAttribute("href")&&e.push(t.loadSheet(s.getAttribute("href")));return[4,Promise.all(e)];case 1:return[2,a.sent().filter(function(o){return o!==null})]}})})},t.prototype.parseCssSheets=function(e){for(var n=document.implementation.createHTMLDocument(""),r=0,i=e;r<i.length;r++){var s=i[r],a=n.createElement("style");a.textContent=s,n.body.appendChild(a);var o=a.sheet;if(o instanceof CSSStyleSheet){for(var l=o.cssRules.length-1;l>=0;l--){var c=o.cssRules[l];if(c instanceof CSSStyleRule){var u=c;if(u.selectorText.indexOf(",")>=0){o.deleteRule(l);for(var d=u.cssText.substring(u.selectorText.length),p=t.splitSelectorAtCommas(u.selectorText),f=0;f<p.length;f++)o.insertRule(p[f]+d,l+f)}}else o.deleteRule(l)}this.styleSheets.push(o)}}},t.splitSelectorAtCommas=function(e){for(var n,r=/,|["']/g,i=/[^\\]["]/g,s=/[^\\][']/g,a=[],o="initial",l=-1,c=i,u=0;u<e.length;)switch(o){case"initial":r.lastIndex=u,(n=r.exec(e))?(n[0]===","?(a.push(e.substring(l+1,r.lastIndex-1).trim()),l=r.lastIndex-1):(o="withinQuotes",c=n[0]==='"'?i:s),u=r.lastIndex):(a.push(e.substring(l+1).trim()),u=e.length);break;case"withinQuotes":c.lastIndex=u,(n=c.exec(e))&&(u=c.lastIndex,o="initial")}return a},t.loadSheet=function(e){return new Promise(function(n,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="text",i.onload=function(){i.status!==200&&r(new Error("Error ".concat(i.status,": Failed to load '").concat(e,"'"))),n(i.responseText)},i.onerror=r,i.onabort=r,i.send(null)}).catch(function(){return null})},t.prototype.getPropertyValue=function(e,n){for(var r=[],i=0,s=this.styleSheets;i<s.length;i++)for(var a=s[i],o=0;o<a.cssRules.length;o++){var l=a.cssRules[o];l.style.getPropertyValue(n)&&e.matches(l.selectorText)&&r.push(l)}if(r.length!==0)return r.reduce(function(c,u){return p=u,((f=(d=c).style.getPropertyPriority(n))!==p.style.getPropertyPriority(n)?f==="important"?1:-1:rN(d.selectorText,p.selectorText))===1?c:u;var d,p,f}).style.getPropertyValue(n)||void 0},t}(),LN=function(){function t(){this.measureMethods={}}return t.prototype.getTextOffset=function(e,n){var r=n.textAnchor;if(r==="start")return 0;var i=this.measureTextWidth(e,n),s=0;switch(r){case"end":s=i;break;case"middle":s=i/2}return s},t.prototype.measureTextWidth=function(e,n){if(e.length===0)return 0;var r=n.fontFamily;return this.getMeasureFunction(r).call(this,e,n.fontFamily,n.fontSize+"px",n.fontStyle,n.fontWeight)},t.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS(pg,"text");var e=document.createElementNS(pg,"svg");e.appendChild(this.textMeasuringTextElement),e.style.setProperty("position","absolute"),e.style.setProperty("visibility","hidden"),document.body.appendChild(e)}return this.textMeasuringTextElement},t.prototype.canvasTextMeasure=function(e,n,r,i,s){var a=document.createElement("canvas").getContext("2d");return a!=null?(a.font=[i,s,r,n].join(" "),a.measureText(e).width):0},t.prototype.svgTextMeasure=function(e,n,r,i,s,a){a===void 0&&(a=this.getMeasurementTextNode());var o=a;return o.setAttribute("font-family",n),o.setAttribute("font-size",r),o.setAttribute("font-style",i),o.setAttribute("font-weight",s),o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),o.textContent=e,o.getBBox().width},t.prototype.getMeasureFunction=function(e){var n=this.measureMethods[e];if(!n){var r="16px",i="normal",s="normal",a=this.canvasTextMeasure(t.testString,e,r,i,s),o=this.svgTextMeasure(t.testString,e,r,i,s);n=Math.abs(a-o)<t.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[e]=n}return n},t.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var e=this.textMeasuringTextElement.parentNode;e&&document.body.removeChild(e),this.textMeasuringTextElement=void 0}},t.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,t.epsilon=.1,t}();function PN(t,e){return $e(this,arguments,void 0,function(n,r,i){var s,a,o,l,c,u,d,p,f,w,v,k,y,x;return i===void 0&&(i={}),He(this,function(N){switch(N.label){case 0:return s=(k=i.x)!==null&&k!==void 0?k:0,a=(y=i.y)!==null&&y!==void 0?y:0,o=(x=i.loadExternalStyleSheets)!==null&&x!==void 0&&x,c=new Iv(l={}),[4,(u=new CN(n,o)).load()];case 1:return N.sent(),d=new Hh(r.internal.pageSize.getWidth(),r.internal.pageSize.getHeight()),p=vh(vh({},i),{element:n}),f=new LN,w=new Js(r,{refsHandler:c,styleSheets:u,viewport:d,svg2pdfParameters:p,textMeasure:f}),r.advancedAPI(),r.saveGraphicsState(),r.setCurrentTransformationMatrix(r.Matrix(1,0,0,1,s,a)),r.setLineWidth(w.attributeState.strokeWidth),v=w.attributeState.fill.color,r.setFillColor(v.r,v.g,v.b),r.setFont(w.attributeState.fontFamily),r.setFontSize(w.attributeState.fontSize*r.internal.scaleFactor),[4,A1(n,l).render(w)];case 2:return N.sent(),r.restoreGraphicsState(),r.compatAPI(),w.textMeasure.cleanupTextMeasuring(),[2,r]}})})}ae.API.svg=function(t,e){return e===void 0&&(e={}),PN(t,this,e)};function NN(t){if(!t)return t;const e={1:"",2:"",3:"",4:"",5:"aeiou"};function n(i,s){if(!s)return i;const a=["a","e","i","o","u",""];let o=i.toLowerCase();if(o.includes("a")){let l=o.indexOf("a"),c=i.split("");return c[l]=e[s][0],c.join("")}if(o.includes("e")){let l=o.indexOf("e"),c=i.split("");return c[l]=e[s][1],c.join("")}if(o.includes("ou")){let l=o.indexOf("o"),c=i.split("");return c[l]=e[s][3],c.join("")}for(let l=o.length-1;l>=0;l--){let c=o[l],u=a.indexOf(c);if(u!==-1){let d=i.split("");return d[l]=e[s][u],d.join("")}}return i}let r=t.replace(/\[([a-z]+)([1-5])?\]/gi,(i,s,a)=>"["+n(s,a)+"]");return r=r.replace(/\b([a-z]+)([1-5])?\b/gi,(i,s,a)=>n(s,a)),r}function yh(t,e,n={}){const r=n.selectedPracticeOption||"one_row",i=n.windowHeight||900,s=n.noAccents||!1,a=n.page||0,o=i/1.414,l=i,c=i/25,u=i/20,d=i/20,p=c+i/30,f=i/60,w=.4;let v=`<svg width="${o}" height="${l}" viewBox="0 0 ${o} ${l}" xmlns="http://www.w3.org/2000/svg">`;v+="<rect width='100%' height='100%' fill='white'/>";const k=new Set;t.forEach(lt=>{[...lt.character].forEach(ft=>{ft!==""&&k.add(ft)})});const y=Array.from(k);console.log(y);const x={};for(const lt of y)if(e[lt]&&e[lt].strokes&&e[lt].strokes.length>0){let ft=1/0,It=-1/0;if(e[lt].strokes.forEach(P=>{const W=P.match(/[-+]?[0-9]*\.?[0-9]+/g);if(W&&W.length>1)for(let H=1;H<W.length;H+=2){const et=parseFloat(W[H]);isNaN(et)||(ft=Math.min(ft,et),It=Math.max(It,et))}}),ft<It&&isFinite(ft)&&isFinite(It)){const P=(It+ft)/2;x[lt]=500-P}else x[lt]=0}else x[lt]=0;const N=o-2*u,L=l-2*d,j=Math.floor(L/p),it=Math.floor(N/c),J=it*c,G=j*p,nt=u+(N-J)/2,mt=d+(L-G)/2,E=(l-2*mt)/(j-.5),B=r==="two_rows"?2:1,Q=Math.floor(j/B),M=Math.ceil(y.length/Q),ot=a*Q,Y=Math.min(ot+Q,y.length),rt=y.slice(ot,Y);let Z=0;return rt.forEach((lt,ft)=>{var It,P;for(let W=0;W<B;W++){if(Z>=j)return;const H=mt+Z*E;let et="";const st=t.find($=>$.character.includes(lt));if(st&&st.pinyin&&st.pinyin[0]){const $=st.pinyin[0].split(/\s+/),z=[...st.character],U=z.reduce((at,Lt,R)=>(Lt===lt&&at.push(R),at),[]);for(let at=0;at<z.length;at++)if($[at]){let Lt=f*.6,R=nt;for(let K=0;K<at;K++)$[K]&&(R+=$[K].length*Lt);R+=$[at].length*Lt/2;const O=U.includes(at),tt=s?$[at]:NN($[at]);et+=`<text x="${R}" y="${H-8}" font-size="${f}" fill="#222" font-family="sans-serif" opacity="${O?1:w}" text-anchor="middle">${tt}</text>`}}W===0&&(v+=et);for(let $=0;$<it;$++){const z=nt+$*c;v+=`<rect x="${z}" y="${H}" width="${c}" height="${c}" fill="none" stroke="#888" stroke-width="1.5"/>`,v+=`<line x1="${z}" y1="${H}" x2="${z+c}" y2="${H+c}" stroke="#bbb" stroke-width="1"/>`,v+=`<line x1="${z+c}" y1="${H}" x2="${z}" y2="${H+c}" stroke="#bbb" stroke-width="1"/>`,v+=`<line x1="${z+c/2}" y1="${H}" x2="${z+c/2}" y2="${H+c}" stroke="#bbb" stroke-width="1"/>`,v+=`<line x1="${z}" y1="${H+c/2}" x2="${z+c}" y2="${H+c/2}" stroke="#bbb" stroke-width="1"/>`,W===0&&$===0?e[lt]&&e[lt].strokes&&(v+=`<g transform="translate(${z+c/2},${H+c/2}) scale(0.9) translate(${-c/2},${-c/2})">`,v+=`<g transform="translate(0,${c}) scale(${c/1e3},-${c/1e3}) translate(0,${x[lt]})">`,e[lt].strokes.forEach(U=>{v+=`<path d="${U}" fill="#222" stroke="none"/>`}),v+="</g></g>"):W===0&&$>0&&$<=Math.min(6,((P=(It=e[lt])==null?void 0:It.strokes)==null?void 0:P.length)/2+1||2)&&e[lt]&&e[lt].strokes&&(v+=`<g transform="translate(${z+c/2},${H+c/2}) scale(0.9) translate(${-c/2},${-c/2})" opacity="${w}">`,v+=`<g transform="translate(0,${c}) scale(${c/1e3},-${c/1e3}) translate(0,${x[lt]})">`,e[lt].strokes.forEach(U=>{v+=`<path d="${U}" fill="#222" stroke="none"/>`}),v+="</g></g>")}Z++}}),v+="</svg>",{svg:v,totalPages:M}}async function MN(t,e,n={}){const{totalPages:r}=yh(t,e,{...n,noAccents:!0,page:0}),i=595.28,s=841.89,a=new ae({orientation:"p",unit:"pt",format:[i,s]});for(let o=0;o<r;o++){o>0&&a.addPage([i,s],"p");const{svg:l}=yh(t,e,{...n,noAccents:!0,page:o}),c=document.createElement("div");c.style.position="fixed",c.style.left="-9999px",c.innerHTML=l,document.body.appendChild(c);const u=c.querySelector("svg");await a.svg(u,{x:0,y:0,width:i,height:s}),document.body.removeChild(c)}return a.output("blob")}const DN={name:"MySpaceView",components:{BasePage:dr,PreloadWrapper:Xs},data(){return{selectedWordlist:"",words:[],loading:!1,showCreateWordlistModal:!1,showRenameWordlistModal:!1,showDeleteConfirmModal:!1,showEditDescriptionModal:!1,newWordlistName:"",newWordlistDescription:"",isDropdownOpen:!1,newWordInput:"",showPracticeSheetModal:!1,selectedPracticeOption:"option1",practiceOptions:[{value:"one_row",label:"One row per character"},{value:"two_rows",label:"Two rows per character (second row empty)"}],practiceSheetSVG:"",showPracticeSheetSVG:!1,practiceSheetStrokesData:null,currentPracticeSheetPage:0,practiceSheetTotalPages:1,practiceSheetExcludedChars:new Set}},computed:{loggedIn(){return this.$store.getters.getAuthStatus},customDecks(){return this.$store.getters.getCustomDecks},customDictionaryData(){return this.$store.getters.getCustomDictionaryData},currentWordlistData(){return!this.selectedWordlist||!this.customDecks?null:this.customDecks.find(t=>t.name===this.selectedWordlist)},currentWordlistDescription(){var t;return((t=this.currentWordlistData)==null?void 0:t.description)||""},currentWordlistCreatedAt(){var t;return((t=this.currentWordlistData)==null?void 0:t.timestamp)||null}},watch:{selectedWordlist(t){this.loadWordlistWords()},showCreateWordlistModal(t){t&&(this.newWordlistName="",this.$nextTick(()=>{var e;(e=this.$refs.createModalInput)==null||e.focus()}))},showRenameWordlistModal(t){t&&(this.newWordlistName=this.selectedWordlist,this.$nextTick(()=>{var e;(e=this.$refs.renameModalInput)==null||e.focus()}))},showEditDescriptionModal(t){t&&(this.newWordlistDescription=this.currentWordlistDescription,this.$nextTick(()=>{var e;(e=this.$refs.editDescriptionInput)==null||e.focus()}))},showPracticeSheetModal(t){t&&(this.selectedPracticeOption="one_row")}},mounted(){if(!this.loggedIn){this.$router.push("/login");return}document.addEventListener("click",this.handleOutsideClick),this.customDecks&&this.customDecks.length>0&&(this.selectedWordlist=this.customDecks[0].name,this.customDictionaryData&&this.customDictionaryData[this.selectedWordlist]?this.loadWordlistWords():(this.loading=!0,this.$store.dispatch("fetchCustomDictionaryData").then(()=>{this.loading=!1,this.loadWordlistWords()}).catch(t=>{console.error("Error loading custom dictionary data:",t),this.loading=!1})))},methods:{formatDate(t){if(!t)return"N/A";try{const e={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString(void 0,e)}catch(e){return console.error("Error formatting date:",e),t}},loadWordlistWords(){try{if(this.customDictionaryData&&this.selectedWordlist&&this.customDictionaryData[this.selectedWordlist]){const t=this.customDictionaryData[this.selectedWordlist].chars;t?this.words=Object.entries(t).map(([e,n])=>({character:e,...n})):this.words=[]}else this.words=[]}catch(t){console.error("Error loading wordlist words:",t),this.words=[]}},removeWord(t){this.selectedWordlist&&(this.words=this.words.filter(e=>e.character!==t),this.$store.dispatch("removeWordFromCustomDeck",{character:t,selectedWordlist:this.selectedWordlist}),fetch("/api/remove_word_from_learning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({character:t,set_name:this.selectedWordlist})}).then(e=>{e.ok||(console.error("Failed to remove word"),this.loadWordlistWords())}).catch(e=>{console.error("Error removing word:",e),this.loadWordlistWords()}))},createWordlist(){if(!this.newWordlistName||this.newWordlistName.trim()===""){alert("Please enter a valid wordlist name");return}const t=this.newWordlistName.trim();this.$store.dispatch("createWordlist",{name:t}),this.showCreateWordlistModal=!1,this.newWordlistName="",this.selectedWordlist=t,this.words=[],fetch("./api/create_wordlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}).catch(e=>{console.error("Error creating wordlist:",e),this.$store.dispatch("fetchUserData").then(()=>this.$store.dispatch("fetchCustomDictionaryData"))})},renameWordlist(){if(!this.newWordlistName||this.newWordlistName.trim()===""){alert("Please enter a valid wordlist name");return}if(!this.selectedWordlist){alert("Please select a wordlist first");return}const t=this.selectedWordlist,e=this.newWordlistName.trim();if(t===e){this.showRenameWordlistModal=!1;return}this.$store.dispatch("renameWordlist",{oldName:t,newName:e}),this.selectedWordlist=e,this.showRenameWordlistModal=!1,this.newWordlistName="",fetch("/api/rename_wordlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,newname:e})}).catch(n=>{console.error("Error renaming wordlist:",n),this.$store.dispatch("fetchUserData").then(()=>this.$store.dispatch("fetchCustomDictionaryData"))})},confirmRemoveWordlist(){if(!this.selectedWordlist){alert("Please select a wordlist first");return}this.showDeleteConfirmModal=!0},deleteWordlistConfirmed(){const t=this.selectedWordlist;this.closeDeleteConfirmModal(),this.$store.dispatch("removeWordlist",{name:t}),this.customDecks&&this.customDecks.length>0?(this.selectedWordlist=this.customDecks[0].name,this.loadWordlistWords()):(this.selectedWordlist="",this.words=[]),fetch("/api/remove_wordlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}).catch(e=>{console.error("Error removing wordlist:",e),this.$store.dispatch("fetchUserData").then(()=>this.$store.dispatch("fetchCustomDictionaryData"))})},closeCreateModal(){this.showCreateWordlistModal=!1,this.newWordlistName=""},closeRenameModal(){this.showRenameWordlistModal=!1,this.newWordlistName=""},closeDeleteConfirmModal(){this.showDeleteConfirmModal=!1},closePracticeSheetModal(){this.showPracticeSheetModal=!1,this.resetPracticeSheetExcludedChars()},openEditDescriptionModal(){this.selectedWordlist&&(this.showEditDescriptionModal=!0)},closeEditDescriptionModal(){this.showEditDescriptionModal=!1,this.newWordlistDescription=""},saveWordlistDescription(){if(!this.selectedWordlist)return;const t=this.newWordlistDescription.trim();this.$store.dispatch("updateWordlistDescription",{name:this.selectedWordlist,description:t}),this.closeEditDescriptionModal(),fetch("/api/update_wordlist_description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.selectedWordlist,description:t})}).then(e=>{e.ok||(console.error("Error updating description on backend"),this.$store.dispatch("fetchUserData"))}).catch(e=>{console.error("Error saving wordlist description:",e),this.$store.dispatch("fetchUserData")})},getPracticeSheetUniqueChars(){const t=new Set;return this.words.forEach(e=>{[...e.character].forEach(n=>t.add(n))}),Array.from(t)},togglePracticeSheetChar(t){this.practiceSheetExcludedChars.has(t)?this.practiceSheetExcludedChars.delete(t):this.practiceSheetExcludedChars.add(t),this.practiceSheetExcludedChars=new Set(this.practiceSheetExcludedChars)},resetPracticeSheetExcludedChars(){this.practiceSheetExcludedChars=new Set},async createPracticeSheet(){const t=new Set;this.words.forEach(n=>{[...n.character].forEach(r=>{this.practiceSheetExcludedChars.has(r)||t.add(r)})});const e=Array.from(t).join("");try{const n=await fetch(`/api/getStrokes/${e}`);if(!n.ok){console.error("Network response was not ok for characters:",e);return}const r=await n.json(),i=this.words.filter(o=>[...o.character].some(l=>!this.practiceSheetExcludedChars.has(l))),{svg:s,totalPages:a}=yh(i,r,{selectedPracticeOption:this.selectedPracticeOption,windowHeight:window.innerHeight*.7,page:0});this.practiceSheetSVG=s,this.practiceSheetTotalPages=a,this.currentPracticeSheetPage=0,this.practiceSheetStrokesData=r,this.showPracticeSheetSVG=!0}catch(n){console.error("Error fetching strokes:",n)}},updatePracticeSheetPage(t){if(!this.practiceSheetStrokesData)return;const{svg:e}=yh(this.words,this.practiceSheetStrokesData,{selectedPracticeOption:this.selectedPracticeOption,windowHeight:window.innerHeight*.7,page:t});this.practiceSheetSVG=e,this.currentPracticeSheetPage=t},downloadAnkiDeck(){if(!this.selectedWordlist||this.words.length===0){alert("This wordlist is empty. Please add words before downloading an Anki deck.");return}const t=document.createElement("a");t.style.display="none",document.body.appendChild(t),fetch("/api/get_anki_wordlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.selectedWordlist})}).then(e=>{if(!e.ok)throw new Error("Error downloading Anki deck");return e.blob()}).then(e=>{const n=window.URL.createObjectURL(e);t.href=n,t.download=`${this.selectedWordlist}_anki_deck.apkg`,t.click(),window.URL.revokeObjectURL(n),document.body.removeChild(t)}).catch(e=>{console.error("Error downloading Anki deck:",e),alert("Failed to download Anki deck. Please try again.")})},addWordToList(){if(!this.selectedWordlist||!this.newWordInput.trim())return;const t=this.newWordInput.split(/[\s, ;]+/).map(e=>e.trim()).filter(Boolean);t.length!==0&&(this.newWordInput="",fetch("/api/add_word_learning_with_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({words:t,set_name:this.selectedWordlist})}).then(e=>{if(!e.ok)throw new Error("Failed to add words");return e.json()}).then(e=>{console.log("Words added successfully:",e),e.chars_info&&Object.entries(e.chars_info).forEach(([n,r])=>{this.$store.dispatch("addWordToCustomDeck",{word:n,setName:this.selectedWordlist,wordData:{pinyin:r.pinyin||[""],english:r.english||[""],character:n}})}),this.loadWordlistWords()}).catch(e=>{console.error("Error adding words to wordlist:",e),this.loadWordlistWords()}))},selectWordlist(t){this.selectedWordlist=t,this.isDropdownOpen=!1,this.loadWordlistWords()},handleOutsideClick(t){t.target.closest(".custom-dropdown")||(this.isDropdownOpen=!1)},copyWordlistToClipboard(){if(!this.words||this.words.length===0)return;const t=this.words.map(e=>e.character).join(";");navigator.clipboard.writeText(t).then(()=>{alert("Wordlist copied to clipboard!")}).catch(e=>{console.error("Failed to copy:",e),alert("Failed to copy wordlist.")})},downloadPracticeSheetSVG(){const t=new Blob([this.practiceSheetSVG],{type:"image/svg+xml"}),e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download=`${this.selectedWordlist}_practice_sheet.svg`,document.body.appendChild(n),n.click(),setTimeout(()=>{document.body.removeChild(n),URL.revokeObjectURL(e)},100)},async downloadPracticeSheetPDF(){if(!this.practiceSheetStrokesData){alert("Strokes data not loaded. Please generate the practice sheet first.");return}const t=await MN(this.words,this.practiceSheetStrokesData,{selectedPracticeOption:this.selectedPracticeOption,windowHeight:window.innerHeight*.8,noAccents:!0}),e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download=`${this.selectedWordlist}_practice_sheet.pdf`,document.body.appendChild(n),n.click(),setTimeout(()=>{document.body.removeChild(n),URL.revokeObjectURL(e)},100)}}},TN={key:0,class:"myspace-view"},EN={class:"wordlist-container"},IN={class:"wordlist-header"},FN={class:"wordlist-selector"},ON={class:"custom-dropdown"},RN=["onClick"],jN={class:"wordlist-management"},BN={key:0,class:"wordlist-actions"},zN={key:0,class:"loading"},qN={key:1,class:"empty-list"},WN={key:2},UN={class:"add-word-section"},$N=["disabled"],HN={key:0,class:"empty-list"},VN={key:1},GN={class:"wordlist-info"},YN={class:"description-section"},KN={class:"description-text"},XN={class:"nav-buttons"},JN=["disabled"],QN=["disabled"],ZN=["disabled"],tM={class:"word-list"},eM={class:"word-cell"},nM={class:"hanzipinyin"},rM={class:"word-hanzi"},iM={class:"word-pinyin"},sM={class:"word-english"},aM=["onClick"],oM={key:1,class:"myspace-view"},lM={class:"modal-form"},cM={class:"modal-buttons"},uM={class:"modal-form"},hM={class:"modal-buttons"},fM={class:"modal-message"},dM={class:"modal-buttons"},pM={class:"modal-form"},mM={class:"modal-buttons"},gM={class:"modal-form"},vM={class:"practice-options"},yM=["onClick"],bM={style:{"margin-top":"1.5rem"}},wM={class:"practice-char-list"},xM=["onClick","title"],kM={key:0,style:{opacity:"0.7","font-style":"italic","margin-top":"0.5rem"}},SM={class:"modal-buttons"},_M={class:"modal-svg-preview"},AM=["innerHTML"],CM={class:"modal-buttons"},LM={key:0,class:"modal-buttons",style:{"justify-content":"center"}},PM=["disabled"],NM={style:{margin:"0 1rem"}},MM=["disabled"];function DM(t,e,n,r,i,s){const a=_e("BasePage"),o=_e("font-awesome-icon"),l=_e("router-link"),c=_e("PreloadWrapper");return dt(),wt(re,null,[Vt(a,{page_title:"My Words"}),s.loggedIn?(dt(),wt("div",TN,[_("div",EN,[_("div",IN,[_("div",FN,[_("div",ON,[_("div",{id:"selected-deck",onClick:e[0]||(e[0]=u=>i.isDropdownOpen=!i.isDropdownOpen)},Wt(i.selectedWordlist||"Select a wordlist"),1),_("div",{id:"deck-options",class:we({show:i.isDropdownOpen})},[(dt(!0),wt(re,null,Je(s.customDecks,u=>(dt(),wt("div",{key:u.name,class:we(["option",{selected:i.selectedWordlist===u.name}]),onClick:d=>s.selectWordlist(u.name)},Wt(u.name),11,RN))),128))],2)])])]),_("div",jN,[_("button",{onClick:e[1]||(e[1]=u=>i.showCreateWordlistModal=!0),class:"action-button create-button"}," Create New Wordlist "),i.selectedWordlist?(dt(),wt("div",BN,[_("button",{onClick:e[2]||(e[2]=u=>i.showRenameWordlistModal=!0),class:"action-button rename-button"}," Rename Wordlist "),_("button",{onClick:e[3]||(e[3]=(...u)=>s.confirmRemoveWordlist&&s.confirmRemoveWordlist(...u)),class:"action-button delete-button"}," Delete Wordlist ")])):Xt("",!0)]),i.loading?(dt(),wt("div",zN,"Loading wordlist...")):i.selectedWordlist?(dt(),wt("div",WN,[_("div",UN,[Ke(_("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=u=>i.newWordInput=u),placeholder:"Enter word(s) to add",class:"add-word-input",onKeyup:e[5]||(e[5]=kn((...u)=>s.addWordToList&&s.addWordToList(...u),["enter"]))},null,544),[[fn,i.newWordInput]]),_("button",{onClick:e[6]||(e[6]=(...u)=>s.addWordToList&&s.addWordToList(...u)),class:"nav-button add-word-button",disabled:!i.selectedWordlist||!i.newWordInput.trim()}," Add Words ",8,$N)]),i.words.length===0?(dt(),wt("div",HN,e[47]||(e[47]=[_("p",null,"This wordlist is empty. Add words from the Search or Grid views.",-1)]))):(dt(),wt("div",VN,[_("div",GN,[_("div",YN,[_("p",null,[e[48]||(e[48]=_("strong",null,"Description:",-1)),_("button",{onClick:e[7]||(e[7]=(...u)=>s.openEditDescriptionModal&&s.openEditDescriptionModal(...u)),class:"edit-description-button",title:"Edit Description"},[Vt(o,{icon:["fas","pencil"]})])]),_("p",KN,Wt(s.currentWordlistDescription||"No description yet."),1)]),_("p",null,[e[49]||(e[49]=_("strong",null,"Created:",-1)),le(" "+Wt(s.currentWordlistCreatedAt?s.formatDate(s.currentWordlistCreatedAt):"N/A"),1)]),_("p",null,[e[50]||(e[50]=_("strong",null,"Number of Words:",-1)),le(" "+Wt(i.words.length),1)])]),_("div",XN,[Vt(l,{to:{path:"/flashcards",query:{wordlist:i.selectedWordlist}},class:"nav-button",title:"Go to Flashcards"},{default:ke(()=>e[51]||(e[51]=[le(" flashcards ")])),_:1,__:[51]},8,["to"]),Vt(l,{to:{path:"/grid",query:{wordlist:i.selectedWordlist}},class:"nav-button",title:"Go to Grid View"},{default:ke(()=>e[52]||(e[52]=[le(" grid view ")])),_:1,__:[52]},8,["to"]),_("button",{onClick:e[8]||(e[8]=(...u)=>s.downloadAnkiDeck&&s.downloadAnkiDeck(...u)),class:"nav-button data-button",title:"Download Anki Deck",disabled:i.words.length===0},[Vt(o,{icon:["fas","download"]}),e[53]||(e[53]=le(" anki deck "))],8,JN),_("button",{onClick:e[9]||(e[9]=(...u)=>s.copyWordlistToClipboard&&s.copyWordlistToClipboard(...u)),class:"nav-button data-button",title:"Copy Wordlist to Clipboard",disabled:i.words.length===0},[Vt(o,{icon:["fas","clipboard"]}),e[54]||(e[54]=le(" copy words "))],8,QN),_("button",{onClick:e[10]||(e[10]=u=>i.showPracticeSheetModal=!0),class:"nav-button data-button",title:"Get Practice Sheet",disabled:i.words.length===0},[Vt(o,{icon:["fas","pen"]}),e[55]||(e[55]=le(" practice sheet "))],8,ZN)]),_("div",tM,[(dt(!0),wt(re,null,Je(i.words,u=>(dt(),ln(c,{character:u.character,key:u.character,class:"word-item",title:u.english[0],showBubbles:!1},{default:ke(()=>[_("div",eM,[_("div",nM,[_("div",rM,Wt(u.character),1),_("div",iM,Wt(t.$toAccentedPinyin(u.pinyin[0])),1)]),_("div",sM,Wt(u.english[0]),1),_("button",{class:"remove-button",onClick:Be(d=>s.removeWord(u.character),["stop"]),title:"Remove from wordlist"},"  ",8,aM)])]),_:2},1032,["character","title"]))),128))])]))])):(dt(),wt("div",qN,e[46]||(e[46]=[_("p",null,"Please select a wordlist from the dropdown above.",-1)])))])])):(dt(),wt("div",oM,e[56]||(e[56]=[_("p",null,"Redirecting to login page...",-1)]))),i.showCreateWordlistModal?(dt(),wt("div",{key:2,class:"modal-overlay",onClick:e[17]||(e[17]=(...u)=>s.closeCreateModal&&s.closeCreateModal(...u))},[_("div",{class:"modal-content",onClick:e[16]||(e[16]=Be(()=>{},["stop"]))},[e[58]||(e[58]=_("h3",null,"Create New Wordlist",-1)),_("div",lM,[e[57]||(e[57]=_("label",{for:"new-wordlist-name"},"Wordlist Name:",-1)),Ke(_("input",{id:"new-wordlist-name","onUpdate:modelValue":e[11]||(e[11]=u=>i.newWordlistName=u),placeholder:"Enter wordlist name",onKeyup:[e[12]||(e[12]=kn((...u)=>s.createWordlist&&s.createWordlist(...u),["enter"])),e[13]||(e[13]=kn((...u)=>s.closeCreateModal&&s.closeCreateModal(...u),["esc"]))],ref:"createModalInput",autocomplete:"off"},null,544),[[fn,i.newWordlistName]])]),_("div",cM,[_("button",{onClick:e[14]||(e[14]=(...u)=>s.closeCreateModal&&s.closeCreateModal(...u)),class:"cancel-button"},"Cancel"),_("button",{onClick:e[15]||(e[15]=(...u)=>s.createWordlist&&s.createWordlist(...u)),class:"confirm-button"},"Create")])])])):Xt("",!0),i.showRenameWordlistModal?(dt(),wt("div",{key:3,class:"modal-overlay",onClick:e[24]||(e[24]=(...u)=>s.closeRenameModal&&s.closeRenameModal(...u))},[_("div",{class:"modal-content",onClick:e[23]||(e[23]=Be(()=>{},["stop"]))},[e[60]||(e[60]=_("h3",null,"Rename Wordlist",-1)),_("div",uM,[e[59]||(e[59]=_("label",{for:"rename-wordlist"},"New Name:",-1)),Ke(_("input",{id:"rename-wordlist","onUpdate:modelValue":e[18]||(e[18]=u=>i.newWordlistName=u),placeholder:"Enter new name",onKeyup:[e[19]||(e[19]=kn((...u)=>s.renameWordlist&&s.renameWordlist(...u),["enter"])),e[20]||(e[20]=kn((...u)=>s.closeRenameModal&&s.closeRenameModal(...u),["esc"]))],ref:"renameModalInput",autocomplete:"off"},null,544),[[fn,i.newWordlistName]])]),_("div",hM,[_("button",{onClick:e[21]||(e[21]=(...u)=>s.closeRenameModal&&s.closeRenameModal(...u)),class:"cancel-button"},"Cancel"),_("button",{onClick:e[22]||(e[22]=(...u)=>s.renameWordlist&&s.renameWordlist(...u)),class:"confirm-button"},"Rename")])])])):Xt("",!0),i.showDeleteConfirmModal?(dt(),wt("div",{key:4,class:"modal-overlay",onClick:e[28]||(e[28]=(...u)=>s.closeDeleteConfirmModal&&s.closeDeleteConfirmModal(...u))},[_("div",{class:"modal-content",onClick:e[27]||(e[27]=Be(()=>{},["stop"]))},[e[62]||(e[62]=_("h3",null,"Confirm Deletion",-1)),_("div",fM,[_("p",null,'Are you sure you want to delete the wordlist "'+Wt(i.selectedWordlist)+'"?',1),e[61]||(e[61]=_("p",null,"This action cannot be undone.",-1))]),_("div",dM,[_("button",{onClick:e[25]||(e[25]=(...u)=>s.closeDeleteConfirmModal&&s.closeDeleteConfirmModal(...u)),class:"cancel-button"},"Cancel"),_("button",{onClick:e[26]||(e[26]=(...u)=>s.deleteWordlistConfirmed&&s.deleteWordlistConfirmed(...u)),class:"confirm-button delete-confirm-button"},"Delete")])])])):Xt("",!0),i.showEditDescriptionModal?(dt(),wt("div",{key:5,class:"modal-overlay",onClick:e[34]||(e[34]=(...u)=>s.closeEditDescriptionModal&&s.closeEditDescriptionModal(...u))},[_("div",{class:"modal-content",onClick:e[33]||(e[33]=Be(()=>{},["stop"]))},[e[64]||(e[64]=_("h3",null,"Edit Wordlist Description",-1)),_("div",pM,[e[63]||(e[63]=_("label",{for:"edit-wordlist-description"},"Description:",-1)),Ke(_("textarea",{id:"edit-wordlist-description","onUpdate:modelValue":e[29]||(e[29]=u=>i.newWordlistDescription=u),placeholder:"Enter description (max 500 characters)",rows:"4",maxlength:"500",onKeyup:e[30]||(e[30]=kn((...u)=>s.closeEditDescriptionModal&&s.closeEditDescriptionModal(...u),["esc"])),ref:"editDescriptionInput"},null,544),[[fn,i.newWordlistDescription]])]),_("div",mM,[_("button",{onClick:e[31]||(e[31]=(...u)=>s.closeEditDescriptionModal&&s.closeEditDescriptionModal(...u)),class:"cancel-button"},"Cancel"),_("button",{onClick:e[32]||(e[32]=(...u)=>s.saveWordlistDescription&&s.saveWordlistDescription(...u)),class:"confirm-button"},"Save")])])])):Xt("",!0),i.showPracticeSheetModal?(dt(),wt("div",{key:6,class:"modal-overlay",onClick:e[38]||(e[38]=(...u)=>s.closePracticeSheetModal&&s.closePracticeSheetModal(...u))},[_("div",{class:"modal-content",onClick:e[37]||(e[37]=Be(()=>{},["stop"]))},[e[67]||(e[67]=_("h3",null,"Get Practice Sheet",-1)),_("div",gM,[e[66]||(e[66]=_("label",null,"Choose an option:",-1)),_("div",vM,[(dt(!0),wt(re,null,Je(i.practiceOptions,u=>(dt(),wt("div",{key:u.value,class:we(["practice-option",{selected:i.selectedPracticeOption===u.value,faded:i.selectedPracticeOption!==u.value}]),onClick:d=>i.selectedPracticeOption=u.value},Wt(u.label),11,yM))),128))]),_("div",bM,[e[65]||(e[65]=_("label",null,"Included Characters (click to exclude/include):",-1)),_("div",wM,[(dt(!0),wt(re,null,Je(s.getPracticeSheetUniqueChars(),u=>(dt(),wt("span",{key:u,class:we(["practice-char",{excluded:i.practiceSheetExcludedChars.has(u)}]),onClick:d=>s.togglePracticeSheetChar(u),title:i.practiceSheetExcludedChars.has(u)?"Click to include":"Click to exclude"},Wt(u),11,xM))),128))]),s.getPracticeSheetUniqueChars().length===0?(dt(),wt("div",kM,"No characters in this wordlist.")):Xt("",!0)])]),_("div",SM,[_("button",{onClick:e[35]||(e[35]=(...u)=>s.closePracticeSheetModal&&s.closePracticeSheetModal(...u)),class:"cancel-button"},"Cancel"),_("button",{onClick:e[36]||(e[36]=(...u)=>s.createPracticeSheet&&s.createPracticeSheet(...u)),class:"confirm-button"},"Create")])])])):Xt("",!0),i.showPracticeSheetSVG?(dt(),wt("div",{key:7,class:"modal-overlay",onClick:e[45]||(e[45]=u=>i.showPracticeSheetSVG=!1)},[_("div",{class:"modal-content-svg",onClick:e[44]||(e[44]=Be(()=>{},["stop"]))},[e[68]||(e[68]=_("h3",null,"Practice Sheet Preview",-1)),_("div",_M,[_("div",{class:"modal-svg-content",innerHTML:i.practiceSheetSVG},null,8,AM)]),_("div",CM,[_("button",{onClick:e[39]||(e[39]=u=>i.showPracticeSheetSVG=!1),class:"cancel-button"},"Close"),_("button",{onClick:e[40]||(e[40]=(...u)=>s.downloadPracticeSheetSVG&&s.downloadPracticeSheetSVG(...u)),class:"confirm-button"},"Download SVG"),_("button",{onClick:e[41]||(e[41]=(...u)=>s.downloadPracticeSheetPDF&&s.downloadPracticeSheetPDF(...u)),class:"confirm-button"},"Download PDF")]),i.practiceSheetTotalPages>1?(dt(),wt("div",LM,[_("button",{onClick:e[42]||(e[42]=u=>s.updatePracticeSheetPage(i.currentPracticeSheetPage-1)),disabled:i.currentPracticeSheetPage===0},"Previous Page",8,PM),_("span",NM,"Page "+Wt(i.currentPracticeSheetPage+1)+" / "+Wt(i.practiceSheetTotalPages),1),_("button",{onClick:e[43]||(e[43]=u=>s.updatePracticeSheetPage(i.currentPracticeSheetPage+1)),disabled:i.currentPracticeSheetPage>=i.practiceSheetTotalPages-1},"Next Page",8,MM)])):Xt("",!0)])])):Xt("",!0)],64)}const TM=tn(DN,[["render",DM],["__scopeId","data-v-35e16330"]]),EM={name:"WordView",components:{GlobalCardModal:cv,BasePage:dr},data(){return{loading:!0}},computed:{isDictionaryLoading(){return this.$store.getters.isDictionaryLoading},dictionaryPromises(){return this.$store.getters.getDictionaryPromises}},async created(){try{if(this.isDictionaryLoading||!this.$store.getters.getDictionaryData){const t=[];this.dictionaryPromises.static?t.push(this.dictionaryPromises.static):t.push(this.$store.dispatch("fetchDictionaryData")),this.dictionaryPromises.custom?t.push(this.dictionaryPromises.custom):t.push(this.$store.dispatch("fetchCustomDictionaryData")),await Promise.all(t)}await this.$store.dispatch("cardModal/showCardModal",this.$route.params.word),this.loading=!1}catch(t){console.error("Error loading data for WordView:",t),this.loading=!1}},beforeUnmount(){this.$store.dispatch("cardModal/hideCardModal")}},IM={class:"word-page"},FM={key:0,class:"loading-container"};function OM(t,e,n,r,i,s){const a=_e("BasePage"),o=_e("GlobalCardModal");return dt(),wt(re,null,[Vt(a,{page_title:"Word"}),_("div",IM,[i.loading?(dt(),wt("div",FM,e[0]||(e[0]=[_("div",{class:"spinner"},null,-1),_("div",{class:"loading-text"},"Loading character data...",-1)]))):(dt(),ln(o,{key:1,"page-mode":!0,"forced-character":t.$route.params.word},null,8,["forced-character"]))])],64)}const RM=tn(EM,[["render",OM],["__scopeId","data-v-2ea974dc"]]),jM={components:{BasePage:dr},setup(){M5(),Uo();const t=Ws(),e=te(null),n=te(!0),r=te("Initializing..."),i=te(!1),s=te({}),a=te(null),o=te(""),l=te(null),c=te(null),u=te(document.documentElement.getAttribute("data-theme")||"light"),d=te(null),p={light:{background:"#ffffff",foreground:"#333333",nodeCharacter:"#ffffff",nodeDecomposition:"#f1c40f",nodeContaining:"#3498db",linkDecomposition:"#e67e22",linkContaining:"#3498db",linkDefault:"#999999",menuBackground:"#ffffff",menuText:"#333333",menuHover:"#f5f5f5",menuDivider:"#eeeeee"},dark:{background:"#1a1a1a",foreground:"#f0f0f0",nodeCharacter:"#2a2a2a",nodeDecomposition:"#f1c40f",nodeContaining:"#3498db",linkDecomposition:"#e67e22",linkContaining:"#3498db",linkDefault:"#888888",menuBackground:"#2a2a2a",menuText:"#f0f0f0",menuHover:"#3a3a3a",menuDivider:"#444444"},theme1:{background:"#f2f8f6",foreground:"#000000",nodeCharacter:"#ffffff",nodeDecomposition:"#f1c40f",nodeContaining:"#3498db",linkDecomposition:"#e67e22",linkContaining:"#3498db",linkDefault:"#999999",menuBackground:"#f2f8f6",menuText:"#000000",menuHover:"#e1e6e0",menuDivider:"#cccccc"},theme2:{background:"#171a19",foreground:"#bbf3cc",nodeCharacter:"#2d3230",nodeDecomposition:"#f1c40f",nodeContaining:"#3498db",linkDecomposition:"#e67e22",linkContaining:"#3498db",linkDefault:"#777777",menuBackground:"#2d3230",menuText:"#bbf3cc",menuHover:"#3d423f",menuDivider:"#444444"}},f=()=>p[u.value]||p.light,w=te({character:"",id:"root",nodeType:"character",children:[]}),v=te(new Set),k=te(new Set),y=te(""),x=te(""),N=te(!1),L=te(!1),j=te(""),it=async()=>{const z=j.value.trim().slice(0,1);z&&(j.value=z,o.value=z,v.value.clear(),k.value.clear(),w.value={character:z,id:"root",nodeType:"character",children:[]},await Promise.all([t.dispatch("cardModal/preloadCardData",z),H(z)]),W(),Or(()=>{a.value={data:w.value},Y()}))},J=()=>{if(!e.value){console.error("Tree container reference is null");return}kr(e.value).selectAll("*").remove();const z=e.value.clientWidth||800,U=e.value.clientHeight||600,at=f();l.value=kr(e.value).append("svg").attr("width",z).attr("height",U).attr("viewBox",[-z/2,-U/2,z,U]).attr("style","max-width: 100%; height: auto;");const Lt=l.value.append("g").attr("class","container");l.value.container=Lt,l.value.append("defs").append("marker").attr("id","arrow-main-orange").attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",0).attr("markerWidth",9).attr("markerHeight",9).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill",at.linkDecomposition),l.value.append("defs").append("marker").attr("id","arrow-main-blue").attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",0).attr("markerWidth",9).attr("markerHeight",9).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill",at.linkContaining);const R=mt(w.value),O=R.links(),tt=R.descendants();O.forEach(pt=>{pt.source.data.nodeType==="character"&&pt.target.data.nodeType==="decomposition"||pt.source.data.nodeType==="character"&&pt.target.data.nodeType==="containing"?(pt.distance=100,pt.strength=.1):pt.source.data.nodeType==="decomposition"?(pt.distance=40,pt.strength=.5):pt.source.data.nodeType==="containing"?(pt.distance=40,pt.strength=.3):(pt.distance=50,pt.strength=.5)}),c.value=q_(tt).force("link",E_(O).id(pt=>pt.id).distance(pt=>pt.distance).strength(pt=>pt.strength)).force("charge",W_().strength(-210)).force("x",U_()).force("y",$_()).alphaDecay(.05);const K=O.filter(pt=>pt.source.data.nodeType==="decomposition"?!0:pt.source.data.nodeType==="containing"&&pt.target.data.hasOwnProperty("showLine")?pt.target.data.showLine:!0),I=K.filter(pt=>!(pt.source.data.nodeType==="decomposition"&&pt.target.data.nodeType==="character"||pt.source.data.nodeType==="containing"&&pt.target.data.nodeType==="character")),St=K.filter(pt=>!I.includes(pt)),Pt=Lt.append("g").attr("class","links").attr("stroke",at.linkDefault).attr("stroke-opacity",.6),bt=Lt.append("g").attr("class","nodes");l.value.linkGroup=Pt,l.value.nodeGroup=bt;const _t=Pt.selectAll("path.main-link").data(I).join("path").attr("class","main-link").attr("fill","none").attr("stroke",pt=>pt.source.data.nodeType==="character"&&pt.target.data.nodeType==="decomposition"||pt.source.data.nodeType==="decomposition"&&pt.target.data.nodeType==="character"?at.linkDecomposition:pt.source.data.nodeType==="containing"||pt.target.data.nodeType==="containing"?at.linkContaining:at.linkDefault).attr("stroke-width",1).attr("marker-end",pt=>pt.source.data.nodeType==="character"&&pt.target.data.nodeType==="decomposition"||pt.source.data.nodeType==="decomposition"&&pt.target.data.nodeType==="character"?"url(#arrow-main-orange)":pt.source.data.nodeType==="containing"||pt.target.data.nodeType==="containing"?"url(#arrow-main-blue)":"url(#arrow-main-orange)"),vt=Pt.selectAll("path.main-link-hit-area").data(I).join("path").attr("class","main-link-hit-area").attr("fill","none").attr("stroke","transparent").attr("stroke-width",18).style("pointer-events","stroke").style("cursor","pointer").on("click",(pt,Tt)=>{pt.stopPropagation(),ot(pt,Tt.target)}),Nt=Pt.selectAll("line.dashed-link").data(St).join("line").attr("class","dashed-link").attr("stroke",pt=>pt.source.data.nodeType==="decomposition"||pt.target.data.nodeType==="decomposition"?at.linkDecomposition:pt.source.data.nodeType==="containing"||pt.target.data.nodeType==="containing"?at.linkContaining:at.linkDefault).attr("stroke-width",1).attr("stroke-dasharray","5,5"),Mt=()=>{vt.attr("d",pt=>{const Tt=pt.source.x,xt=pt.source.y,$t=pt.target.x,Yt=pt.target.y,ee=(Tt+$t)/2,Ht=(xt+Yt)/2,Ae=$t-Tt,fe=Yt-xt,vn=Math.sqrt(Ae*Ae+fe*fe)||1,he=30,xe=ee-he*(fe/vn),Mn=Ht+he*(Ae/vn);return`M${Tt},${xt} Q${xe},${Mn} ${$t},${Yt}`}),Nt.attr("x1",pt=>pt.source.x).attr("y1",pt=>pt.source.y).attr("x2",pt=>pt.target.x).attr("y2",pt=>pt.target.y),jt.attr("transform",pt=>`translate(${pt.x},${pt.y})`)},jt=bt.selectAll("g").data(tt).join("g").attr("class","node").attr("id",pt=>`node-${pt.data.id}`).style("cursor","pointer").call(M(c.value));jt.each(function(pt){const Tt=kr(this);pt.data.nodeType==="decomposition"||pt.data.nodeType==="containing"?Tt.append("circle").attr("r",E(pt)*.8).attr("fill",B(pt.data.nodeType)).attr("stroke",at.foreground).attr("stroke-width",1):Tt.append("rect").attr("width",E(pt)*1.4).attr("height",E(pt)*1.4).attr("x",-E(pt)*.7).attr("y",-E(pt)*.7).attr("fill",B(pt.data.nodeType)).attr("stroke",at.foreground).attr("stroke-width",1)}),jt.append("text").attr("dy",".35em").attr("text-anchor","middle").attr("font-size",pt=>pt.data.nodeType==="character"?"18px":"10px").attr("fill",pt=>pt.data.nodeType==="character"?at.foreground:at.background).text(pt=>pt.data.character||""),jt.on("click",(pt,Tt)=>{pt.stopPropagation(),ot(pt,Tt)}),c.value.on("tick",()=>{_t.attr("d",pt=>{const Tt=pt.source.x,xt=pt.source.y,$t=pt.target.x,Yt=pt.target.y,ee=(Tt+$t)/2,Ht=(xt+Yt)/2,Ae=$t-Tt,fe=Yt-xt,vn=Math.sqrt(Ae*Ae+fe*fe)||1,he=30,xe=ee-he*(fe/vn),Mn=Ht+he*(Ae/vn);return`M${Tt},${xt} Q${xe},${Mn} ${$t},${Yt}`}),Mt()}),G(),l.value.on("click",pt=>{pt.target.tagName==="svg"&&(i.value=!1)}),n.value=!1},G=()=>{if(!l.value)return;const z=S8().scaleExtent([.2,5]).on("zoom",U=>{l.value.container.attr("transform",U.transform)});l.value.call(z),l.value.zoom=z,l.value.call(z.transform,oc)},nt=z=>{!l.value||!l.value.zoom||setTimeout(()=>{const U=kr(`#node-${z}`);if(U.empty())return;const at=U.datum();e.value.clientWidth,e.value.clientHeight;const Lt=1.8,R=-at.x*Lt,O=-at.y*Lt;l.value.transition().duration(750).call(l.value.zoom.transform,oc.translate(R,O).scale(Lt))},300)},mt=z=>sc(z),E=z=>{switch(z.data.nodeType){case"character":return 20;case"decomposition":return 7;case"containing":return 7;default:return 15}},B=z=>{const U=f();switch(z){case"character":return U.nodeCharacter;case"decomposition":return U.nodeDecomposition;case"containing":return U.nodeContaining;default:return U.linkDefault}},Q=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),M=z=>{function U(R,O){R.active||z.alphaTarget(.3).restart(),O.fx=O.x,O.fy=O.y}function at(R,O){O.fx=R.x,O.fy=R.y}function Lt(R,O){R.active||z.alphaTarget(0),O.fx=null,O.fy=null}return Tk().on("start",U).on("drag",at).on("end",Lt)},ot=async(z,U)=>{var I,St,Pt,bt,_t;z.preventDefault(),a.value=U;const at=e.value.getBoundingClientRect(),Lt=160,R=250;let O,tt;if(z.sourceEvent||z.clientX===void 0){const vt=z.sourceEvent||z;O=vt.clientX-at.left,tt=vt.clientY-at.top}else{const vt=lv(l.value.node());O=vt.applyX(U.x)+at.width/2,tt=vt.applyY(U.y)+at.height/2}if(O+Lt>at.width&&(O=O-Lt),tt+R>at.height&&(tt=tt-R),O=Math.max(0,O),tt=Math.max(0,tt),s.value={top:`${tt}px`,left:`${O}px`},U.data.nodeType==="decomposition"||U.data.nodeType==="containing"){const vt=st(w.value,U.data.id);if(vt&&vt.character){const Nt=vt.character,Mt=((I=U.children)==null?void 0:I.map(Tt=>Tt.data.character).filter(Boolean))||[],jt=5;let pt="";Mt.length>0&&(pt=Mt.slice(0,jt).join(", "),Mt.length>jt&&(pt+=` +${Mt.length-jt} more`)),U.data.nodeType==="decomposition"?(y.value=`${Nt} decomposed into:`,x.value=pt||"No components"):(y.value=`${Nt} contained in:`,x.value=pt||"No characters")}else y.value=U.data.nodeType==="decomposition"?"Decomposition node":"Containing node",x.value="";N.value=!0,L.value=!1,i.value=!0;return}if(!U.data.character||U.data.nodeType!=="character")return;y.value="",x.value="",i.value=!0,N.value=U.depth>0,L.value=U.children&&U.children.length>0;const K=U.data.character;try{await H(K);try{await t.dispatch("cardModal/preloadCardData",K);const vt=t.getters.getCharacterData(K);if(vt)y.value=((St=vt.pinyin)==null?void 0:St[0])||"",x.value=((Pt=vt.english)==null?void 0:Pt[0])||"";else{const Nt=t.getters["cardModal/getPreloadedData"](K);Nt&&(y.value=((bt=Nt.pinyin)==null?void 0:bt[0])||"",x.value=((_t=Nt.english)==null?void 0:_t[0])||"")}}catch{}}catch(vt){console.error("Error fetching data:",vt)}},Y=async()=>{if(!a.value||!a.value.data.character){i.value=!1;return}const z=a.value.data.character,U=a.value.data.id;if(v.value.has(U)){i.value=!1;return}v.value.add(U);const at=await H(z);if(!at||!at[z]||!at[z].parts||at[z].parts.length===0){v.value.delete(U),i.value=!1;return}const Lt=`decomp-${Q()}`,R={id:Lt,character:"",nodeType:"decomposition",children:[]},O=at[z].parts;if(O.forEach(tt=>{R.children.push({id:`char-${tt}-${Q()}`,character:tt,nodeType:"character",children:[]})}),et(w.value,U,R),i.value=!1,W(),nt(Lt),O&&O.length>0){const tt=O.map(K=>t.dispatch("cardModal/preloadCardData",K));try{await Promise.all(tt),await t.dispatch("cardModal/fetchDecompositionDataOnly",O.join(""))}catch(K){console.error("Error during preloading:",K)}}},rt=async()=>{if(!a.value||!a.value.data.character){i.value=!1;return}const z=a.value.data.character,U=a.value.data.id;if(k.value.has(U)){i.value=!1;return}k.value.add(U);const at=await H(z);if(!at||!at[z]||!at[z].present_in||at[z].present_in.length===0){k.value.delete(U),i.value=!1;return}const Lt=`containing-${Q()}`,R={id:Lt,character:"",nodeType:"containing",children:[]},O=at[z].present_in;if(O.forEach((tt,K)=>{R.children.push({id:`char-${tt}-${Q()}`,character:tt,nodeType:"character",children:[],showLine:!0})}),et(w.value,U,R),i.value=!1,W(),nt(Lt),O&&O.length>0){const tt=O.filter((St,Pt)=>Pt%5===0),K=Math.min(5,tt.length);tt.slice(0,K).forEach(St=>{t.dispatch("cardModal/preloadCardData",St),H(St)})}},Z=()=>{if(!a.value||!a.value.data.character)return;const z=a.value.data.character;t.dispatch("cardModal/showCardModal",z),i.value=!1},lt=()=>{if(!a.value){i.value=!1;return}const z=a.value.data.id;if(z==="root"){i.value=!1;return}if(v.value.delete(z),k.value.delete(z),a.value.data.nodeType==="decomposition"||a.value.data.nodeType==="containing"){const U=st(w.value,z);U&&(a.value.data.nodeType==="decomposition"?v.value.delete(U.id):k.value.delete(U.id))}It(w.value,z),i.value=!1,W()},ft=()=>{if(!a.value){i.value=!1;return}const z=a.value.data.id;P(w.value,z),i.value=!1,W()},It=(z,U)=>{if(!z.children)return!1;const at=z.children.findIndex(Lt=>Lt.id===U);if(at!==-1)return z.children.splice(at,1),!0;for(const Lt of z.children)if(It(Lt,U))return!0;return!1},P=(z,U)=>{if(z.id===U)return z.children=[],!0;if(z.children){for(const at of z.children)if(P(at,U))return!0}return!1},W=()=>{Or(()=>{J()})},H=async z=>{const U=t.getters["cardModal/getDecompositionData"];if(U&&U[z]&&(U[z].parts&&U[z].parts.length>0||U[z].present_in&&U[z].present_in.length>0))return U;try{return await t.dispatch("cardModal/fetchDecompositionDataOnly",z)}catch(at){return console.error("Error fetching decomposition data:",at),null}},et=(z,U,at)=>{if(z.id===U)return z.children||(z.children=[]),z.children.push(at),!0;if(z.children){for(const Lt of z.children)if(et(Lt,U,at))return!0}return!1},st=(z,U)=>{if(z.children){for(const at of z.children)if(at.id===U)return z;for(const at of z.children){const Lt=st(at,U);if(Lt)return Lt}}return null};mc(async()=>{n.value=!0,r.value="Loading data...";const z=[t.dispatch("cardModal/preloadCardData",o.value),H(o.value),t.getters.getDictionaryData?Promise.resolve():t.dispatch("fetchDictionaryData")];try{await Promise.all(z),n.value=!1,Or(()=>{J()})}catch(U){console.error("Error loading data:",U),r.value="Failed to load data. Please try again."}window.addEventListener("resize",$),d.value=new MutationObserver(()=>{u.value=document.documentElement.getAttribute("data-theme")||"light",W()}),d.value.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}),Xp(()=>{window.removeEventListener("resize",$),c.value&&c.value.stop(),d.value&&d.value.disconnect()});const $=()=>{if(e.value&&l.value){const z=e.value.clientWidth,U=e.value.clientHeight;l.value.attr("width",z).attr("height",U).attr("viewBox",[-z/2,-U/2,z,U])}};return{treeContainer:e,isLoading:n,loadingStatus:r,showMenu:i,menuStyle:s,selectedNodeData:a,currentCharacter:o,selectedCharPinyin:y,selectedCharEnglish:x,isDirectChild:N,hasChildren:L,handleDecompose:Y,handleShowContaining:rt,handleShowCard:Z,handleDeleteNode:lt,handleDeleteChildren:ft,inputChar:j,handleInputChange:it}}},BM={class:"hanzi-tree-container"},zM={class:"tree-container",ref:"treeContainer"},qM={class:"char-input-container"},WM={class:"char-info"},UM={class:"char"},$M={class:"details"},HM={class:"pinyin"},VM={class:"english"},GM={class:"icon"},YM={class:"icon"},KM={class:"icon"},XM={class:"icon"},JM={class:"icon"};function QM(t,e,n,r,i,s){var l,c,u,d,p,f,w,v,k,y;const a=_e("BasePage"),o=_e("font-awesome-icon");return dt(),wt(re,null,[Vt(a,{page_title:"Hanzi Tree"}),_("div",BM,[_("div",zM,null,512),_("div",qM,[Ke(_("input",{"onUpdate:modelValue":e[0]||(e[0]=x=>r.inputChar=x),maxlength:"1",class:"char-input",onInput:e[1]||(e[1]=(...x)=>r.handleInputChange&&r.handleInputChange(...x)),placeholder:""},null,544),[[fn,r.inputChar]])]),r.showMenu?(dt(),wt("div",{key:0,class:"node-menu",style:xr(r.menuStyle)},[_("div",WM,[_("div",UM,Wt((c=(l=r.selectedNodeData)==null?void 0:l.data)==null?void 0:c.character),1),_("div",$M,[_("div",HM,Wt(this.$toAccentedPinyin(r.selectedCharPinyin)),1),_("div",VM,Wt(r.selectedCharEnglish),1)])]),e[12]||(e[12]=_("div",{class:"menu-divider"},null,-1)),((d=(u=r.selectedNodeData)==null?void 0:u.data)==null?void 0:d.nodeType)==="character"?(dt(),wt("div",{key:0,class:"menu-option decompose",onClick:e[2]||(e[2]=(...x)=>r.handleDecompose&&r.handleDecompose(...x))},[_("span",GM,[Vt(o,{icon:["fas","magnifying-glass"]})]),e[7]||(e[7]=_("span",null,"Decompose",-1))])):Xt("",!0),((f=(p=r.selectedNodeData)==null?void 0:p.data)==null?void 0:f.nodeType)==="character"?(dt(),wt("div",{key:1,class:"menu-option containing",onClick:e[3]||(e[3]=(...x)=>r.handleShowContaining&&r.handleShowContaining(...x))},[_("span",YM,[Vt(o,{icon:["fas","sitemap"]})]),e[8]||(e[8]=_("span",null,"Show Chars Containing",-1))])):Xt("",!0),((v=(w=r.selectedNodeData)==null?void 0:w.data)==null?void 0:v.nodeType)==="character"?(dt(),wt("div",{key:2,class:"menu-option show-details",onClick:e[4]||(e[4]=(...x)=>r.handleShowCard&&r.handleShowCard(...x))},[_("span",KM,[Vt(o,{icon:["fas","file"]})]),e[9]||(e[9]=_("span",null,"View Details",-1))])):Xt("",!0),r.isDirectChild?(dt(),wt("div",{key:3,class:"menu-option delete-node",onClick:e[5]||(e[5]=(...x)=>r.handleDeleteNode&&r.handleDeleteNode(...x))},[_("span",XM,[Vt(o,{icon:["fas","trash"]})]),e[10]||(e[10]=_("span",null,"Delete Node",-1))])):Xt("",!0),r.hasChildren&&((y=(k=r.selectedNodeData)==null?void 0:k.data)==null?void 0:y.nodeType)==="character"?(dt(),wt("div",{key:4,class:"menu-option delete-children",onClick:e[6]||(e[6]=(...x)=>r.handleDeleteChildren&&r.handleDeleteChildren(...x))},[_("span",JM,[Vt(o,{icon:["fas","scissors"]})]),e[11]||(e[11]=_("span",null,"Delete Children",-1))])):Xt("",!0)],4)):Xt("",!0)])],64)}const ZM=tn(jM,[["render",QM],["__scopeId","data-v-5ad5bc74"]]),tD=[{path:"/",component:Em},{path:"/login",component:CC},{path:"/register",component:DC},{path:"/account",component:y7},{path:"/about",name:"About",component:x7},{path:"/grid",component:B7},{path:"/search",name:"SearchPage",component:J7},{path:"/sketch-lookup",name:"DrawingPage",component:oL},{path:"/hanzi-tree",component:ZM},{path:"/flashcards",component:gL},{path:"/practice",component:qL},{path:"/page-info",component:$L},{path:"/my-lists",component:TM},{path:"/word/:word",name:"WordPage",component:RM},{path:"/:pathMatch(.*)*",component:Em}],wr=hx({history:z4(),routes:tD}),eD={namespaced:!0,state:{visible:!1,loading:!1,characterData:null,decompositionData:null,currentCharacter:null,preloadedData:{}},mutations:{SHOW_CARD_MODAL(t,e){t.visible=!0,t.currentCharacter=e,t.loading=!0},HIDE_CARD_MODAL(t){t.visible=!1,t.currentCharacter=null},SET_CARD_DATA(t,e){t.characterData=e,t.loading=!1},SET_DECOMPOSITION_DATA(t,e){t.decompositionData={...t.decompositionData||{},...e}},SET_LOADING(t,e){t.loading=e},SET_PRELOADED_DATA(t,{character:e,data:n}){t.preloadedData[e]=n}},actions:{async showCardModal({commit:t,dispatch:e,state:n},r){if(!(n.visible&&n.currentCharacter===r))if(wr.currentRoute.value.path.startsWith("/word/")?(window.scrollTo({top:0,left:0}),wr.replace({params:{word:r}}).catch(i=>{i.name!=="NavigationDuplicated"&&console.error(i)})):(t("SHOW_CARD_MODAL",r),wr.replace({query:{...wr.currentRoute.value.query,word:r}}).catch(i=>{i.name!=="NavigationDuplicated"&&console.error(i)})),n.preloadedData[r]){if(t("SET_CARD_DATA",n.preloadedData[r]),n.preloadedData[r].chars_breakdown){const i={};Object.keys(n.preloadedData[r].chars_breakdown).forEach(s=>{const a=n.preloadedData[r].chars_breakdown[s];(a.recursive||a.present_in)&&(i[s]={recursive:a.recursive||{},present_in:a.present_in||[]})}),Object.keys(i).length>0&&t("SET_DECOMPOSITION_DATA",i)}}else await e("fetchCardData",r)},hideCardModal({commit:t}){t("HIDE_CARD_MODAL");const e={...wr.currentRoute.value.query};delete e.word,wr.replace({query:e}).catch(n=>{n.name!=="NavigationDuplicated"&&console.error(n)})},async fetchCardData({commit:t,state:e},n){t("SET_LOADING",!0);try{const i=await(await fetch(`/api/get_card_data?character=${n}`)).json();if(i&&(t("SET_CARD_DATA",i),i.chars_breakdown)){const s={};Object.keys(i.chars_breakdown).forEach(a=>{const o=i.chars_breakdown[a];(o.recursive||o.present_in)&&(s[a]={recursive:o.recursive||{},present_in:o.present_in||[]})}),Object.keys(s).length>0&&t("SET_DECOMPOSITION_DATA",s)}}catch(r){console.error("Error fetching card data:",r),t("SET_LOADING",!1)}},async fetchDecompositionDataOnly({commit:t,state:e,dispatch:n},r){const i=r.split("").filter(s=>!!(new RegExp("\\p{Script=Han}","u").test(s)||/[\u31C0-\u31EF]/.test(s)||s===""));return i.length===0?Promise.resolve(null):e.decompositionData&&i.every(a=>e.decompositionData[a]&&(e.decompositionData[a].recursive&&Object.keys(e.decompositionData[a].recursive).length>0||e.decompositionData[a].present_in&&e.decompositionData[a].present_in.length>0))?Promise.resolve(e.decompositionData):new Promise(async(s,a)=>{try{const o="/api/get_char_decomp_info",c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({characters:i})},d=await(await fetch(o,c)).json();Object.keys(d).length>0&&t("SET_DECOMPOSITION_DATA",d),s(d)}catch(o){console.error("Error fetching decomposition data:",o),a(o)}})},async preloadCardData({commit:t,state:e},n){if(!e.preloadedData[n])try{const i=await(await fetch(`/api/get_card_data?character=${n}`)).json();if(i&&(t("SET_PRELOADED_DATA",{character:n,data:i}),i.chars_breakdown)){const s={};Object.keys(i.chars_breakdown).forEach(a=>{const o=i.chars_breakdown[a];(o.recursive||o.present_in)&&(s[a]={recursive:o.recursive||{},present_in:o.present_in||[]})}),Object.keys(s).length>0&&t("SET_DECOMPOSITION_DATA",s)}}catch(r){console.error("Error preloading card data:",r)}},checkForWordParameter({dispatch:t,state:e}){const n=wr.currentRoute.value.query.word,r=wr.currentRoute.value.path;n&&!e.visible&&!r.startsWith("/word/")&&t("showCardModal",n)}},getters:{isCardModalVisible:t=>t.visible,isCardModalLoading:t=>t.loading,getCardData:t=>t.characterData,getDecompositionData:t=>t.decompositionData,getCurrentCharacter:t=>t.currentCharacter,getPreloadedData:t=>e=>t.preloadedData[e]}},nD={namespaced:!0,state:{visible:!1,character:"",pinyin:"",english:"",position:{x:0,y:0},fontFamily:"Noto Sans SC"},mutations:{SHOW_BUBBLE(t,{character:e,pinyin:n,english:r,position:i,fontFamily:s}){t.visible=!0,t.character=e,t.pinyin=n,t.english=r,t.position=i,t.fontFamily=s||"Noto Sans SC"},HIDE_BUBBLE(t){t.visible=!1}},actions:{showBubble({commit:t},e){t("SHOW_BUBBLE",e)},hideBubble({commit:t}){t("HIDE_BUBBLE")}},getters:{isBubbleVisible:t=>t.visible,getBubbleData:t=>({character:t.character,pinyin:t.pinyin,english:t.english,position:t.position,fontFamily:t.fontFamily})}},rD={namespaced:!0,state:{currentTheme:"theme1"},mutations:{SET_THEME(t,e){t.currentTheme=e,document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}},actions:{initTheme({commit:t}){let e=localStorage.getItem("theme");e||(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"theme1"),t("SET_THEME",e)},toggleTheme({commit:t,state:e}){let n;e.currentTheme==="light"?n="dark":e.currentTheme==="dark"?n="light":e.currentTheme==="theme1"?n="theme2":e.currentTheme==="theme2"&&(n="theme1"),t("SET_THEME",n)},setTheme({commit:t},e){t("SET_THEME",e)},setThemeSystem({commit:t,state:e},n){let r;n==="default"?r=["light","dark"].includes(e.currentTheme)?e.currentTheme:"light":r=["theme1","theme2"].includes(e.currentTheme)?e.currentTheme:"theme1",t("SET_THEME",r)}},getters:{getCurrentTheme:t=>t.currentTheme,isDefaultThemeSystem:t=>["light","dark"].includes(t.currentTheme),getCurrentThemeName:t=>{switch(t.currentTheme){case"light":return"Light Mode";case"dark":return"Dark Mode";case"theme1":return"Theme1 (Light)";case"theme2":return"Theme2 (Dark)";default:return t.currentTheme}}}},Nl="userData",Ts=o4({modules:{cardModal:eD,bubbleTooltip:nD,theme:rD},state:{staticDictionaryData:null,customDictionaryData:null,dictionaryData:null,authStatus:!1,username:"",profile:{},customDecks:[],image:"",loading:!1,dictionaryPromises:{static:null,custom:null},practiceCharacterCache:{strokeData:{},infoData:{}},simpleCharInfoCache:{},pendingSimpleCharRequests:null},mutations:{setDictionaryData(t,e){t.dictionaryData=e,t.staticDictionaryData=e},combineDictionaryData(t,e){t.customDictionaryData=e,t.dictionaryData?t.dictionaryData={...t.dictionaryData,...t.customDictionaryData}:t.dictionaryData=e},SET_LOADING(t,e){t.loading=e},setUserData(t,e){t.authStatus=!!e.authStatus,t.username=e.username||"",t.customDecks=e.custom_deck_names||[],t.image=e.profile_pic||e.image||"",t.profile={google_id:e.google_id||null,profile_pic:e.profile_pic||null,email:e.email||null,email_verified:e.email_verified||!1,has_password:e.has_password||!1}},clearUserData(t){t.authStatus=!1,t.username="",t.profile={},t.customDecks=[],t.customDictionaryData=null,t.image="",t.dictionaryData=t.staticDictionaryData},addCustomDeck(t,e){t.customDecks.push(e)},removeCustomDeck(t,e){if(t.customDecks=t.customDecks.filter(n=>n.name!==e),t.customDictionaryData){const n={...t.customDictionaryData};delete n[e],t.customDictionaryData=n,t.dictionaryData&&(t.dictionaryData={...t.staticDictionaryData,...t.customDictionaryData})}},renameCustomDeck(t,{oldName:e,newName:n}){const r=t.customDecks.findIndex(i=>i.name===e);if(r!==-1&&(t.customDecks[r]={...t.customDecks[r],name:n}),t.customDictionaryData&&t.customDictionaryData[e]){const i={...t.customDictionaryData};i[n]={...i[e]},delete i[e],t.customDictionaryData=i,t.dictionaryData&&(t.dictionaryData={...t.staticDictionaryData,...t.customDictionaryData})}},updateDictionaryData(t){t.customDictionaryData&&t.staticDictionaryData&&(t.dictionaryData={...JSON.parse(JSON.stringify(t.staticDictionaryData)),...JSON.parse(JSON.stringify(t.customDictionaryData))})},UPDATE_WORDLIST_DESCRIPTION(t,{name:e,description:n}){const r=t.customDecks.find(i=>i.name===e);r&&(r.description=n)},SET_PRACTICE_CHARACTER_STROKE_DATA(t,{character:e,data:n}){t.practiceCharacterCache.strokeData[e]=n},SET_PRACTICE_CHARACTER_INFO_DATA(t,{character:e,data:n}){t.practiceCharacterCache.infoData[e]=n},SET_SIMPLE_CHAR_INFO(t,e){t.simpleCharInfoCache={...t.simpleCharInfoCache,...e}}},actions:{async fetchDictionaryData({commit:t,state:e}){if(e.dictionaryPromises.static)return e.dictionaryPromises.static;const n=(async()=>{try{const i=await(await fetch("/api/get_static_cc")).json();return t("setDictionaryData",i),i}catch(r){throw console.error("Error fetching dictionary data:",r),r}finally{e.dictionaryPromises.static=null}})();return e.dictionaryPromises.static=n,n},async fetchCustomDictionaryData({commit:t,state:e,dispatch:n,getters:r}){if(!r.isLoggedIn)return Promise.resolve({});if(e.dictionaryPromises.custom)return e.dictionaryPromises.custom;const i=(async()=>{try{const s=await fetch("/api/get_custom_cc",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!s.ok){const o=await s.json();if(o.authStatus===!1)return console.warn("Server indicates user no longer exists, logging out"),n("logout"),{};throw new Error(o.error||`Server returned ${s.status}`)}const a=await s.json();for(const o in a)a[o].name||(a[o].name=o);return t("combineDictionaryData",a),a}catch(s){return console.error("Error fetching custom dictionary data:",s),s.message&&(s.message.includes("User account no longer exists")||s.message.includes("User data not found")||s.message.includes("Authentication expired"))&&(console.warn("User session no longer valid, logging out"),n("logout")),{}}finally{e.dictionaryPromises.custom=null}})();return e.dictionaryPromises.custom=i,i},async fetchUserData({commit:t,state:e,dispatch:n}){if(!e.loading){t("SET_LOADING",!0);try{const r=new AbortController,i=setTimeout(()=>r.abort(),5e3),s=await fetch("/api/get_user_data",{signal:r.signal});if(clearTimeout(i),!s.ok)throw new Error(`Server returned ${s.status}`);const a=await s.json();if(!a.authStatus){console.warn("Server returned non-authenticated status, logging out"),n("logout"),t("SET_LOADING",!1);return}t("setUserData",a),localStorage.setItem(Nl,JSON.stringify(a))}catch(r){console.error("Error fetching user data:",r),(r.name==="AbortError"||r.name==="TypeError")&&(console.warn("Backend connectivity issue, logging out user"),n("logout"))}finally{t("SET_LOADING",!1)}}},removeWordFromCustomDeck({state:t,commit:e},{character:n,selectedWordlist:r}){if(t.customDictionaryData&&t.customDictionaryData[r]){const i={...t.customDictionaryData[r].chars};delete i[n];const s={...t.customDictionaryData[r],chars:i};t.customDictionaryData={...t.customDictionaryData,[r]:s},t.dictionaryData&&(t.dictionaryData={...t.staticDictionaryData,...t.customDictionaryData})}},addWordToCustomDeck({state:t,dispatch:e},{word:n,setName:r,wordData:i}){if(t.customDictionaryData&&t.customDictionaryData[r]){const s={...t.customDictionaryData[r].chars,[n]:i},a={...t.customDictionaryData[r],chars:s};t.customDictionaryData={...t.customDictionaryData,[r]:a},t.dictionaryData&&(t.dictionaryData={...t.staticDictionaryData,...t.customDictionaryData})}else e("fetchCustomDictionaryData")},loadUserDataFromStorage({commit:t}){const e=localStorage.getItem(Nl);if(e)try{t("setUserData",JSON.parse(e))}catch{localStorage.removeItem(Nl)}},saveUserDataToStorage({state:t}){const e={authStatus:t.authStatus,username:t.username,profile:t.profile,customDecks:t.customDecks,image:t.image};localStorage.setItem(Nl,JSON.stringify(e))},logout({commit:t}){t("clearUserData"),localStorage.removeItem(Nl),sessionStorage.clear(),t("combineDictionaryData",{}),setTimeout(()=>{wr.currentRoute.value.meta.requiresAuth&&wr.push("/")},0)},createWordlist({commit:t,state:e},{name:n}){const r={name:n,description:`Custom wordlist: ${n}`};if(t("addCustomDeck",r),e.customDictionaryData){const i={name:n,description:`Custom wordlist: ${n}`,chars:{}};e.customDictionaryData={...e.customDictionaryData,[n]:i},t("updateDictionaryData")}this.dispatch("saveUserDataToStorage")},renameWordlist({commit:t,state:e},{oldName:n,newName:r}){t("renameCustomDeck",{oldName:n,newName:r}),t("updateDictionaryData"),this.dispatch("saveUserDataToStorage")},removeWordlist({commit:t,state:e},{name:n}){t("removeCustomDeck",n),t("updateDictionaryData"),this.dispatch("saveUserDataToStorage")},updateWordlistDescription({commit:t},e){t("UPDATE_WORDLIST_DESCRIPTION",e)},async preloadPracticeCharacterStrokes({commit:t,state:e},n){if(e.practiceCharacterCache.strokeData[n])return e.practiceCharacterCache.strokeData[n];try{const r=await fetch(`/api/getStrokes/${n}`);if(!r.ok)return console.error("Network response was not ok for character:",n),null;const i=await r.json();return i&&(i.character=n,t("SET_PRACTICE_CHARACTER_STROKE_DATA",{character:n,data:i})),i}catch(r){return console.error("Error preloading character stroke data:",r),null}},async fetchSimpleCharInfo({commit:t,state:e},n){if(!n||n.length===0)return{};const r=n.filter(s=>!e.simpleCharInfoCache[s]);if(r.length===0)return n.reduce((s,a)=>(s[a]=e.simpleCharInfoCache[a],s),{});e.pendingSimpleCharRequests&&await e.pendingSimpleCharRequests;const i=(async()=>{try{const s=`characters=${r.map(l=>encodeURIComponent(l)).join(";")}`,a=await fetch(`/api/get_characters_simple_info?${s}`);if(!a.ok)throw new Error(`Server returned ${a.status}`);const o=await a.json();return t("SET_SIMPLE_CHAR_INFO",o),n.reduce((l,c)=>(l[c]=e.simpleCharInfoCache[c]||o[c]||null,l),{})}catch(s){return console.error("Error fetching simple character info:",s),{}}finally{e.pendingSimpleCharRequests=null}})();return e.pendingSimpleCharRequests=i,i}},getters:{getCustomDictionaryData:t=>t.customDictionaryData,getDictionaryData:t=>t.dictionaryData,getAuthStatus:t=>t.authStatus,getUsername:t=>t.username,getProfile:t=>t.profile,getHasPassword:t=>{var e;return((e=t.profile)==null?void 0:e.has_password)||!1},getGoogleLinked:t=>{var e;return!!((e=t.profile)!=null&&e.google_id)},getCustomDecks:t=>t.customDecks,getImage:t=>{var e;return t.image||((e=t.profile)==null?void 0:e.profile_pic)||""},getIsLoading:t=>t.loading,isDictionaryLoading:t=>!!t.dictionaryPromises.static||!!t.dictionaryPromises.custom,getDictionaryPromises:t=>({static:t.dictionaryPromises.static,custom:t.dictionaryPromises.custom}),isLoggedIn:t=>!!t.authStatus&&!!t.username,getPracticeCharCache:t=>t.practiceCharacterCache,getCharacterData:t=>e=>{if(!t.dictionaryData)return null;for(const n in t.dictionaryData){const r=t.dictionaryData[n];if(r!=null&&r.chars&&r.chars[e])return r.chars[e]}return null},getSimpleCharInfo:t=>e=>t.simpleCharInfoCache[e]||null,getMultipleSimpleCharInfo:t=>e=>!e||e.length===0?{}:e.reduce((n,r)=>(n[r]=t.simpleCharInfoCache[r]||null,n),{})}});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function iD(t,e,n){return(e=aD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bg(Object(n),!0).forEach(function(r){iD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sD(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aD(t){var e=sD(t,"string");return typeof e=="symbol"?e:e+""}const wg=()=>{};let C1={},Xv={},Jv=null,Qv={mark:wg,measure:wg};try{typeof window<"u"&&(C1=window),typeof document<"u"&&(Xv=document),typeof MutationObserver<"u"&&(Jv=MutationObserver),typeof performance<"u"&&(Qv=performance)}catch{}const{userAgent:xg=""}=C1.navigator||{},Vs=C1,Ze=Xv,kg=Jv,Tu=Qv;Vs.document;const fs=!!Ze.documentElement&&!!Ze.head&&typeof Ze.addEventListener=="function"&&typeof Ze.createElement=="function",Zv=~xg.indexOf("MSIE")||~xg.indexOf("Trident/");var oD=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,lD=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ty={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},cD={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},ey=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Yn="classic",Vh="duotone",uD="sharp",hD="sharp-duotone",ny=[Yn,Vh,uD,hD],fD={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},dD={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pD=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),mD={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},gD=["fak","fa-kit","fakd","fa-kit-duotone"],Sg={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},vD=["kit"],yD={kit:{"fa-kit":"fak"}},bD=["fak","fakd"],wD={kit:{fak:"fa-kit"}},_g={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Eu={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},xD=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],kD=["fak","fa-kit","fakd","fa-kit-duotone"],SD={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},_D={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},AD={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},wp={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},CD=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],xp=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...xD,...CD],LD=["solid","regular","light","thin","duotone","brands"],ry=[1,2,3,4,5,6,7,8,9,10],PD=ry.concat([11,12,13,14,15,16,17,18,19,20]),ND=[...Object.keys(AD),...LD,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Eu.GROUP,Eu.SWAP_OPACITY,Eu.PRIMARY,Eu.SECONDARY].concat(ry.map(t=>"".concat(t,"x"))).concat(PD.map(t=>"w-".concat(t))),MD={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ls="___FONT_AWESOME___",kp=16,iy="fa",sy="svg-inline--fa",Ca="data-fa-i2svg",Sp="data-fa-pseudo-element",DD="data-fa-pseudo-element-pending",L1="data-prefix",P1="data-icon",Ag="fontawesome-i2svg",TD="async",ED=["HTML","HEAD","STYLE","SCRIPT"],ay=(()=>{try{return!0}catch{return!1}})();function _c(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Yn]}})}const oy=Ut({},ty);oy[Yn]=Ut(Ut(Ut(Ut({},{"fa-duotone":"duotone"}),ty[Yn]),Sg.kit),Sg["kit-duotone"]);const ID=_c(oy),_p=Ut({},mD);_p[Yn]=Ut(Ut(Ut(Ut({},{duotone:"fad"}),_p[Yn]),_g.kit),_g["kit-duotone"]);const Cg=_c(_p),Ap=Ut({},wp);Ap[Yn]=Ut(Ut({},Ap[Yn]),wD.kit);const N1=_c(Ap),Cp=Ut({},_D);Cp[Yn]=Ut(Ut({},Cp[Yn]),yD.kit);_c(Cp);const FD=oD,ly="fa-layers-text",OD=lD,RD=Ut({},fD);_c(RD);const jD=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Nd=cD,BD=[...vD,...ND],$l=Vs.FontAwesomeConfig||{};function zD(t){var e=Ze.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function qD(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ze&&typeof Ze.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=qD(zD(n));i!=null&&($l[r]=i)});const cy={styleDefault:"solid",familyDefault:Yn,cssPrefix:iy,replacementClass:sy,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};$l.familyPrefix&&($l.cssPrefix=$l.familyPrefix);const qo=Ut(Ut({},cy),$l);qo.autoReplaceSvg||(qo.observeMutations=!1);const ne={};Object.keys(cy).forEach(t=>{Object.defineProperty(ne,t,{enumerable:!0,set:function(e){qo[t]=e,Hl.forEach(n=>n(ne))},get:function(){return qo[t]}})});Object.defineProperty(ne,"familyPrefix",{enumerable:!0,set:function(t){qo.cssPrefix=t,Hl.forEach(e=>e(ne))},get:function(){return qo.cssPrefix}});Vs.FontAwesomeConfig=ne;const Hl=[];function WD(t){return Hl.push(t),()=>{Hl.splice(Hl.indexOf(t),1)}}const Ds=kp,Li={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function UD(t){if(!t||!fs)return;const e=Ze.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Ze.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return Ze.head.insertBefore(e,r),t}const $D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function cc(){let t=12,e="";for(;t-- >0;)e+=$D[Math.random()*62|0];return e}function $o(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function M1(t){return t.classList?$o(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function uy(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function HD(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(uy(t[n]),'" '),"").trim()}function Gh(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function D1(t){return t.size!==Li.size||t.x!==Li.x||t.y!==Li.y||t.rotate!==Li.rotate||t.flipX||t.flipY}function VD(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(a," ").concat(o)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}function GD(t){let{transform:e,width:n=kp,height:r=kp,startCentered:i=!1}=t,s="";return i&&Zv?s+="translate(".concat(e.x/Ds-n/2,"em, ").concat(e.y/Ds-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Ds,"em), calc(-50% + ").concat(e.y/Ds,"em)) "):s+="translate(".concat(e.x/Ds,"em, ").concat(e.y/Ds,"em) "),s+="scale(".concat(e.size/Ds*(e.flipX?-1:1),", ").concat(e.size/Ds*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var YD=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function hy(){const t=iy,e=sy,n=ne.cssPrefix,r=ne.replacementClass;let i=YD;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let Lg=!1;function Md(){ne.autoAddCss&&!Lg&&(UD(hy()),Lg=!0)}var KD={mixout(){return{dom:{css:hy,insertCss:Md}}},hooks(){return{beforeDOMElementCreation(){Md()},beforeI2svg(){Md()}}}};const cs=Vs||{};cs[ls]||(cs[ls]={});cs[ls].styles||(cs[ls].styles={});cs[ls].hooks||(cs[ls].hooks={});cs[ls].shims||(cs[ls].shims=[]);var Pi=cs[ls];const fy=[],dy=function(){Ze.removeEventListener("DOMContentLoaded",dy),bh=1,fy.map(t=>t())};let bh=!1;fs&&(bh=(Ze.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ze.readyState),bh||Ze.addEventListener("DOMContentLoaded",dy));function XD(t){fs&&(bh?setTimeout(t,0):fy.push(t))}function Ac(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?uy(t):"<".concat(e," ").concat(HD(n),">").concat(r.map(Ac).join(""),"</").concat(e,">")}function Pg(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Dd=function(e,n,r,i){var s=Object.keys(e),a=s.length,o=n,l,c,u;for(r===void 0?(l=1,u=e[s[0]]):(l=0,u=r);l<a;l++)c=s[l],u=o(u,e[c],c,e);return u};function JD(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Lp(t){const e=JD(t);return e.length===1?e[0].toString(16):null}function QD(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function Ng(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Pp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=Ng(e);typeof Pi.hooks.addPack=="function"&&!r?Pi.hooks.addPack(t,Ng(e)):Pi.styles[t]=Ut(Ut({},Pi.styles[t]||{}),i),t==="fas"&&Pp("fa",e)}const{styles:uc,shims:ZD}=Pi,py=Object.keys(N1),tT=py.reduce((t,e)=>(t[e]=Object.keys(N1[e]),t),{});let T1=null,my={},gy={},vy={},yy={},by={};function eT(t){return~BD.indexOf(t)}function nT(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!eT(i)?i:null}const wy=()=>{const t=r=>Dd(uc,(i,s,a)=>(i[a]=Dd(s,r,{}),i),{});my=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=s}),r)),gy=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=s}),r)),by=t((r,i,s)=>{const a=i[2];return r[s]=s,a.forEach(o=>{r[o]=s}),r});const e="far"in uc||ne.autoFetchSvg,n=Dd(ZD,(r,i)=>{const s=i[0];let a=i[1];const o=i[2];return a==="far"&&!e&&(a="fas"),typeof s=="string"&&(r.names[s]={prefix:a,iconName:o}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});vy=n.names,yy=n.unicodes,T1=Yh(ne.styleDefault,{family:ne.familyDefault})};WD(t=>{T1=Yh(t.styleDefault,{family:ne.familyDefault})});wy();function E1(t,e){return(my[t]||{})[e]}function rT(t,e){return(gy[t]||{})[e]}function wa(t,e){return(by[t]||{})[e]}function xy(t){return vy[t]||{prefix:null,iconName:null}}function iT(t){const e=yy[t],n=E1("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Gs(){return T1}const ky=()=>({prefix:null,iconName:null,rest:[]});function sT(t){let e=Yn;const n=py.reduce((r,i)=>(r[i]="".concat(ne.cssPrefix,"-").concat(i),r),{});return ny.forEach(r=>{(t.includes(n[r])||t.some(i=>tT[r].includes(i)))&&(e=r)}),e}function Yh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Yn}=e,r=ID[n][t];if(n===Vh&&!t)return"fad";const i=Cg[n][t]||Cg[n][r],s=t in Pi.styles?t:null;return i||s||null}function aT(t){let e=[],n=null;return t.forEach(r=>{const i=nT(ne.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function Mg(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function Kh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=xp.concat(kD),s=Mg(t.filter(d=>i.includes(d))),a=Mg(t.filter(d=>!xp.includes(d))),o=s.filter(d=>(r=d,!ey.includes(d))),[l=null]=o,c=sT(s),u=Ut(Ut({},aT(a)),{},{prefix:Yh(l,{family:c})});return Ut(Ut(Ut({},u),uT({values:t,family:c,styles:uc,config:ne,canonical:u,givenPrefix:r})),oT(n,r,u))}function oT(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const s=e==="fa"?xy(i):{},a=wa(r,i);return i=s.iconName||a||i,r=s.prefix||r,r==="far"&&!uc.far&&uc.fas&&!ne.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const lT=ny.filter(t=>t!==Yn||t!==Vh),cT=Object.keys(wp).filter(t=>t!==Yn).map(t=>Object.keys(wp[t])).flat();function uT(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:a={}}=t,o=n===Vh,l=e.includes("fa-duotone")||e.includes("fad"),c=a.familyDefault==="duotone",u=r.prefix==="fad"||r.prefix==="fa-duotone";if(!o&&(l||c||u)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&lT.includes(n)&&(Object.keys(s).find(p=>cT.includes(p))||a.autoFetchSvg)){const p=pD.get(n).defaultShortPrefixId;r.prefix=p,r.iconName=wa(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=Gs()||"fas"),r}class hT{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=Ut(Ut({},this.definitions[s]||{}),i[s]),Pp(s,i[s]);const a=N1[Yn][s];a&&Pp(a,i[s]),wy()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:a,icon:o}=r[i],l=o[2];e[s]||(e[s]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(e[s][c]=o)}),e[s][a]=o}),e}}let Dg=[],vo={};const Eo={},fT=Object.keys(Eo);function dT(t,e){let{mixoutsTo:n}=e;return Dg=t,vo={},Object.keys(Eo).forEach(r=>{fT.indexOf(r)===-1&&delete Eo[r]}),Dg.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(a=>{n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(a=>{vo[a]||(vo[a]=[]),vo[a].push(s[a])})}r.provides&&r.provides(Eo)}),n}function Np(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(vo[t]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function La(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(vo[t]||[]).forEach(s=>{s.apply(null,n)})}function Ys(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Eo[t]?Eo[t].apply(null,e):void 0}function Mp(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Gs();if(e)return e=wa(n,e)||e,Pg(Sy.definitions,n,e)||Pg(Pi.styles,n,e)}const Sy=new hT,pT=()=>{ne.autoReplaceSvg=!1,ne.observeMutations=!1,La("noAuto")},mT={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fs?(La("beforeI2svg",t),Ys("pseudoElements2svg",t),Ys("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;ne.autoReplaceSvg===!1&&(ne.autoReplaceSvg=!0),ne.observeMutations=!0,XD(()=>{vT({autoReplaceSvgRoot:e}),La("watch",t)})}},gT={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:wa(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Yh(t[0]);return{prefix:n,iconName:wa(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(ne.cssPrefix,"-"))>-1||t.match(FD))){const e=Kh(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Gs(),iconName:wa(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Gs();return{prefix:e,iconName:wa(e,t)||t}}}},Lr={noAuto:pT,config:ne,dom:mT,parse:gT,library:Sy,findIconDefinition:Mp,toHtml:Ac},vT=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Ze}=t;(Object.keys(Pi.styles).length>0||ne.autoFetchSvg)&&fs&&ne.autoReplaceSvg&&Lr.dom.i2svg({node:e})};function Xh(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Ac(n))}}),Object.defineProperty(t,"node",{get:function(){if(!fs)return;const n=Ze.createElement("div");return n.innerHTML=t.html,n.children}}),t}function yT(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:a}=t;if(D1(a)&&n.found&&!r.found){const{width:o,height:l}=n,c={x:o/l/2,y:.5};i.style=Gh(Ut(Ut({},s),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function bT(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const a=s===!0?"".concat(e,"-").concat(ne.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ut(Ut({},i),{},{id:a}),children:r}]}]}function I1(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:l,titleId:c,extra:u,watchable:d=!1}=t,{width:p,height:f}=n.found?n:e,w=bD.includes(r),v=[ne.replacementClass,i?"".concat(ne.cssPrefix,"-").concat(i):""].filter(j=>u.classes.indexOf(j)===-1).filter(j=>j!==""||!!j).concat(u.classes).join(" ");let k={children:[],attributes:Ut(Ut({},u.attributes),{},{"data-prefix":r,"data-icon":i,class:v,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(f)})};const y=w&&!~u.classes.indexOf("fa-fw")?{width:"".concat(p/f*16*.0625,"em")}:{};d&&(k.attributes[Ca]=""),o&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(c||cc())},children:[o]}),delete k.attributes.title);const x=Ut(Ut({},k),{},{prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:a,styles:Ut(Ut({},y),u.styles)}),{children:N,attributes:L}=n.found&&e.found?Ys("generateAbstractMask",x)||{children:[],attributes:{}}:Ys("generateAbstractIcon",x)||{children:[],attributes:{}};return x.children=N,x.attributes=L,a?bT(x):yT(x)}function Tg(t){const{content:e,width:n,height:r,transform:i,title:s,extra:a,watchable:o=!1}=t,l=Ut(Ut(Ut({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});o&&(l[Ca]="");const c=Ut({},a.styles);D1(i)&&(c.transform=GD({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=Gh(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function wT(t){const{content:e,title:n,extra:r}=t,i=Ut(Ut(Ut({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Gh(r.styles);s.length>0&&(i.style=s);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:Td}=Pi;function Dp(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(ne.cssPrefix,"-").concat(Nd.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ne.cssPrefix,"-").concat(Nd.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ne.cssPrefix,"-").concat(Nd.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const xT={found:!1,width:512,height:512};function kT(t,e){!ay&&!ne.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Tp(t,e){let n=e;return e==="fa"&&ne.styleDefault!==null&&(e=Gs()),new Promise((r,i)=>{if(n==="fa"){const s=xy(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Td[e]&&Td[e][t]){const s=Td[e][t];return r(Dp(s))}kT(t,e),r(Ut(Ut({},xT),{},{icon:ne.showMissingIcons&&t?Ys("missingIconAbstract")||{}:{}}))})}const Eg=()=>{},Ep=ne.measurePerformance&&Tu&&Tu.mark&&Tu.measure?Tu:{mark:Eg,measure:Eg},Il='FA "6.7.2"',ST=t=>(Ep.mark("".concat(Il," ").concat(t," begins")),()=>_y(t)),_y=t=>{Ep.mark("".concat(Il," ").concat(t," ends")),Ep.measure("".concat(Il," ").concat(t),"".concat(Il," ").concat(t," begins"),"".concat(Il," ").concat(t," ends"))};var F1={begin:ST,end:_y};const Ku=()=>{};function Ig(t){return typeof(t.getAttribute?t.getAttribute(Ca):null)=="string"}function _T(t){const e=t.getAttribute?t.getAttribute(L1):null,n=t.getAttribute?t.getAttribute(P1):null;return e&&n}function AT(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ne.replacementClass)}function CT(){return ne.autoReplaceSvg===!0?Xu.replace:Xu[ne.autoReplaceSvg]||Xu.replace}function LT(t){return Ze.createElementNS("http://www.w3.org/2000/svg",t)}function PT(t){return Ze.createElement(t)}function Ay(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?LT:PT}=e;if(typeof t=="string")return Ze.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(Ay(s,{ceFn:n}))}),r}function NT(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Xu={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Ay(n),e)}),e.getAttribute(Ca)===null&&ne.keepOriginalSource){let n=Ze.createComment(NT(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~M1(e).indexOf(ne.replacementClass))return Xu.replace(t);const r=new RegExp("".concat(ne.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((a,o)=>(o===ne.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Ac(s)).join(`
`);e.setAttribute(Ca,""),e.innerHTML=i}};function Fg(t){t()}function Cy(t,e){const n=typeof e=="function"?e:Ku;if(t.length===0)n();else{let r=Fg;ne.mutateApproach===TD&&(r=Vs.requestAnimationFrame||Fg),r(()=>{const i=CT(),s=F1.begin("mutate");t.map(i),s(),n()})}}let O1=!1;function Ly(){O1=!0}function Ip(){O1=!1}let wh=null;function Og(t){if(!kg||!ne.observeMutations)return;const{treeCallback:e=Ku,nodeCallback:n=Ku,pseudoElementsCallback:r=Ku,observeMutationsRoot:i=Ze}=t;wh=new kg(s=>{if(O1)return;const a=Gs();$o(s).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!Ig(o.addedNodes[0])&&(ne.searchPseudoElements&&r(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&ne.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&Ig(o.target)&&~jD.indexOf(o.attributeName))if(o.attributeName==="class"&&_T(o.target)){const{prefix:l,iconName:c}=Kh(M1(o.target));o.target.setAttribute(L1,l||a),c&&o.target.setAttribute(P1,c)}else AT(o.target)&&n(o.target)})}),fs&&wh.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function MT(){wh&&wh.disconnect()}function DT(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function TT(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=Kh(M1(t));return i.prefix||(i.prefix=Gs()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=rT(i.prefix,t.innerText)||E1(i.prefix,Lp(t.innerText))),!i.iconName&&ne.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function ET(t){const e=$o(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ne.autoA11y&&(n?e["aria-labelledby"]="".concat(ne.replacementClass,"-title-").concat(r||cc()):(e["aria-hidden"]="true",e.focusable="false")),e}function IT(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Li,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Rg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=TT(t),s=ET(t),a=Np("parseNodeAttributes",{},t);let o=e.styleParser?DT(t):[];return Ut({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Li,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s}},a)}const{styles:FT}=Pi;function Py(t){const e=ne.autoReplaceSvg==="nest"?Rg(t,{styleParser:!1}):Rg(t);return~e.extra.classes.indexOf(ly)?Ys("generateLayersText",t,e):Ys("generateSvgReplacementMutation",t,e)}function OT(){return[...gD,...xp]}function jg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!fs)return Promise.resolve();const n=Ze.documentElement.classList,r=u=>n.add("".concat(Ag,"-").concat(u)),i=u=>n.remove("".concat(Ag,"-").concat(u)),s=ne.autoFetchSvg?OT():ey.concat(Object.keys(FT));s.includes("fa")||s.push("fa");const a=[".".concat(ly,":not([").concat(Ca,"])")].concat(s.map(u=>".".concat(u,":not([").concat(Ca,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=$o(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();const l=F1.begin("onTree"),c=o.reduce((u,d)=>{try{const p=Py(d);p&&u.push(p)}catch(p){ay||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise((u,d)=>{Promise.all(c).then(p=>{Cy(p,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),u()})}).catch(p=>{l(),d(p)})})}function RT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Py(t).then(n=>{n&&Cy([n],e)})}function jT(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Mp(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Mp(i||{})),t(r,Ut(Ut({},n),{},{mask:i}))}}const BT=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Li,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:l=[],attributes:c={},styles:u={}}=e;if(!t)return;const{prefix:d,iconName:p,icon:f}=t;return Xh(Ut({type:"icon"},t),()=>(La("beforeDOMElementCreation",{iconDefinition:t,params:e}),ne.autoA11y&&(a?c["aria-labelledby"]="".concat(ne.replacementClass,"-title-").concat(o||cc()):(c["aria-hidden"]="true",c.focusable="false")),I1({icons:{main:Dp(f),mask:i?Dp(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:p,transform:Ut(Ut({},Li),n),symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:c,styles:u,classes:l}})))};var zT={mixout(){return{icon:jT(BT)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=jg,t.nodeCallback=RT,t}}},provides(t){t.i2svg=function(e){const{node:n=Ze,callback:r=()=>{}}=e;return jg(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:a,transform:o,symbol:l,mask:c,maskId:u,extra:d}=n;return new Promise((p,f)=>{Promise.all([Tp(r,a),c.iconName?Tp(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[v,k]=w;p([e,I1({icons:{main:v,mask:k},prefix:a,iconName:r,transform:o,symbol:l,maskId:u,title:i,titleId:s,extra:d,watchable:!0})])}).catch(f)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:a}=e;const o=Gh(a);o.length>0&&(r.style=o);let l;return D1(s)&&(l=Ys("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},qT={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Xh({type:"layer"},()=>{La("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(ne.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},WT={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Xh({type:"counter",content:t},()=>(La("beforeDOMElementCreation",{content:t,params:e}),wT({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(ne.cssPrefix,"-layers-counter"),...r]}})))}}}},UT={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Li,title:r=null,classes:i=[],attributes:s={},styles:a={}}=e;return Xh({type:"text",content:t},()=>(La("beforeDOMElementCreation",{content:t,params:e}),Tg({content:t,transform:Ut(Ut({},Li),n),title:r,extra:{attributes:s,styles:a,classes:["".concat(ne.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let a=null,o=null;if(Zv){const l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();a=c.width/l,o=c.height/l}return ne.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,Tg({content:e.innerHTML,width:a,height:o,transform:i,title:r,extra:s,watchable:!0})])}}};const $T=new RegExp('"',"ug"),Bg=[1105920,1112319],zg=Ut(Ut(Ut(Ut({},{FontAwesome:{normal:"fas",400:"fas"}}),dD),MD),SD),Fp=Object.keys(zg).reduce((t,e)=>(t[e.toLowerCase()]=zg[e],t),{}),HT=Object.keys(Fp).reduce((t,e)=>{const n=Fp[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function VT(t){const e=t.replace($T,""),n=QD(e,0),r=n>=Bg[0]&&n<=Bg[1],i=e.length===2?e[0]===e[1]:!1;return{value:Lp(i?e[0]:e),isSecondary:r||i}}function GT(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(Fp[n]||{})[i]||HT[n]}function qg(t,e){const n="".concat(DD).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const a=$o(t.children).filter(p=>p.getAttribute(Sp)===e)[0],o=Vs.getComputedStyle(t,e),l=o.getPropertyValue("font-family"),c=l.match(OD),u=o.getPropertyValue("font-weight"),d=o.getPropertyValue("content");if(a&&!c)return t.removeChild(a),r();if(c&&d!=="none"&&d!==""){const p=o.getPropertyValue("content");let f=GT(l,u);const{value:w,isSecondary:v}=VT(p),k=c[0].startsWith("FontAwesome");let y=E1(f,w),x=y;if(k){const N=iT(w);N.iconName&&N.prefix&&(y=N.iconName,f=N.prefix)}if(y&&!v&&(!a||a.getAttribute(L1)!==f||a.getAttribute(P1)!==x)){t.setAttribute(n,x),a&&t.removeChild(a);const N=IT(),{extra:L}=N;L.attributes[Sp]=e,Tp(y,f).then(j=>{const it=I1(Ut(Ut({},N),{},{icons:{main:j,mask:ky()},prefix:f,iconName:x,extra:L,watchable:!0})),J=Ze.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(J,t.firstChild):t.appendChild(J),J.outerHTML=it.map(G=>Ac(G)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function YT(t){return Promise.all([qg(t,"::before"),qg(t,"::after")])}function KT(t){return t.parentNode!==document.head&&!~ED.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Sp)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Wg(t){if(fs)return new Promise((e,n)=>{const r=$o(t.querySelectorAll("*")).filter(KT).map(YT),i=F1.begin("searchPseudoElements");Ly(),Promise.all(r).then(()=>{i(),Ip(),e()}).catch(()=>{i(),Ip(),n()})})}var XT={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=Wg,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Ze}=e;ne.searchPseudoElements&&Wg(n)}}};let Ug=!1;var JT={mixout(){return{dom:{unwatch(){Ly(),Ug=!0}}}},hooks(){return{bootstrap(){Og(Np("mutationObserverCallbacks",{}))},noAuto(){MT()},watch(t){const{observeMutationsRoot:e}=t;Ug?Ip():Og(Np("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const $g=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let a=i.slice(1).join("-");if(s&&a==="h")return n.flipX=!0,n;if(s&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(s){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var QT={mixout(){return{parse:{transform:t=>$g(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=$g(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),u={transform:"".concat(o," ").concat(l," ").concat(c)},d={transform:"translate(".concat(s/2*-1," -256)")},p={outer:a,inner:u,path:d};return{tag:"g",attributes:Ut({},p.outer),children:[{tag:"g",attributes:Ut({},p.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Ut(Ut({},n.icon.attributes),p.path)}]}]}}}};const Ed={x:0,y:0,width:"100%",height:"100%"};function Hg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ZT(t){return t.tag==="g"?t.children:[t]}var tE={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Kh(n.split(" ").map(i=>i.trim())):ky();return r.prefix||(r.prefix=Gs()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:a,transform:o}=e;const{width:l,icon:c}=i,{width:u,icon:d}=s,p=VD({transform:o,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:Ut(Ut({},Ed),{},{fill:"white"})},w=c.children?{children:c.children.map(Hg)}:{},v={tag:"g",attributes:Ut({},p.inner),children:[Hg(Ut({tag:c.tag,attributes:Ut(Ut({},c.attributes),p.path)},w))]},k={tag:"g",attributes:Ut({},p.outer),children:[v]},y="mask-".concat(a||cc()),x="clip-".concat(a||cc()),N={tag:"mask",attributes:Ut(Ut({},Ed),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,k]},L={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:ZT(d)},N]};return n.push(L,{tag:"rect",attributes:Ut({fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(y,")")},Ed)}),{children:n,attributes:r}}}},eE={provides(t){let e=!1;Vs.matchMedia&&(e=Vs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Ut(Ut({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=Ut(Ut({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Ut(Ut({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:Ut(Ut({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ut(Ut({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(a),n.push({tag:"path",attributes:Ut(Ut({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Ut(Ut({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:Ut(Ut({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ut(Ut({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},nE={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},rE=[KD,zT,qT,WT,UT,XT,JT,QT,tE,eE,nE];dT(rE,{mixoutsTo:Lr});Lr.noAuto;Lr.config;const iE=Lr.library;Lr.dom;const Op=Lr.parse;Lr.findIconDefinition;Lr.toHtml;const sE=Lr.icon;Lr.layer;Lr.text;Lr.counter;function Vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vg(Object(n),!0).forEach(function(r){cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aE(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oE(t){var e=aE(t,"string");return typeof e=="symbol"?e:e+""}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function cr(t,e,n){return e=oE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lE(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cE(t,e){if(t==null)return{};var n=lE(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ny={exports:{}};(function(t){(function(e){var n=function(y,x,N){if(!c(x)||d(x)||p(x)||f(x)||l(x))return x;var L,j=0,it=0;if(u(x))for(L=[],it=x.length;j<it;j++)L.push(n(y,x[j],N));else{L={};for(var J in x)Object.prototype.hasOwnProperty.call(x,J)&&(L[y(J,N)]=n(y,x[J],N))}return L},r=function(y,x){x=x||{};var N=x.separator||"_",L=x.split||/(?=[A-Z])/;return y.split(L).join(N)},i=function(y){return w(y)?y:(y=y.replace(/[\-_\s]+(.)?/g,function(x,N){return N?N.toUpperCase():""}),y.substr(0,1).toLowerCase()+y.substr(1))},s=function(y){var x=i(y);return x.substr(0,1).toUpperCase()+x.substr(1)},a=function(y,x){return r(y,x).toLowerCase()},o=Object.prototype.toString,l=function(y){return typeof y=="function"},c=function(y){return y===Object(y)},u=function(y){return o.call(y)=="[object Array]"},d=function(y){return o.call(y)=="[object Date]"},p=function(y){return o.call(y)=="[object RegExp]"},f=function(y){return o.call(y)=="[object Boolean]"},w=function(y){return y=y-0,y===y},v=function(y,x){var N=x&&"process"in x?x.process:x;return typeof N!="function"?y:function(L,j){return N(L,y,j)}},k={camelize:i,decamelize:a,pascalize:s,depascalize:a,camelizeKeys:function(y,x){return n(v(i,x),y)},decamelizeKeys:function(y,x){return n(v(a,x),y,x)},pascalizeKeys:function(y,x){return n(v(s,x),y)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=k:e.humps=k})(uE)})(Ny);var hE=Ny.exports,fE=["class","style"];function dE(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=hE.camelize(n.slice(0,r)),s=n.slice(r+1).trim();return e[i]=s,e},{})}function pE(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function My(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(l){return My(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,c){var u=t.attributes[c];switch(c){case"class":l.class=pE(u);break;case"style":l.style=dE(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var s=n.style,a=s===void 0?{}:s,o=cE(n,fE);return e1(t.tag,es(es(es({},e),{},{class:i.class,style:es(es({},i.style),a)},i.attrs),o),r)}var Dy=!1;try{Dy=!0}catch{}function mE(){if(!Dy&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Id(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?cr({},t,e):{}}function gE(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},cr(cr(cr(cr(cr(cr(cr(cr(cr(cr(e,"fa-".concat(t.size),t.size!==null),"fa-rotate-".concat(t.rotation),t.rotation!==null),"fa-pull-".concat(t.pull),t.pull!==null),"fa-swap-opacity",t.swapOpacity),"fa-bounce",t.bounce),"fa-shake",t.shake),"fa-beat",t.beat),"fa-fade",t.fade),"fa-beat-fade",t.beatFade),"fa-flash",t.flash),cr(cr(e,"fa-spin-pulse",t.spinPulse),"fa-spin-reverse",t.spinReverse));return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function Gg(t){if(t&&xh(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Op.icon)return Op.icon(t);if(t===null)return null;if(xh(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var vE=pc({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=Ce(function(){return Gg(e.icon)}),s=Ce(function(){return Id("classes",gE(e))}),a=Ce(function(){return Id("transform",typeof e.transform=="string"?Op.transform(e.transform):e.transform)}),o=Ce(function(){return Id("mask",Gg(e.mask))}),l=Ce(function(){return sE(i.value,es(es(es(es({},s.value),a.value),o.value),{},{symbol:e.symbol,title:e.title,titleId:e.titleId,maskId:e.maskId}))});zr(l,function(u){if(!u)return mE("Could not find one or more icon(s)",i.value,o.value)},{immediate:!0});var c=Ce(function(){return l.value?My(l.value.abstract[0],{},r):null});return function(){return c.value}}});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const yE={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},bE={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},wE={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},xE={prefix:"fas",iconName:"sitemap",icon:[576,512,[],"f0e8","M208 80c0-26.5 21.5-48 48-48l64 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-8 0 0 40 152 0c30.9 0 56 25.1 56 56l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-4.4-3.6-8-8-8l-152 0 0 40 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-40-152 0c-4.4 0-8 3.6-8 8l0 32 8 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-64 0c-26.5 0-48-21.5-48-48l0-64c0-26.5 21.5-48 48-48l8 0 0-32c0-30.9 25.1-56 56-56l152 0 0-40-8 0c-26.5 0-48-21.5-48-48l0-64z"]},kE={prefix:"fas",iconName:"clipboard",icon:[384,512,[128203],"f328","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},SE={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3L344 320c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},_E={prefix:"fas",iconName:"cloud-arrow-down",icon:[640,512,[62337,"cloud-download","cloud-download-alt"],"f0ed","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-167l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39L344 184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 134.1-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z"]},AE={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},CE={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},LE={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},PE={prefix:"fas",iconName:"pen-fancy",icon:[512,512,[128395,10002],"f5ac","M373.5 27.1C388.5 9.9 410.2 0 433 0c43.6 0 79 35.4 79 79c0 22.8-9.9 44.6-27.1 59.6L277.7 319l-10.3-10.3-64-64L193 234.3 373.5 27.1zM170.3 256.9l10.4 10.4 64 64 10.4 10.4-19.2 83.4c-3.9 17.1-16.9 30.7-33.8 35.4L24.3 510.3l95.4-95.4c2.6 .7 5.4 1.1 8.3 1.1c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32c0 2.9 .4 5.6 1.1 8.3L1.7 487.6 51.5 310c4.7-16.9 18.3-29.9 35.4-33.8l83.4-19.2z"]},NE={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},ME={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},DE={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},TE={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},EE={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"]},IE={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},FE={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]};iE.add(TE,FE,yE,wE,SE,LE,PE,ME,AE,NE,EE,IE,xE,bE,DE,_E,kE,CE);localStorage.removeItem("userData");Ts.dispatch("logout");const OE=()=>{const t=document.createElement("style");t.id="kofi-style-control",t.textContent=".floatingchat-container-wrap { display: none !important; }",document.head.appendChild(t);const e=()=>{const r=document.getElementById("kofi-style-control");r&&(window.location.pathname==="/about"?r.textContent=".floatingchat-container-wrap { display: block !important; }":r.textContent=".floatingchat-container-wrap { display: none !important; }")};new MutationObserver(r=>{for(const i of r)i.type==="childList"&&i.addedNodes.length&&document.querySelectorAll(".floatingchat-container-wrap").length>0&&e()}).observe(document.body,{childList:!0,subtree:!0,attributes:!0}),wr.beforeEach((r,i,s)=>{s()}),wr.afterEach(r=>{})},RE=async()=>{try{const t=new AbortController,e=setTimeout(()=>t.abort(),2e3),n=await fetch("/version",{method:"GET",signal:t.signal});return clearTimeout(e),n.ok?await n.text()?!0:(console.warn("Backend returned empty response, keeping logout state"),!1):(console.warn("Backend unavailable (error response), keeping logout state"),!1)}catch(t){return console.error("Error connecting to backend:",t),!1}},jE=async()=>{const t=await RE();t&&(await Ts.dispatch("loadUserDataFromStorage"),await Ts.dispatch("fetchUserData").catch(n=>{console.error("Failed to fetch user data, keeping logout state",n)})),t&&(Ts.dispatch("fetchDictionaryData").then(async n=>{if(n&&n.hsk1&&n.hsk1.chars)try{const r=Array.isArray(n.hsk1.chars)?n.hsk1.chars:Object.keys(n.hsk1.chars);if(r.length>0){const i=Math.floor(Math.random()*r.length),s=r[i];await Ts.dispatch("preloadPracticeCharacterStrokes",s)}}catch(r){console.error("Error preloading HSK1 character:",r)}}),Ts.getters.isLoggedIn&&Ts.dispatch("fetchCustomDictionaryData"));const e=T3(QA);e.component("font-awesome-icon",vE),e.use(O3()),e.use(Ts),e.use(wr),e.config.globalProperties.$toAccentedPinyin=R3,e.mount("#app"),OE()};jE();export{Re as _,BE as c,b1 as g};
